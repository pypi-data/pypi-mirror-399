Metadata-Version: 2.4
Name: oiafed
Version: 0.2.1
Summary: OiaFed: One Framework for All Federation - A unified, modular, and extensible federated learning framework supporting all federation scenarios
Project-URL: Homepage, https://oiafed.cn
Project-URL: Documentation, https://docs.oiafed.cn
Project-URL: Repository, https://github.com/oiafed/oiafed
Project-URL: Issues, https://github.com/oiafed/oiafed/issues
Project-URL: Changelog, https://github.com/oiafed/oiafed/blob/main/CHANGELOG.md
Author-email: OiaFed Team <contact@oiafed.com>
Maintainer-email: OiaFed Team <contact@oiafed.com>
License: MIT
License-File: LICENSE
Keywords: continual-learning,deep-learning,distributed-computing,federated-learning,machine-learning,personalized-federated-learning,privacy-preserving
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Science/Research
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Topic :: System :: Distributed Computing
Requires-Python: >=3.10
Provides-Extra: all
Requires-Dist: black>=22.0.0; extra == 'all'
Requires-Dist: flake8>=5.0.0; extra == 'all'
Requires-Dist: isort>=5.10.0; extra == 'all'
Requires-Dist: mlflow>=2.0.0; extra == 'all'
Requires-Dist: mypy>=0.990; extra == 'all'
Requires-Dist: myst-parser>=0.18.0; extra == 'all'
Requires-Dist: pytest-asyncio>=0.20.0; extra == 'all'
Requires-Dist: pytest-cov>=4.0.0; extra == 'all'
Requires-Dist: pytest-html>=3.2.0; extra == 'all'
Requires-Dist: pytest>=7.0.0; extra == 'all'
Requires-Dist: sphinx-rtd-theme>=1.0.0; extra == 'all'
Requires-Dist: sphinx>=5.0.0; extra == 'all'
Provides-Extra: dependencies
Requires-Dist: aiohttp>=3.8.0; extra == 'dependencies'
Requires-Dist: grpcio-tools>=1.50.0; extra == 'dependencies'
Requires-Dist: grpcio>=1.50.0; extra == 'dependencies'
Requires-Dist: loguru>=0.6.0; extra == 'dependencies'
Requires-Dist: matplotlib>=3.5.0; extra == 'dependencies'
Requires-Dist: numpy>=1.21.0; extra == 'dependencies'
Requires-Dist: omegaconf>=2.2.0; extra == 'dependencies'
Requires-Dist: openpyxl>=3.0.0; extra == 'dependencies'
Requires-Dist: pandas>=1.4.0; extra == 'dependencies'
Requires-Dist: protobuf>=3.20.0; extra == 'dependencies'
Requires-Dist: psutil>=5.9.0; extra == 'dependencies'
Requires-Dist: pyyaml>=6.0; extra == 'dependencies'
Requires-Dist: scikit-learn>=1.0.0; extra == 'dependencies'
Requires-Dist: toml>=0.10.0; extra == 'dependencies'
Requires-Dist: torch>=1.12.0; extra == 'dependencies'
Requires-Dist: torchaudio>=0.12.0; extra == 'dependencies'
Requires-Dist: torchvision>=0.13.0; extra == 'dependencies'
Requires-Dist: tqdm>=4.60.0; extra == 'dependencies'
Provides-Extra: dev
Requires-Dist: black>=22.0.0; extra == 'dev'
Requires-Dist: flake8>=5.0.0; extra == 'dev'
Requires-Dist: isort>=5.10.0; extra == 'dev'
Requires-Dist: mypy>=0.990; extra == 'dev'
Requires-Dist: pytest-asyncio>=0.20.0; extra == 'dev'
Requires-Dist: pytest-cov>=4.0.0; extra == 'dev'
Requires-Dist: pytest-html>=3.2.0; extra == 'dev'
Requires-Dist: pytest>=7.0.0; extra == 'dev'
Provides-Extra: docs
Requires-Dist: myst-parser>=0.18.0; extra == 'docs'
Requires-Dist: sphinx-rtd-theme>=1.0.0; extra == 'docs'
Requires-Dist: sphinx>=5.0.0; extra == 'docs'
Provides-Extra: mlflow
Requires-Dist: mlflow>=2.0.0; extra == 'mlflow'
Description-Content-Type: text/markdown

<div align="center">

# ğŸŒ OiaFed

**One Framework for All Federation**

*ç»Ÿä¸€çš„è”é‚¦å­¦ä¹ æ¡†æ¶ï¼Œä¸€å¥—ä»£ç é€‚é…æ‰€æœ‰è”é‚¦åœºæ™¯*

[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![PyPI version](https://img.shields.io/pypi/v/oiafed.svg)](https://pypi.org/project/oiafed/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![PyTorch](https://img.shields.io/badge/PyTorch-1.12+-ee4c2c.svg)](https://pytorch.org/)

[English](README_EN.md) | ç®€ä½“ä¸­æ–‡

[å®˜ç½‘](https://oiafed.cn) Â· [æ–‡æ¡£](https://docs.oiafed.cn) Â· [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) Â· [CLI å‘½ä»¤](#-cli-å‘½ä»¤å‚è€ƒ)

</div>

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ”„ ä¸‰ç§è¿è¡Œæ¨¡å¼ï¼Œé…ç½®åˆ‡æ¢

**åŒä¸€å¥—ä»£ç ï¼Œä¸åŒæ¨¡å¼æ— ç¼åˆ‡æ¢**â€”â€”ä»æœ¬åœ°è°ƒè¯•åˆ°ç”Ÿäº§éƒ¨ç½²ï¼Œåªéœ€ä¿®æ”¹é…ç½®ï¼š

| æ¨¡å¼ | transport | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|-----------|------|----------|
| **Serialï¼ˆä¸²è¡Œï¼‰** | `memory` | å•è¿›ç¨‹é¡ºåºæ‰§è¡Œï¼Œæ–¹ä¾¿æ–­ç‚¹è°ƒè¯• | ç®—æ³•å¼€å‘ã€ä»£ç è°ƒè¯• |
| **Parallelï¼ˆå¹¶è¡Œï¼‰** | `grpc` | å¤šè¿›ç¨‹æœ¬åœ°æ¨¡æ‹Ÿï¼ŒçœŸå®å¹¶å‘é€šä¿¡ | æœ¬åœ°æµ‹è¯•ã€æ€§èƒ½éªŒè¯ |
| **Distributedï¼ˆåˆ†å¸ƒå¼ï¼‰** | `grpc` | å¤šæœºéƒ¨ç½²ï¼Œé…ç½®ä¸åŒ IP åœ°å€ | ç”Ÿäº§ç¯å¢ƒã€çœŸå®è”é‚¦ |

```bash
# ä¸²è¡Œè°ƒè¯•ï¼ˆå•è¿›ç¨‹ï¼Œå¯æ–­ç‚¹ï¼‰
python -m oiafed.cli run --paper fedavg -n 5 --mode serial

# æœ¬åœ°å¹¶è¡Œï¼ˆå¤šè¿›ç¨‹ï¼ŒgRPC é€šä¿¡ï¼‰
python -m oiafed.cli run --paper fedavg -n 10 --mode parallel

# åˆ†å¸ƒå¼éƒ¨ç½²ï¼ˆå¤šæœºï¼Œéœ€è¦æ‰‹åŠ¨é…ç½®å„èŠ‚ç‚¹ IPï¼‰
# åœ¨ä¸åŒæœºå™¨ä¸Šåˆ†åˆ«è¿è¡Œå„èŠ‚ç‚¹çš„é…ç½®æ–‡ä»¶
python -m oiafed.cli run --config configs/distributed/trainer.yaml   # æœºå™¨ A
python -m oiafed.cli run --config configs/distributed/learner_0.yaml # æœºå™¨ B
python -m oiafed.cli run --config configs/distributed/learner_1.yaml # æœºå™¨ C
```

### ğŸ§© é«˜åº¦æ¨¡å—åŒ–ï¼Œæ‰©å±•çµæ´»

**æ’ä»¶å¼æ¶æ„**â€”â€”æ¯ä¸ªç»„ä»¶ç‹¬ç«‹å¯æ›¿æ¢ï¼Œè½»æ¾é€‚é…ä¸åŒè”é‚¦åœºæ™¯ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        OiaFed æ¶æ„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¯ åœºæ™¯å±‚    HFL â”‚ VFL â”‚ FCL â”‚ PFL â”‚ FU â”‚ Async â”‚ Hierarchical â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“¦ ç»„ä»¶å±‚    Trainer Â· Learner Â· Aggregator Â· Callback         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”Œ é€šä¿¡å±‚    Node Â· Proxy Â· Transport (Memory / gRPC)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Learner**ï¼šå®¢æˆ·ç«¯å­¦ä¹ ç®—æ³•ï¼ˆFedAvgã€MOONã€SplitNN...ï¼‰
- **Aggregator**ï¼šèšåˆç­–ç•¥ï¼ˆåŠ æƒå¹³å‡ã€åŠ¨é‡ã€è‡ªé€‚åº”...ï¼‰
- **Trainer**ï¼šè®­ç»ƒæµç¨‹æ§åˆ¶ï¼ˆåŒæ­¥ã€å¼‚æ­¥ã€å±‚æ¬¡åŒ–...ï¼‰
- **Callback**ï¼šç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆæ—¥å¿—ã€æ£€æŸ¥ç‚¹ã€æ—©åœ...ï¼‰

### ğŸ—ï¸ å¤šä¸»ä½“æ¶æ„ï¼Œçµæ´»æ‹“æ‰‘

**ä¸ä»…ä»…æ˜¯ 1 Server + N Clients**â€”â€”é€šè¿‡é…ç½®æ–‡ä»¶æ”¯æŒå¤æ‚çš„å¤šè§’è‰²æ¶æ„ï¼š

```yaml
# åˆ†å¸ƒå¼é…ç½®ç¤ºä¾‹ï¼šTrainer åœ¨æœºå™¨ Aï¼ŒLearners åœ¨æœºå™¨ Bã€C
# trainer.yaml (æœºå™¨ A: 192.168.1.100)
node_id: trainer
role: trainer
listen:
  host: 0.0.0.0
  port: 50051
min_peers: 2
transport:
  mode: grpc

# learner_0.yaml (æœºå™¨ B: 192.168.1.101)
node_id: learner_0
role: learner
peers:
  - host: 192.168.1.100  # Trainer åœ°å€
    port: 50051
transport:
  mode: grpc
```

æ”¯æŒçš„æ¶æ„æ¨¡å¼ï¼š
- **æ˜Ÿå½¢**ï¼š1 Trainer + N Learnersï¼ˆæœ€å¸¸ç”¨ï¼‰
- **å¤š Trainer**ï¼šå¤šä¸ª Trainer åè°ƒï¼ˆéœ€è‡ªå®šä¹‰ Trainerï¼‰
- **å±‚æ¬¡åŒ–**ï¼šé€šè¿‡åµŒå¥—é…ç½®å®ç° Cloud â†’ Edge â†’ Clients

---

## ğŸ¯ æ”¯æŒçš„è”é‚¦åœºæ™¯

| åœºæ™¯ | æè¿° | å†…ç½®ç®—æ³• |
|------|------|----------|
| **æ¨ªå‘è”é‚¦ (HFL)** | æ ·æœ¬åˆ’åˆ†ï¼Œç‰¹å¾ç›¸åŒ | FedAvg, FedProx, SCAFFOLD, MOON, FedBN... |
| **çºµå‘è”é‚¦ (VFL)** | ç‰¹å¾åˆ’åˆ†ï¼Œæ ·æœ¬ç›¸åŒ | SplitNN |
| **è”é‚¦æŒç»­å­¦ä¹  (FCL)** | ä»»åŠ¡åºåˆ—ï¼Œé¿å…é—å¿˜ | TARGET, GLFC, FOT, FedKNOW... |
| **ä¸ªæ€§åŒ–è”é‚¦ (PFL)** | å®¢æˆ·ç«¯ä¸ªæ€§åŒ–æ¨¡å‹ | FedPer, FedRep, FedBABU, FedProto... |
| **è”é‚¦é—å¿˜ (FU)** | é€‰æ‹©æ€§é—å¿˜æ•°æ® | FadEraser |
| **å¼‚æ­¥è”é‚¦** | éåŒæ­¥æ›´æ–° | FedAsync |

---

## ğŸ“¦ å®‰è£…

### ä½¿ç”¨ pip

```bash
pip install oiafed
```

### ä»æºç å®‰è£…

```bash
git clone https://github.com/oiafed/oiafed.git
cd oiafed
pip install -e .

# åŒ…å« MLflow è¿½è¸ªï¼ˆå¯é€‰ï¼‰
pip install -e ".[mlflow]"

# å¼€å‘ç¯å¢ƒ
pip install -e ".[dev]"
```

### ä¾èµ–è¦æ±‚

- Python >= 3.10
- PyTorch >= 1.12
- gRPCï¼ˆè‡ªåŠ¨å®‰è£…ï¼‰

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 30 ç§’è¿è¡Œç¬¬ä¸€ä¸ªå®éªŒ

```bash
# å®‰è£…
pip install oiafed

# è¿è¡Œ FedAvgï¼Œ10 ä¸ªå®¢æˆ·ç«¯ï¼Œ50 è½®
python -m oiafed.cli run --paper fedavg -n 10 --rounds 50
```

### ä½¿ç”¨ä¸åŒç®—æ³•

```bash
# æ¨ªå‘è”é‚¦
python -m oiafed.cli run --paper fedavg -n 10      # FedAvg
python -m oiafed.cli run --paper moon -n 5         # MOONï¼ˆå¯¹æ¯”å­¦ä¹ ï¼‰
python -m oiafed.cli run --paper scaffold -n 10    # SCAFFOLDï¼ˆæ–¹å·®ä¿®æ­£ï¼‰

# çºµå‘è”é‚¦
python -m oiafed.cli run --paper splitnn -n 2      # SplitNN

# è”é‚¦æŒç»­å­¦ä¹ 
python -m oiafed.cli run --paper target -n 5       # TARGET
python -m oiafed.cli run --paper glfc -n 5         # GLFC

# ä¸ªæ€§åŒ–è”é‚¦
python -m oiafed.cli run --paper fedper -n 10      # FedPer
python -m oiafed.cli run --paper fedproto -n 10    # FedProto
```

### åˆ‡æ¢è¿è¡Œæ¨¡å¼

```bash
# ä¸²è¡Œæ¨¡å¼ï¼ˆå•è¿›ç¨‹ï¼Œå¯æ–­ç‚¹è°ƒè¯•ï¼‰
python -m oiafed.cli run --paper fedavg -n 5 --mode serial

# å¹¶è¡Œæ¨¡å¼ï¼ˆé»˜è®¤ï¼Œæœ¬åœ°å¤šè¿›ç¨‹ + gRPCï¼‰
python -m oiafed.cli run --paper fedavg -n 10 --mode parallel

# åˆ†å¸ƒå¼æ¨¡å¼ï¼šæ‰‹åŠ¨åœ¨ä¸åŒæœºå™¨è¿è¡Œå„èŠ‚ç‚¹é…ç½®
# éœ€è¦å…ˆç”Ÿæˆé…ç½®æ–‡ä»¶ï¼Œç„¶ååˆ†å‘åˆ°å„æœºå™¨
python -m oiafed.cli run --paper fedavg -n 3 --save-config ./dist_configs/
# ç„¶ååœ¨å„æœºå™¨ä¸Šåˆ†åˆ«è¿è¡Œå¯¹åº”çš„é…ç½®æ–‡ä»¶
```

### è‡ªå®šä¹‰å‚æ•°

```bash
# è¦†ç›–é»˜è®¤å‚æ•°
python -m oiafed.cli run --paper fedavg -n 10 \
    --rounds 100 \
    --local-epochs 5 \
    --lr 0.01 \
    --batch-size 32 \
    --seed 42

# ä½¿ç”¨åŸºç¡€é…ç½®æ–‡ä»¶
python -m oiafed.cli run --paper fedavg -n 10 --config configs/base.yaml

# é¢„è§ˆé…ç½®ï¼ˆä¸è¿è¡Œï¼‰
python -m oiafed.cli run --paper fedavg -n 10 --dry-run

# ä¿å­˜ç”Ÿæˆçš„é…ç½®
python -m oiafed.cli run --paper fedavg -n 10 --save-config ./my_configs/
```

---

## ğŸ–¥ï¸ CLI å‘½ä»¤å‚è€ƒ

### run - è¿è¡Œå®éªŒ

```bash
python -m oiafed.cli run [OPTIONS]

# è®ºæ–‡æ¨¡å¼ï¼ˆå¿«é€Ÿå¤ç°ï¼‰
python -m oiafed.cli run --paper <paper_id> -n <num_clients> [OPTIONS]

# é…ç½®æ¨¡å¼ï¼ˆè‡ªå®šä¹‰å®éªŒï¼‰
python -m oiafed.cli run --config <config_path> [OPTIONS]
```

**é€‰é¡¹è¯´æ˜ï¼š**

| é€‰é¡¹ | çŸ­å†™ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `--paper` | | è®ºæ–‡ ID | `--paper fedavg` |
| `--num-clients` | `-n` | å®¢æˆ·ç«¯æ•°é‡ | `-n 10` |
| `--config` | `-c` | é…ç½®æ–‡ä»¶/ç›®å½• | `--config configs/exp.yaml` |
| `--mode` | `-m` | è¿è¡Œæ¨¡å¼ | `--mode serial` |
| `--rounds` | | è®­ç»ƒè½®æ•° | `--rounds 100` |
| `--local-epochs` | | æœ¬åœ°è®­ç»ƒè½®æ•° | `--local-epochs 5` |
| `--lr` | | å­¦ä¹ ç‡ | `--lr 0.01` |
| `--batch-size` | | æ‰¹å¤§å° | `--batch-size 64` |
| `--seed` | | éšæœºç§å­ | `--seed 42` |
| `--dry-run` | | ä»…é¢„è§ˆé…ç½® | `--dry-run` |
| `--save-config` | | ä¿å­˜é…ç½®åˆ°ç›®å½• | `--save-config ./configs/` |
| `--log-level` | | æ—¥å¿—çº§åˆ« | `--log-level DEBUG` |

### papers - è®ºæ–‡ç®¡ç†

```bash
# åˆ—å‡ºæ‰€æœ‰è®ºæ–‡
python -m oiafed.cli papers list

# æŒ‰ç±»åˆ«ç­›é€‰
python -m oiafed.cli papers list --category HFL    # æ¨ªå‘è”é‚¦
python -m oiafed.cli papers list --category VFL    # çºµå‘è”é‚¦
python -m oiafed.cli papers list --category FCL    # è”é‚¦æŒç»­å­¦ä¹ 
python -m oiafed.cli papers list --category PFL    # ä¸ªæ€§åŒ–è”é‚¦
python -m oiafed.cli papers list --category FU     # è”é‚¦é—å¿˜

# æŸ¥çœ‹è®ºæ–‡è¯¦æƒ…
python -m oiafed.cli papers show fedavg
python -m oiafed.cli papers show moon --params     # åŒ…å«å¯è°ƒå‚æ•°

# ç”Ÿæˆé…ç½®æ¨¡æ¿
python -m oiafed.cli papers init fedavg -n 10 -o ./my_experiment/
```

### å…¶ä»–å‘½ä»¤

```bash
# éªŒè¯é…ç½®æ–‡ä»¶
python -m oiafed.cli validate --config config.yaml

# åˆ—å‡ºå·²æ³¨å†Œç»„ä»¶
python -m oiafed.cli list aggregators
python -m oiafed.cli list learners
python -m oiafed.cli list models

# æŸ¥çœ‹ç‰ˆæœ¬
python -m oiafed.cli version

# å¸®åŠ©
python -m oiafed.cli --help
python -m oiafed.cli run --help
python -m oiafed.cli papers --help
```

---

## âš™ï¸ é…ç½®ç³»ç»Ÿ

### ä¸‰å±‚é…ç½®ä¼˜å…ˆçº§

```
CLI å‚æ•°ï¼ˆæœ€é«˜ï¼‰  >  é…ç½®æ–‡ä»¶  >  è®ºæ–‡é»˜è®¤å€¼ï¼ˆæœ€ä½ï¼‰
```

### åŸºç¡€é…ç½®æ¨¡æ¿

```yaml
# configs/base.yaml
exp_name: my_experiment
seed: 42

# è¿è¡Œæ¨¡å¼
mode: parallel  # serial | parallel | distributed

# è®­ç»ƒé…ç½®
trainer:
  type: default
  args:
    max_rounds: 100
    local_epochs: 5
    
# èšåˆå™¨
aggregator:
  type: fedavg
  
# æ¨¡å‹
model:
  type: simple_cnn
  args:
    num_classes: 10

# æ•°æ®é›†
datasets:
  - type: cifar10
    split: train
    partition:
      strategy: dirichlet
      num_partitions: 10
      config:
        alpha: 0.5

# æ—¥å¿—
logging:
  level: INFO
  console: true

# å®éªŒè¿½è¸ªï¼ˆå¯é€‰ï¼‰
tracker:
  enabled: true
  backends:
    - type: mlflow
      tracking_uri: ./mlruns
```

### æ•°æ®åˆ’åˆ†ç­–ç•¥

```yaml
partition:
  strategy: dirichlet    # iid | dirichlet | label_skew | quantity_skew
  num_partitions: 10
  config:
    alpha: 0.5           # Dirichlet å‚æ•°ï¼Œè¶Šå°è¶Šå¼‚æ„
    seed: 42
```

---

## ğŸ“š å†…ç½®è®ºæ–‡ï¼ˆ26+ï¼‰

### æ¨ªå‘è”é‚¦å­¦ä¹  (HFL)

| è®ºæ–‡ | ID | ä¼šè®® | å…³é”®ç‰¹æ€§ |
|------|-----|------|----------|
| FedAvg | `fedavg` | AISTATS'17 | åŠ æƒå¹³å‡ï¼ŒFL åŸºå‡† |
| FedProx | `fedprox` | MLSys'20 | è¿‘ç«¯é¡¹æ­£åˆ™åŒ– |
| SCAFFOLD | `scaffold` | ICML'20 | æ§åˆ¶å˜é‡æ–¹å·®ä¿®æ­£ |
| FedNova | `fednova` | NeurIPS'20 | å½’ä¸€åŒ–å¹³å‡ |
| FedBN | `fedbn` | ICLR'21 | è·³è¿‡ BN å±‚èšåˆ |
| MOON | `moon` | CVPR'21 | æ¨¡å‹å¯¹æ¯”å­¦ä¹  |
| FedDyn | `feddyn` | ICLR'21 | åŠ¨æ€æ­£åˆ™åŒ– |
| FedPer | `fedper` | NeurIPS-W'19 | ä¸ªæ€§åŒ–å±‚ |
| FedRep | `fedrep` | ICML'21 | è¡¨ç¤ºå­¦ä¹ åˆ†ç¦» |
| FedBABU | `fedbabu` | ICLR'22 | Body å†»ç»“å¾®è°ƒ |
| FedProto | `fedproto` | AAAI'22 | åŸå‹èšåˆ |

### çºµå‘è”é‚¦å­¦ä¹  (VFL)

| è®ºæ–‡ | ID | æ¥æº | å…³é”®ç‰¹æ€§ |
|------|-----|------|----------|
| SplitNN | `splitnn` | MIT'18 | æ¨¡å‹åˆ†å‰²ï¼Œæ¿€æ´»å€¼ä¼ è¾“ |

### è”é‚¦æŒç»­å­¦ä¹  (FCL)

| è®ºæ–‡ | ID | ä¼šè®® | å…³é”®ç‰¹æ€§ |
|------|-----|------|----------|
| TARGET | `target` | CVPR'23 | ä»»åŠ¡æ— å…³è¡¨ç¤º |
| GLFC | `glfc` | CVPR'22 | å…¨å±€-å±€éƒ¨ç‰¹å¾ |
| FOT | `fot` | AAAI'24 | é—å¿˜ä¼˜åŒ–è¿ç§» |
| FedKNOW | `fedknow` | - | çŸ¥è¯†è’¸é¦ |

---

## ğŸ› ï¸ æ‰©å±•å¼€å‘

### è‡ªå®šä¹‰ Learner

```python
from oiafed.core import Learner, TrainResult, EvalResult
from oiafed.registry import learner

@learner("my_learner", description="My custom learner")
class MyLearner(Learner):
    """è‡ªå®šä¹‰å­¦ä¹ å™¨"""
    
    async def train_step(self, batch, batch_idx: int):
        inputs, labels = batch
        outputs = self.model(inputs)
        loss = self.criterion(outputs, labels)
        
        self.optimizer.zero_grad()
        loss.backward()
        self.optimizer.step()
        
        return {"loss": loss.item()}

    async def evaluate(self, config=None) -> EvalResult:
        # è¯„ä¼°é€»è¾‘
        accuracy = self._compute_accuracy()
        return EvalResult(
            num_samples=len(self.test_loader.dataset),
            metrics={"accuracy": accuracy}
        )
```

### è‡ªå®šä¹‰ Aggregator

```python
from oiafed.core import Aggregator, ClientUpdate
from oiafed.registry import aggregator

@aggregator("my_aggregator", description="My custom aggregator")
class MyAggregator(Aggregator):
    """è‡ªå®šä¹‰èšåˆå™¨"""
    
    def aggregate(self, updates: List[ClientUpdate], global_model=None):
        # åŠ æƒå¹³å‡
        total_samples = sum(u.num_samples for u in updates)
        
        aggregated = {}
        for key in updates[0].weights.keys():
            aggregated[key] = sum(
                u.weights[key] * u.num_samples / total_samples
                for u in updates
            )
        
        return aggregated
```

### ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶

```yaml
# config.yaml
learner:
  type: my_learner
  args:
    custom_param: value

aggregator:
  type: my_aggregator
```

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
oiafed/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒæŠ½è±¡ (Trainer, Learner, Aggregator)
â”‚   â”œâ”€â”€ comm/           # é€šä¿¡å±‚ (Node, Transport, gRPC)
â”‚   â”œâ”€â”€ methods/        # å†…ç½®ç®—æ³•
â”‚   â”‚   â”œâ”€â”€ aggregators/    # èšåˆå™¨
â”‚   â”‚   â”œâ”€â”€ learners/       # å­¦ä¹ å™¨ (fl/, cl/, vfl/)
â”‚   â”‚   â”œâ”€â”€ trainers/       # è®­ç»ƒå™¨
â”‚   â”‚   â”œâ”€â”€ models/         # æ¨¡å‹
â”‚   â”‚   â””â”€â”€ datasets/       # æ•°æ®é›†
â”‚   â”œâ”€â”€ papers/         # è®ºæ–‡å®šä¹‰ (YAML)
â”‚   â”œâ”€â”€ config/         # é…ç½®ç³»ç»Ÿ
â”‚   â”œâ”€â”€ registry/       # ç»„ä»¶æ³¨å†Œ
â”‚   â”œâ”€â”€ callback/       # å›è°ƒç³»ç»Ÿ
â”‚   â”œâ”€â”€ tracker/        # å®éªŒè¿½è¸ª
â”‚   â”œâ”€â”€ cli.py          # å‘½ä»¤è¡Œæ¥å£
â”‚   â””â”€â”€ runner.py       # è¿è¡Œå…¥å£
â”œâ”€â”€ configs/            # é…ç½®æ¨¡æ¿
â”œâ”€â”€ docs/               # æ–‡æ¡£
â””â”€â”€ pyproject.toml
```

---

## ğŸ“– æ–‡æ¡£ä¸èµ„æº

| èµ„æº | é“¾æ¥ |
|------|------|
| å®˜æ–¹ç½‘ç«™ | [https://oiafed.cn](https://oiafed.cn) |
| å®Œæ•´æ–‡æ¡£ | [https://docs.oiafed.cn](https://docs.oiafed.cn) |
| API å‚è€ƒ | [https://docs.oiafed.cn/api](https://docs.oiafed.cn/api) |
| ç¤ºä¾‹ä»£ç  | [examples/](examples/) |
| GitHub | [https://github.com/oiafed/oiafed](https://github.com/oiafed/oiafed) |
| PyPI | [https://pypi.org/project/oiafed](https://pypi.org/project/oiafed) |

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æ–‡æ¡£å’Œå»ºè®®ï¼

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/oiafed/oiafed.git
cd oiafed

# å®‰è£…å¼€å‘ä¾èµ–
pip install -e ".[dev]"

# è¿è¡Œæµ‹è¯•
pytest tests/ -v

# ä»£ç æ ¼å¼åŒ–
black src/
isort src/
```

è¯¦è§ [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)

---

## ğŸ“„ è®¸å¯è¯

[MIT License](LICENSE)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ Starï¼**

Made with â¤ï¸ by OiaFed Team

</div>