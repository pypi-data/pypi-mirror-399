

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pyUSPTO.clients.patent_data &mdash; pyUSPTO 0.2.3.dev1+g2c5d89b38.d20251125 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=c5100f98"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            pyUSPTO
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../development.html">Development</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">pyUSPTO</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">pyUSPTO.clients.patent_data</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for pyUSPTO.clients.patent_data</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">clients.patent_data - Client for USPTO patent data API</span>

<span class="sd">This module provides a client for interacting with the USPTO Patent Data API.</span>
<span class="sd">It allows you to search for and retrieve patent application data.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Iterator</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">urllib.parse</span><span class="w"> </span><span class="kn">import</span> <span class="n">urljoin</span><span class="p">,</span> <span class="n">urlparse</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">pyUSPTO.clients.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseUSPTOClient</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pyUSPTO.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">USPTOConfig</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pyUSPTO.models.patent_data</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">ApplicationContinuityData</span><span class="p">,</span>
    <span class="n">ApplicationMetaData</span><span class="p">,</span>
    <span class="n">Assignment</span><span class="p">,</span>
    <span class="n">ChildContinuity</span><span class="p">,</span>
    <span class="n">DocumentBag</span><span class="p">,</span>
    <span class="n">DocumentFormat</span><span class="p">,</span>
    <span class="n">EventData</span><span class="p">,</span>
    <span class="n">ForeignPriority</span><span class="p">,</span>
    <span class="n">ParentContinuity</span><span class="p">,</span>
    <span class="n">PatentDataResponse</span><span class="p">,</span>
    <span class="n">PatentFileWrapper</span><span class="p">,</span>
    <span class="n">PatentTermAdjustmentData</span><span class="p">,</span>
    <span class="n">PrintedMetaData</span><span class="p">,</span>
    <span class="n">PrintedPublication</span><span class="p">,</span>
    <span class="n">RecordAttorney</span><span class="p">,</span>
    <span class="n">StatusCodeCollection</span><span class="p">,</span>
    <span class="n">StatusCodeSearchResponse</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pyUSPTO.warnings</span><span class="w"> </span><span class="kn">import</span> <span class="n">USPTODataMismatchWarning</span>


<div class="viewcode-block" id="PatentDataClient">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">PatentDataClient</span><span class="p">(</span><span class="n">BaseUSPTOClient</span><span class="p">[</span><span class="n">PatentDataResponse</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Client for interacting with the USPTO Patent Data API.&quot;&quot;&quot;</span>

    <span class="n">ENDPOINTS</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;search_applications&quot;</span><span class="p">:</span> <span class="s2">&quot;api/v1/patent/applications/search&quot;</span><span class="p">,</span>
        <span class="s2">&quot;get_search_results&quot;</span><span class="p">:</span> <span class="s2">&quot;api/v1/patent/applications/search/download&quot;</span><span class="p">,</span>
        <span class="s2">&quot;get_application_by_number&quot;</span><span class="p">:</span> <span class="s2">&quot;api/v1/patent/applications/</span><span class="si">{application_number}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;get_application_metadata&quot;</span><span class="p">:</span> <span class="s2">&quot;api/v1/patent/applications/</span><span class="si">{application_number}</span><span class="s2">/meta-data&quot;</span><span class="p">,</span>
        <span class="s2">&quot;get_application_adjustment&quot;</span><span class="p">:</span> <span class="s2">&quot;api/v1/patent/applications/</span><span class="si">{application_number}</span><span class="s2">/adjustment&quot;</span><span class="p">,</span>
        <span class="s2">&quot;get_application_assignment&quot;</span><span class="p">:</span> <span class="s2">&quot;api/v1/patent/applications/</span><span class="si">{application_number}</span><span class="s2">/assignment&quot;</span><span class="p">,</span>
        <span class="s2">&quot;get_application_attorney&quot;</span><span class="p">:</span> <span class="s2">&quot;api/v1/patent/applications/</span><span class="si">{application_number}</span><span class="s2">/attorney&quot;</span><span class="p">,</span>
        <span class="s2">&quot;get_application_continuity&quot;</span><span class="p">:</span> <span class="s2">&quot;api/v1/patent/applications/</span><span class="si">{application_number}</span><span class="s2">/continuity&quot;</span><span class="p">,</span>
        <span class="s2">&quot;get_application_foreign_priority&quot;</span><span class="p">:</span> <span class="s2">&quot;api/v1/patent/applications/</span><span class="si">{application_number}</span><span class="s2">/foreign-priority&quot;</span><span class="p">,</span>
        <span class="s2">&quot;get_application_transactions&quot;</span><span class="p">:</span> <span class="s2">&quot;api/v1/patent/applications/</span><span class="si">{application_number}</span><span class="s2">/transactions&quot;</span><span class="p">,</span>
        <span class="s2">&quot;get_application_documents&quot;</span><span class="p">:</span> <span class="s2">&quot;api/v1/patent/applications/</span><span class="si">{application_number}</span><span class="s2">/documents&quot;</span><span class="p">,</span>
        <span class="s2">&quot;get_application_associated_documents&quot;</span><span class="p">:</span> <span class="s2">&quot;api/v1/patent/applications/</span><span class="si">{application_number}</span><span class="s2">/associated-documents&quot;</span><span class="p">,</span>
        <span class="s2">&quot;download_application_document&quot;</span><span class="p">:</span> <span class="s2">&quot;api/v1/download/applications/</span><span class="si">{application_number}</span><span class="s2">/</span><span class="si">{document_id}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;status_codes&quot;</span><span class="p">:</span> <span class="s2">&quot;api/v1/patent/status-codes&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">api_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">base_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">USPTOConfig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span> <span class="ow">or</span> <span class="n">USPTOConfig</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">api_key</span><span class="p">)</span>
        <span class="n">api_key_to_use</span> <span class="o">=</span> <span class="n">api_key</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">api_key</span>
        <span class="n">effective_base_url</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">base_url</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">patent_data_base_url</span> <span class="ow">or</span> <span class="s2">&quot;https://api.uspto.gov&quot;</span>
        <span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">api_key</span><span class="o">=</span><span class="n">api_key_to_use</span><span class="p">,</span> <span class="n">base_url</span><span class="o">=</span><span class="n">effective_base_url</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span>
        <span class="p">)</span>

<div class="viewcode-block" id="PatentDataClient.sanitize_application_number">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.sanitize_application_number">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">sanitize_application_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_number</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sanitize and validate a USPTO application number.</span>

<span class="sd">        Application numbers are either:</span>
<span class="sd">        - 8 digits (e.g., &quot;16123456&quot;)</span>
<span class="sd">        - Series code format: 2 digits + &quot;/&quot; + 6 digits (e.g., &quot;08/123456&quot;)</span>
<span class="sd">        - PCT format: &quot;PCT/US2024/012345&quot; â†’ &quot;PCTUS2412345&quot;</span>

<span class="sd">        This method removes common separators (commas, spaces) while preserving</span>
<span class="sd">        the &quot;/&quot; in series code format.</span>

<span class="sd">        Args:</span>
<span class="sd">            input_number: Raw application number input. May include commas,</span>
<span class="sd">                spaces, or other formatting.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: Sanitized application number (either &quot;NNNNNNNN&quot; or &quot;NN/NNNNNN&quot;).</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the format is invalid.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; client.sanitize_application_number(&quot;16123456&quot;)</span>
<span class="sd">            &quot;16123456&quot;</span>
<span class="sd">            &gt;&gt;&gt; client.sanitize_application_number(&quot;16,123,456&quot;)</span>
<span class="sd">            &quot;16123456&quot;</span>
<span class="sd">            &gt;&gt;&gt; client.sanitize_application_number(&quot;08/123456&quot;)</span>
<span class="sd">            &quot;08/123456&quot;</span>
<span class="sd">            &gt;&gt;&gt; client.sanitize_application_number(&quot;08/123,456&quot;)</span>
<span class="sd">            &quot;08/123456&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">input_number</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">input_number</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Application number cannot be empty&quot;</span><span class="p">)</span>

        <span class="n">raw</span> <span class="o">=</span> <span class="n">input_number</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="c1"># --- NEW: Handle PCT formats ---</span>
        <span class="c1"># Example: &quot;PCT/US2024/012345&quot; -&gt; &quot;PCTUS2412345&quot;</span>
        <span class="k">if</span> <span class="n">raw</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;PCT&quot;</span><span class="p">):</span>
            <span class="n">parts</span> <span class="o">=</span> <span class="n">raw</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid PCT application format: </span><span class="si">{</span><span class="n">input_number</span><span class="si">}</span><span class="s2">. &quot;</span>
                    <span class="s2">&quot;Expected PCT/CCYYYY/NNNNNN&quot;</span>
                <span class="p">)</span>

            <span class="n">_</span><span class="p">,</span> <span class="n">country_year</span><span class="p">,</span> <span class="n">serial</span> <span class="o">=</span> <span class="n">parts</span>

            <span class="c1"># country_year can be &quot;US2024&quot; or &quot;US24&quot;</span>
            <span class="n">country</span> <span class="o">=</span> <span class="n">country_year</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

            <span class="n">year_part</span> <span class="o">=</span> <span class="n">country_year</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">year_part</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid PCT year in: </span><span class="si">{</span><span class="n">country_year</span><span class="si">}</span><span class="s2">. Must be digits.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Normalize:</span>
            <span class="c1"># &quot;2024&quot; -&gt; &quot;24&quot;</span>
            <span class="c1"># &quot;24&quot;   -&gt; &quot;24&quot;</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">year_part</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="n">year</span> <span class="o">=</span> <span class="n">year_part</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">year_part</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">year</span> <span class="o">=</span> <span class="n">year_part</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid PCT year length in: </span><span class="si">{</span><span class="n">country_year</span><span class="si">}</span><span class="s2">. &quot;</span>
                    <span class="s2">&quot;Expected CCYYYY or CCYY.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Serial must be digits only</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">serial</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid PCT serial: </span><span class="si">{</span><span class="n">serial</span><span class="si">}</span><span class="s2">. Must be numeric.&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;PCT</span><span class="si">{</span><span class="n">country</span><span class="si">}{</span><span class="n">year</span><span class="si">}{</span><span class="n">serial</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="c1"># Strip whitespace and remove commas/spaces</span>
        <span class="n">cleaned</span> <span class="o">=</span> <span class="n">raw</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="c1"># Check if this is series code format (NN/NNNNNN)</span>
        <span class="k">if</span> <span class="s2">&quot;/&quot;</span> <span class="ow">in</span> <span class="n">cleaned</span><span class="p">:</span>
            <span class="n">parts</span> <span class="o">=</span> <span class="n">cleaned</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid application number format: </span><span class="si">{</span><span class="n">input_number</span><span class="si">}</span><span class="s2">. &quot;</span>
                    <span class="s2">&quot;Expected format: NNNNNNNN or NN/NNNNNN&quot;</span>
                <span class="p">)</span>

            <span class="n">series</span><span class="p">,</span> <span class="n">serial</span> <span class="o">=</span> <span class="n">parts</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">series</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">serial</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid application number format: </span><span class="si">{</span><span class="n">input_number</span><span class="si">}</span><span class="s2">. &quot;</span>
                    <span class="s2">&quot;Series and serial must be numeric.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">series</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">serial</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">6</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid application number format: </span><span class="si">{</span><span class="n">input_number</span><span class="si">}</span><span class="s2">. &quot;</span>
                    <span class="s2">&quot;Expected series code format: NN/NNNNNN (2 digits / 6 digits)&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="n">cleaned</span>

        <span class="c1"># Standard 8-digit format</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">cleaned</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid application number format: </span><span class="si">{</span><span class="n">input_number</span><span class="si">}</span><span class="s2">. &quot;</span>
                <span class="s2">&quot;Must contain only digits.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cleaned</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">8</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid application number format: </span><span class="si">{</span><span class="n">input_number</span><span class="si">}</span><span class="s2">. &quot;</span>
                <span class="s2">&quot;Expected 8 digits.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">cleaned</span></div>


    <span class="k">def</span><span class="w"> </span><span class="nf">_get_wrapper_from_response</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">response_data</span><span class="p">:</span> <span class="n">PatentDataResponse</span><span class="p">,</span>
        <span class="n">application_number_for_validation</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PatentFileWrapper</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Helper to extract a single PatentFileWrapper, optionally validating the app number.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">response_data</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">response_data</span><span class="o">.</span><span class="n">patent_file_wrapper_data_bag</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">wrapper</span> <span class="o">=</span> <span class="n">response_data</span><span class="o">.</span><span class="n">patent_file_wrapper_data_bag</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="n">application_number_for_validation</span>
            <span class="ow">and</span> <span class="n">wrapper</span><span class="o">.</span><span class="n">application_number_text</span>
            <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sanitize_application_number</span><span class="p">(</span><span class="n">application_number_for_validation</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;API returned application number &#39;</span><span class="si">{</span><span class="n">wrapper</span><span class="o">.</span><span class="n">application_number_text</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;but requested &#39;</span><span class="si">{</span><span class="n">application_number_for_validation</span><span class="si">}</span><span class="s2">&#39;. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;This may indicate an API data inconsistency.&quot;</span><span class="p">,</span>
                <span class="n">USPTODataMismatchWarning</span><span class="p">,</span>
                <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>

<div class="viewcode-block" id="PatentDataClient.search_applications">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.search_applications">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">search_applications</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">query</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sort</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">offset</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">limit</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span>
        <span class="n">facets</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">fields</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">filters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">range_filters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">post_body</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">application_number_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">patent_number_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">inventor_name_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">applicant_name_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">assignee_name_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">filing_date_from_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">filing_date_to_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">grant_date_from_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">grant_date_to_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">classification_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">earliestPublicationNumber_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pctPublicationNumber_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">additional_query_params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PatentDataResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Searches for patent applications.</span>
<span class="sd">        Can perform a GET request based on OpenAPI query parameters or a POST request if post_body is specified.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINTS</span><span class="p">[</span><span class="s2">&quot;search_applications&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">post_body</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
                <span class="n">method</span><span class="o">=</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span>
                <span class="n">json_data</span><span class="o">=</span><span class="n">post_body</span><span class="p">,</span>
                <span class="n">params</span><span class="o">=</span><span class="n">additional_query_params</span><span class="p">,</span>
                <span class="n">response_class</span><span class="o">=</span><span class="n">PatentDataResponse</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">final_q</span> <span class="o">=</span> <span class="n">query</span>

            <span class="k">if</span> <span class="n">final_q</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">q_parts</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="n">application_number_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;applicationNumberText:</span><span class="si">{</span><span class="n">application_number_q</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">patent_number_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.patentNumber:</span><span class="si">{</span><span class="n">patent_number_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">inventor_name_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.inventorBag.inventorNameText:</span><span class="si">{</span><span class="n">inventor_name_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">applicant_name_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.firstApplicantName:</span><span class="si">{</span><span class="n">applicant_name_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">assignee_name_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;assignmentBag.assigneeBag.assigneeNameText:</span><span class="si">{</span><span class="n">assignee_name_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">classification_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.cpcClassificationBag:</span><span class="si">{</span><span class="n">classification_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">earliestPublicationNumber_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.earliestPublicationNumber:</span><span class="si">{</span><span class="n">earliestPublicationNumber_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">pctPublicationNumber_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.pctPublicationNumber:</span><span class="si">{</span><span class="n">pctPublicationNumber_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">filing_date_from_q</span> <span class="ow">and</span> <span class="n">filing_date_to_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.filingDate:[</span><span class="si">{</span><span class="n">filing_date_from_q</span><span class="si">}</span><span class="s2"> TO </span><span class="si">{</span><span class="n">filing_date_to_q</span><span class="si">}</span><span class="s2">]&quot;</span>
                    <span class="p">)</span>
                <span class="k">elif</span> <span class="n">filing_date_from_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.filingDate:&gt;=</span><span class="si">{</span><span class="n">filing_date_from_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">elif</span> <span class="n">filing_date_to_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.filingDate:&lt;=</span><span class="si">{</span><span class="n">filing_date_to_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="n">grant_date_from_q</span> <span class="ow">and</span> <span class="n">grant_date_to_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.grantDate:[</span><span class="si">{</span><span class="n">grant_date_from_q</span><span class="si">}</span><span class="s2"> TO </span><span class="si">{</span><span class="n">grant_date_to_q</span><span class="si">}</span><span class="s2">]&quot;</span>
                    <span class="p">)</span>
                <span class="k">elif</span> <span class="n">grant_date_from_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.grantDate:&gt;=</span><span class="si">{</span><span class="n">grant_date_from_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">elif</span> <span class="n">grant_date_to_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;applicationMetaData.grantDate:&lt;=</span><span class="si">{</span><span class="n">grant_date_to_q</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">q_parts</span><span class="p">:</span>
                    <span class="n">final_q</span> <span class="o">=</span> <span class="s2">&quot; AND &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">q_parts</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">final_q</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;q&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">final_q</span>
            <span class="k">if</span> <span class="n">sort</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;sort&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sort</span>
            <span class="k">if</span> <span class="n">offset</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">offset</span>
            <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;limit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">limit</span>
            <span class="k">if</span> <span class="n">facets</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;facets&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">facets</span>
            <span class="k">if</span> <span class="n">fields</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;fields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fields</span>
            <span class="k">if</span> <span class="n">filters</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;filters&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filters</span>
            <span class="k">if</span> <span class="n">range_filters</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;rangeFilters&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">range_filters</span>

            <span class="k">if</span> <span class="n">additional_query_params</span><span class="p">:</span>
                <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">additional_query_params</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
                <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span>
                <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
                <span class="n">response_class</span><span class="o">=</span><span class="n">PatentDataResponse</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">PatentDataResponse</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="PatentDataClient.get_search_results">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.get_search_results">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_search_results</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">query</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sort</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">offset</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">limit</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span>
        <span class="n">fields_param</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">filters_param</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">range_filters_param</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">post_body</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">application_number_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">patent_number_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">inventor_name_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">applicant_name_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">assignee_name_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">filing_date_from_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">filing_date_to_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">grant_date_from_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">grant_date_to_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">classification_q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">additional_query_params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">ApplicationMetaData</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fetches a dataset of patent applications based on search criteria, always requesting JSON format.</span>
<span class="sd">        For GET, parameters align with OpenAPI for /api/v1/patent/applications/search/download.</span>
<span class="sd">        For POST, post_body should conform to PatentDownloadRequest schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINTS</span><span class="p">[</span><span class="s2">&quot;get_search_results&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">post_body</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;format&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">post_body</span><span class="p">:</span>
                <span class="n">post_body</span><span class="p">[</span><span class="s2">&quot;format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;json&quot;</span>

            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
                <span class="n">method</span><span class="o">=</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span>
                <span class="n">json_data</span><span class="o">=</span><span class="n">post_body</span><span class="p">,</span>
                <span class="n">params</span><span class="o">=</span><span class="n">additional_query_params</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">final_q</span> <span class="o">=</span> <span class="n">query</span>

            <span class="k">if</span> <span class="n">final_q</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">q_parts</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="n">application_number_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;applicationNumberText:</span><span class="si">{</span><span class="n">application_number_q</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">patent_number_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.patentNumber:</span><span class="si">{</span><span class="n">patent_number_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">inventor_name_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.inventorBag.inventorNameText:</span><span class="si">{</span><span class="n">inventor_name_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">applicant_name_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.firstApplicantName:</span><span class="si">{</span><span class="n">applicant_name_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">assignee_name_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;assignmentBag.assigneeBag.assigneeNameText:</span><span class="si">{</span><span class="n">assignee_name_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">classification_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.cpcClassificationBag:</span><span class="si">{</span><span class="n">classification_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="n">filing_date_from_q</span> <span class="ow">and</span> <span class="n">filing_date_to_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.filingDate:[</span><span class="si">{</span><span class="n">filing_date_from_q</span><span class="si">}</span><span class="s2"> TO </span><span class="si">{</span><span class="n">filing_date_to_q</span><span class="si">}</span><span class="s2">]&quot;</span>
                    <span class="p">)</span>
                <span class="k">elif</span> <span class="n">filing_date_from_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.filingDate:&gt;=</span><span class="si">{</span><span class="n">filing_date_from_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">elif</span> <span class="n">filing_date_to_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.filingDate:&lt;=</span><span class="si">{</span><span class="n">filing_date_to_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="n">grant_date_from_q</span> <span class="ow">and</span> <span class="n">grant_date_to_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.grantDate:[</span><span class="si">{</span><span class="n">grant_date_from_q</span><span class="si">}</span><span class="s2"> TO </span><span class="si">{</span><span class="n">grant_date_to_q</span><span class="si">}</span><span class="s2">]&quot;</span>
                    <span class="p">)</span>
                <span class="k">elif</span> <span class="n">grant_date_from_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;applicationMetaData.grantDate:&gt;=</span><span class="si">{</span><span class="n">grant_date_from_q</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">elif</span> <span class="n">grant_date_to_q</span><span class="p">:</span>
                    <span class="n">q_parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;applicationMetaData.grantDate:&lt;=</span><span class="si">{</span><span class="n">grant_date_to_q</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">q_parts</span><span class="p">:</span>
                    <span class="n">final_q</span> <span class="o">=</span> <span class="s2">&quot; AND &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">q_parts</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">final_q</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;q&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">final_q</span>
            <span class="k">if</span> <span class="n">sort</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;sort&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sort</span>
            <span class="k">if</span> <span class="n">offset</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">offset</span>
            <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;limit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">limit</span>
            <span class="k">if</span> <span class="n">fields_param</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;fields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fields_param</span>
            <span class="k">if</span> <span class="n">filters_param</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;filters&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filters_param</span>
            <span class="k">if</span> <span class="n">range_filters_param</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s2">&quot;rangeFilters&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">range_filters_param</span>

            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;json&quot;</span>

            <span class="k">if</span> <span class="n">additional_query_params</span><span class="p">:</span>
                <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">additional_query_params</span><span class="p">)</span>

            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
                <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span>
                <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span>
                <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">Dict</span><span class="p">)</span>
        <span class="n">amd_list</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ApplicationMetaData</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;applicationMetaData&quot;</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;patentdata&quot;</span><span class="p">]</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">amd_list</span></div>


<div class="viewcode-block" id="PatentDataClient.get_application_by_number">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.get_application_by_number">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_application_by_number</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">application_number</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PatentFileWrapper</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves the full details for a specific patent application by its number.</span>

<span class="sd">        This method fetches comprehensive information for a single patent application</span>
<span class="sd">        identified by its unique application number.</span>

<span class="sd">        Args:</span>
<span class="sd">            application_number (str): The USPTO application number for the patent</span>
<span class="sd">                application (e.g., &quot;16123456&quot; or &quot;18/915,708&quot;). The application</span>
<span class="sd">                number will be automatically sanitized to remove commas and spaces.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[PatentFileWrapper]: A `PatentFileWrapper` object representing</span>
<span class="sd">                the complete file wrapper for the application if found. This object</span>
<span class="sd">                contains all data sections related to the application, such as</span>
<span class="sd">                metadata, addresses, assignments, attorney/agent data, continuity</span>
<span class="sd">                data, PTA/PTE data, transactions, and associated documents.</span>
<span class="sd">                Returns None if the application cannot be found or if the response</span>
<span class="sd">                does not contain the expected data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINTS</span><span class="p">[</span><span class="s2">&quot;get_application_by_number&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">application_number</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sanitize_application_number</span><span class="p">(</span><span class="n">application_number</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">response_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">response_class</span><span class="o">=</span><span class="n">PatentDataResponse</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">PatentDataResponse</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_wrapper_from_response</span><span class="p">(</span>
            <span class="n">response_data</span><span class="o">=</span><span class="n">response_data</span><span class="p">,</span>
            <span class="n">application_number_for_validation</span><span class="o">=</span><span class="n">application_number</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="PatentDataClient.get_application_metadata">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.get_application_metadata">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_application_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">application_number</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ApplicationMetaData</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves key metadata for a specific patent application.</span>

<span class="sd">        This method fetches the `ApplicationMetaData` component from the full</span>
<span class="sd">        patent file wrapper. The metadata includes a wide range of information</span>
<span class="sd">        such as application status, important dates (filing, grant, publication),</span>
<span class="sd">        applicant and inventor details, classification data, and other core</span>
<span class="sd">        identifying information for the application.</span>

<span class="sd">        Args:</span>
<span class="sd">            application_number (str): The USPTO application number for which</span>
<span class="sd">                metadata is being requested (e.g., &quot;16123456&quot; or &quot;18/915,708&quot;).</span>
<span class="sd">                The application number will be automatically sanitized.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[ApplicationMetaData]: An `ApplicationMetaData` object</span>
<span class="sd">                containing the core details of the patent application if found.</span>
<span class="sd">                Returns None if the application cannot be found or if metadata</span>
<span class="sd">                is not available in the response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINTS</span><span class="p">[</span><span class="s2">&quot;get_application_metadata&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">application_number</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sanitize_application_number</span><span class="p">(</span><span class="n">application_number</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">response_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">response_class</span><span class="o">=</span><span class="n">PatentDataResponse</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">PatentDataResponse</span><span class="p">)</span>
        <span class="n">wrapper</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_wrapper_from_response</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">application_number</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span><span class="o">.</span><span class="n">application_meta_data</span> <span class="k">if</span> <span class="n">wrapper</span> <span class="k">else</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="PatentDataClient.get_application_adjustment">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.get_application_adjustment">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_application_adjustment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">application_number</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PatentTermAdjustmentData</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves patent term adjustment (PTA) data for a specific application.</span>

<span class="sd">        This method fetches the `PatentTermAdjustmentData` component from the</span>
<span class="sd">        full patent file wrapper. This data includes details on various delay</span>
<span class="sd">        quantities (e.g., A, B, C delays, applicant delays), the total</span>
<span class="sd">        calculated adjustment, and a history of PTA events that influenced the</span>
<span class="sd">        term.</span>

<span class="sd">        Args:</span>
<span class="sd">            application_number (str): The USPTO application number for which PTA</span>
<span class="sd">                data is being requested (e.g., &quot;16123456&quot;).</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[PatentTermAdjustmentData]: A `PatentTermAdjustmentData`</span>
<span class="sd">                object containing the PTA details if the application is found</span>
<span class="sd">                and has such data. Returns None if the application cannot be</span>
<span class="sd">                found or if PTA data is not available in the response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINTS</span><span class="p">[</span><span class="s2">&quot;get_application_adjustment&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">application_number</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sanitize_application_number</span><span class="p">(</span><span class="n">application_number</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">response_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">response_class</span><span class="o">=</span><span class="n">PatentDataResponse</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">PatentDataResponse</span><span class="p">)</span>
        <span class="n">wrapper</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_wrapper_from_response</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">application_number</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span><span class="o">.</span><span class="n">patent_term_adjustment_data</span> <span class="k">if</span> <span class="n">wrapper</span> <span class="k">else</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="PatentDataClient.get_application_assignment">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.get_application_assignment">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_application_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">application_number</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Assignment</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves a list of patent assignments for a specific application.</span>

<span class="sd">        This method fetches the `assignment_bag` from the patent file wrapper,</span>
<span class="sd">        which contains a list of `Assignment` objects. Each `Assignment` object</span>
<span class="sd">        details an assignment including information such as reel and frame numbers,</span>
<span class="sd">        recording dates, conveyance text, and details about the assignors and assignees.</span>

<span class="sd">        Args:</span>
<span class="sd">            application_number (str): The USPTO application number for which</span>
<span class="sd">                assignment data is being requested (e.g., &quot;16123456&quot;).</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[List[Assignment]]: A list of `Assignment` objects, each</span>
<span class="sd">                representing a recorded assignment for the application. Returns</span>
<span class="sd">                None if the application cannot be found, or if no assignment</span>
<span class="sd">                data is available in the response. An empty list may be</span>
<span class="sd">                returned if the application is found but has no recorded</span>
<span class="sd">                assignments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINTS</span><span class="p">[</span><span class="s2">&quot;get_application_assignment&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">application_number</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sanitize_application_number</span><span class="p">(</span><span class="n">application_number</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">response_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">response_class</span><span class="o">=</span><span class="n">PatentDataResponse</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">PatentDataResponse</span><span class="p">)</span>
        <span class="n">wrapper</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_wrapper_from_response</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">application_number</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span><span class="o">.</span><span class="n">assignment_bag</span> <span class="k">if</span> <span class="n">wrapper</span> <span class="k">else</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="PatentDataClient.get_application_attorney">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.get_application_attorney">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_application_attorney</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">application_number</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">RecordAttorney</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves data for the attorney(s) of record for a specific application.</span>

<span class="sd">        This method fetches the `RecordAttorney` object associated with the</span>
<span class="sd">        patent application. This object contains details about the attorney(s)</span>
<span class="sd">        of record, including customer number correspondence data, power of attorney</span>
<span class="sd">        information, and a list of listed attorneys.</span>

<span class="sd">        Args:</span>
<span class="sd">            application_number (str): The USPTO application number for which</span>
<span class="sd">                attorney data is being requested (e.g., &quot;16123456&quot;).</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[RecordAttorney]: A `RecordAttorney` object with details</span>
<span class="sd">                about the attorney(s) of record if the application is found</span>
<span class="sd">                and such data exists. Returns None if the application cannot</span>
<span class="sd">                be found or if no attorney data is available in the response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINTS</span><span class="p">[</span><span class="s2">&quot;get_application_attorney&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">application_number</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sanitize_application_number</span><span class="p">(</span><span class="n">application_number</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">response_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">response_class</span><span class="o">=</span><span class="n">PatentDataResponse</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">PatentDataResponse</span><span class="p">)</span>
        <span class="n">wrapper</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_wrapper_from_response</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">application_number</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span><span class="o">.</span><span class="n">record_attorney</span> <span class="k">if</span> <span class="n">wrapper</span> <span class="k">else</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="PatentDataClient.get_application_continuity">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.get_application_continuity">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_application_continuity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">application_number</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ApplicationContinuityData</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves continuity data (parent/child applications) for a specific application.</span>

<span class="sd">        This method fetches the lineage of the specified application, returning an</span>
<span class="sd">        `ApplicationContinuityData` object. This object consolidates lists of</span>
<span class="sd">        `ParentContinuity` (applications to which the current one claims priority)</span>
<span class="sd">        and `ChildContinuity` (applications claiming priority to the current one)</span>
<span class="sd">        objects, each detailing the related application&#39;s key identifiers and status.</span>

<span class="sd">        Args:</span>
<span class="sd">            application_number (str): The USPTO application number for which</span>
<span class="sd">                continuity data is being requested (e.g., &quot;16123456&quot;).</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[ApplicationContinuityData]: An `ApplicationContinuityData`</span>
<span class="sd">                object containing lists of parent and child continuity relationships.</span>
<span class="sd">                Returns None if the application cannot be found or if the underlying</span>
<span class="sd">                data to construct continuity is not available. The lists within</span>
<span class="sd">                the returned object may be empty if no parent or child continuity</span>
<span class="sd">                links exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINTS</span><span class="p">[</span><span class="s2">&quot;get_application_continuity&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">application_number</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sanitize_application_number</span><span class="p">(</span><span class="n">application_number</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">response_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">response_class</span><span class="o">=</span><span class="n">PatentDataResponse</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">PatentDataResponse</span><span class="p">)</span>
        <span class="n">wrapper</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_wrapper_from_response</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">application_number</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ApplicationContinuityData</span><span class="o">.</span><span class="n">from_wrapper</span><span class="p">(</span><span class="n">wrapper</span><span class="p">)</span> <span class="k">if</span> <span class="n">wrapper</span> <span class="k">else</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="PatentDataClient.get_application_foreign_priority">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.get_application_foreign_priority">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_application_foreign_priority</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">application_number</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">ForeignPriority</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves a list of foreign priority claims for a specific application.</span>

<span class="sd">        This method fetches the `foreign_priority_bag` from the patent file</span>
<span class="sd">        wrapper. This bag contains a list of `ForeignPriority` objects, each</span>
<span class="sd">        representing a claim to a foreign patent application&#39;s priority date.</span>
<span class="sd">        Details include the IP office name, filing date, and application number</span>
<span class="sd">        of the foreign priority application.</span>

<span class="sd">        Args:</span>
<span class="sd">            application_number (str): The USPTO application number for which</span>
<span class="sd">                foreign priority data is being requested (e.g., &quot;16123456&quot;).</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[List[ForeignPriority]]: A list of `ForeignPriority` objects,</span>
<span class="sd">                each detailing a claimed foreign priority. Returns None if the</span>
<span class="sd">                application cannot be found or if no foreign priority data is</span>
<span class="sd">                available. An empty list may be returned if the application</span>
<span class="sd">                is found but has no foreign priority claims.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINTS</span><span class="p">[</span><span class="s2">&quot;get_application_foreign_priority&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">application_number</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sanitize_application_number</span><span class="p">(</span><span class="n">application_number</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">response_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">response_class</span><span class="o">=</span><span class="n">PatentDataResponse</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">PatentDataResponse</span><span class="p">)</span>
        <span class="n">wrapper</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_wrapper_from_response</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">application_number</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span><span class="o">.</span><span class="n">foreign_priority_bag</span> <span class="k">if</span> <span class="n">wrapper</span> <span class="k">else</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="PatentDataClient.get_application_transactions">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.get_application_transactions">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_application_transactions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">application_number</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">EventData</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves the transaction history (events) for a specific application.</span>

<span class="sd">        This method fetches the `event_data_bag` from the patent file wrapper.</span>
<span class="sd">        This bag contains a list of `EventData` objects, each representing a</span>
<span class="sd">        single recorded event in the prosecution history of the patent application.</span>
<span class="sd">        Events include details like an event code, a textual description, and</span>
<span class="sd">        the date the event was recorded.</span>

<span class="sd">        Args:</span>
<span class="sd">            application_number (str): The USPTO application number for which</span>
<span class="sd">                transaction history is being requested (e.g., &quot;16123456&quot;).</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[List[EventData]]: A list of `EventData` objects, each</span>
<span class="sd">                detailing a transaction or event in the application&#39;s history.</span>
<span class="sd">                Returns None if the application cannot be found or if no</span>
<span class="sd">                transaction data is available. An empty list may be returned if</span>
<span class="sd">                the application is found but has no recorded transaction events.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINTS</span><span class="p">[</span><span class="s2">&quot;get_application_transactions&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">application_number</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sanitize_application_number</span><span class="p">(</span><span class="n">application_number</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">response_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">response_class</span><span class="o">=</span><span class="n">PatentDataResponse</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">PatentDataResponse</span><span class="p">)</span>
        <span class="n">wrapper</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_wrapper_from_response</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">application_number</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span><span class="o">.</span><span class="n">event_data_bag</span> <span class="k">if</span> <span class="n">wrapper</span> <span class="k">else</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="PatentDataClient.get_application_documents">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.get_application_documents">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_application_documents</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">application_number</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">document_codes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">official_date_from</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">official_date_to</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DocumentBag</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves metadata for documents associated with a specific application.</span>

<span class="sd">        This method fetches a collection of document metadata related to the given</span>
<span class="sd">        patent application. The result is a `DocumentBag` object, which is an</span>
<span class="sd">        iterable collection of `Document` instances. Each `Document` object</span>
<span class="sd">        contains metadata such as its identifier, official date, document code</span>
<span class="sd">        and description, direction (incoming/outgoing), and available download</span>
<span class="sd">        formats.</span>

<span class="sd">        Args:</span>
<span class="sd">            application_number (str): The USPTO application number for which</span>
<span class="sd">                document metadata is being requested (e.g., &quot;16123456&quot;).</span>
<span class="sd">            document_codes (Optional[List[str]]): Filter by specific document type</span>
<span class="sd">                codes. If provided, only documents with these codes will be returned.</span>
<span class="sd">                Examples: [&#39;ABST&#39;, &#39;CLM&#39;, &#39;SPEC&#39;, &#39;DRWD&#39;].</span>
<span class="sd">            official_date_from (Optional[str]): Filter documents from this date</span>
<span class="sd">                (inclusive). Date format: YYYY-MM-DD (e.g., &quot;2020-01-15&quot;).</span>
<span class="sd">            official_date_to (Optional[str]): Filter documents to this date</span>
<span class="sd">                (inclusive). Date format: YYYY-MM-DD (e.g., &quot;2023-12-31&quot;).</span>

<span class="sd">        Returns:</span>
<span class="sd">            DocumentBag: A `DocumentBag` object containing metadata for all</span>
<span class="sd">                publicly available documents associated with the application</span>
<span class="sd">                that match the provided filters. The bag will be empty if no</span>
<span class="sd">                documents are found or if the API response indicates no documents.</span>
<span class="sd">                It does not return None for &quot;not found&quot; cases; an empty collection</span>
<span class="sd">                is returned instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINTS</span><span class="p">[</span><span class="s2">&quot;get_application_documents&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">application_number</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sanitize_application_number</span><span class="p">(</span><span class="n">application_number</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">document_codes</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;documentCodes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">document_codes</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">official_date_from</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;officialDateFrom&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">official_date_from</span>
        <span class="k">if</span> <span class="n">official_date_to</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;officialDateTo&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">official_date_to</span>

        <span class="n">result_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span> <span class="k">if</span> <span class="n">params</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result_dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">DocumentBag</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">result_dict</span><span class="p">)</span></div>


<div class="viewcode-block" id="PatentDataClient.get_application_associated_documents">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.get_application_associated_documents">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_application_associated_documents</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">application_number</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PrintedPublication</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves metadata for Pre-Grant Publication and Grant documents.</span>

<span class="sd">        This method fetches metadata specifically for published documents associated</span>
<span class="sd">        with the patent application, such as Pre-Grant Publications (PGPUBs)</span>
<span class="sd">        and granted patent documents. It does not retrieve the prosecution</span>
<span class="sd">        history documents (see `get_application_documents` for that).</span>
<span class="sd">        The result is a `PrintedPublication` object, which holds</span>
<span class="sd">        `PrintedMetaData` including file URIs and names. Download with download_archive.</span>

<span class="sd">        Args:</span>
<span class="sd">            application_number (str): The USPTO application number for which</span>
<span class="sd">                associated PGPUB/Grant document metadata is being requested</span>
<span class="sd">                (e.g., &quot;16123456&quot;).</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[PrintedPublication]: A `PrintedPublication` object</span>
<span class="sd">                containing `PrintedMetaData` for the Pre-Grant Publication</span>
<span class="sd">                and/or the Grant document, if available. Returns None if the</span>
<span class="sd">                application cannot be found or if no such associated document</span>
<span class="sd">                metadata is available. The fields within the returned object</span>
<span class="sd">                (`pgpub_document_meta_data`, `grant_document_meta_data`)</span>
<span class="sd">                may themselves be None if a particular type of document</span>
<span class="sd">                (e.g., PGPUB) does not exist for the application.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINTS</span><span class="p">[</span><span class="s2">&quot;get_application_associated_documents&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">application_number</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sanitize_application_number</span><span class="p">(</span><span class="n">application_number</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">response_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">response_class</span><span class="o">=</span><span class="n">PatentDataResponse</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">PatentDataResponse</span><span class="p">)</span>
        <span class="n">wrapper</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_wrapper_from_response</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">application_number</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">PrintedPublication</span><span class="o">.</span><span class="n">from_wrapper</span><span class="p">(</span><span class="n">wrapper</span><span class="p">)</span> <span class="k">if</span> <span class="n">wrapper</span> <span class="k">else</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="PatentDataClient.paginate_applications">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.paginate_applications">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">paginate_applications</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">PatentFileWrapper</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provides an iterator to easily paginate through patent application search results.</span>

<span class="sd">        This method simplifies the process of fetching all patent applications</span>
<span class="sd">        that match a given search query by automatically handling pagination.</span>
<span class="sd">        It internally calls the `search_applications` method for GET requests,</span>
<span class="sd">        batching results and yielding them one by one.</span>

<span class="sd">        All keyword arguments provided to this method (`**kwargs`) are passed</span>
<span class="sd">        directly to the `search_applications` method to define the search</span>
<span class="sd">        criteria. See the `search_applications` method for more details</span>
<span class="sd">        on available parameters.</span>
<span class="sd">        The `offset` and `limit` parameters are managed by the pagination logic;</span>
<span class="sd">        setting them directly in `kwargs` might lead to unexpected behavior.</span>

<span class="sd">        Args:</span>
<span class="sd">            **kwargs (Any): Keyword arguments to be passed to the</span>
<span class="sd">                `search_applications` method for constructing the search query.</span>
<span class="sd">                These define the criteria for the patent applications to be</span>
<span class="sd">                retrieved. Do not include `post_body`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Iterator[PatentFileWrapper]: An iterator that yields `PatentFileWrapper`</span>
<span class="sd">                objects, allowing iteration over all matching patent applications</span>
<span class="sd">                across multiple pages of results.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If `post_body` is included in `kwargs`, as this</span>
<span class="sd">                method only supports GET request parameters for pagination.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;post_body&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;paginate_applications uses GET requests and does not support &#39;post_body&#39;. &quot;</span>
                <span class="s2">&quot;Use keyword arguments for search criteria.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginate_results</span><span class="p">(</span>
            <span class="n">method_name</span><span class="o">=</span><span class="s2">&quot;search_applications&quot;</span><span class="p">,</span>
            <span class="n">response_container_attr</span><span class="o">=</span><span class="s2">&quot;patent_file_wrapper_data_bag&quot;</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="PatentDataClient.get_status_codes">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.get_status_codes">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_status_codes</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StatusCodeSearchResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves USPTO patent application status codes and their descriptions.</span>

<span class="sd">        This method fetches a list of defined USPTO patent application status codes</span>
<span class="sd">        (e.g., codes for &quot;Pending,&quot; &quot;Abandoned,&quot; &quot;Issued&quot;) using a GET request.</span>
<span class="sd">        The request can be customized with query parameters to filter or paginate</span>
<span class="sd">        the results if supported by the API endpoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            params (Optional[Dict[str, Any]], optional): A dictionary of query</span>
<span class="sd">                parameters to be sent with the GET request. These parameters can</span>
<span class="sd">                be used to filter or control the output of the status codes</span>
<span class="sd">                list. Defaults to None, which typically retrieves all available</span>
<span class="sd">                status codes or the API&#39;s default set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            StatusCodeSearchResponse: An object containing a count of matching</span>
<span class="sd">                status codes, a `StatusCodeCollection` of the `StatusCode`</span>
<span class="sd">                objects (code and description), and a request identifier.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINTS</span><span class="p">[</span><span class="s2">&quot;status_codes&quot;</span><span class="p">],</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result_dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">StatusCodeSearchResponse</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">result_dict</span><span class="p">)</span></div>


<div class="viewcode-block" id="PatentDataClient.search_status_codes">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.search_status_codes">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">search_status_codes</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">search_request</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StatusCodeSearchResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Searches USPTO patent application status codes using POST criteria.</span>

<span class="sd">        Performs targeted searches for USPTO patent application status codes</span>
<span class="sd">        (e.g., for &quot;Pending,&quot; &quot;Abandoned,&quot; &quot;Issued&quot;) by sending a POST request</span>
<span class="sd">        with a JSON body containing the `search_request` criteria. This method</span>
<span class="sd">        is suited for more complex queries than the GET-based `get_status_codes`.</span>

<span class="sd">        Args:</span>
<span class="sd">            search_request (Dict[str, Any]): A dictionary with search criteria,</span>
<span class="sd">                sent as the JSON POST body. The structure must conform to USPTO</span>
<span class="sd">                API requirements for this endpoint (e.g., for searching by code</span>
<span class="sd">                or description keywords).</span>

<span class="sd">        Returns:</span>
<span class="sd">            StatusCodeSearchResponse: An object containing a count of matching</span>
<span class="sd">                status codes, a `StatusCodeCollection` of the `StatusCode`</span>
<span class="sd">                objects (code and description), and a request identifier.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span>
            <span class="n">endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINTS</span><span class="p">[</span><span class="s2">&quot;status_codes&quot;</span><span class="p">],</span>
            <span class="n">json_data</span><span class="o">=</span><span class="n">search_request</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result_dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">StatusCodeSearchResponse</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">result_dict</span><span class="p">)</span></div>


<div class="viewcode-block" id="PatentDataClient.download_document">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.download_document">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">download_document</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">document_format</span><span class="p">:</span> <span class="n">DocumentFormat</span><span class="p">,</span>
        <span class="n">file_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">destination_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">stream</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Downloads a document in the specified format.</span>

<span class="sd">        Args:</span>
<span class="sd">            document_format: DocumentFormat object containing download URL and metadata</span>
<span class="sd">            file_name: Optional filename. If not provided, extracted from URL</span>
<span class="sd">            destination_path: Optional path - can be a directory OR a complete file path</span>
<span class="sd">            overwrite: Whether to overwrite existing files. Default False</span>
<span class="sd">            stream: Whether to stream the download. Default True for large files</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: Path to the downloaded file</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If document_format has no download URL</span>
<span class="sd">            FileExistsError: If file exists and overwrite=False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Validate we have a download URL</span>
        <span class="k">if</span> <span class="n">document_format</span><span class="o">.</span><span class="n">download_url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;DocumentFormat must have a download_url&quot;</span><span class="p">)</span>

        <span class="c1"># Get filename - either provided or extract from URL</span>
        <span class="k">if</span> <span class="n">file_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">url_filename</span> <span class="o">=</span> <span class="n">document_format</span><span class="o">.</span><span class="n">download_url</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">url_filename</span><span class="p">:</span>
                <span class="n">file_name</span> <span class="o">=</span> <span class="n">url_filename</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">extension</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">document_format</span><span class="o">.</span><span class="n">mime_type_identifier</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">document_format</span><span class="o">.</span><span class="n">mime_type_identifier</span>
                    <span class="k">else</span> <span class="s2">&quot;pdf&quot;</span>
                <span class="p">)</span>
                <span class="n">file_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;document.</span><span class="si">{</span><span class="n">extension</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="c1"># Determine final file path</span>
        <span class="k">if</span> <span class="n">destination_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">final_file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># destination_path is ALWAYS treated as a directory path</span>
            <span class="n">destination_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">destination_path</span><span class="p">)</span>
            <span class="n">destination_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">final_file_path</span> <span class="o">=</span> <span class="n">destination_dir</span> <span class="o">/</span> <span class="n">file_name</span>

        <span class="c1"># Download the file (overwrite check handled by base class)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_download_file</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">document_format</span><span class="o">.</span><span class="n">download_url</span><span class="p">,</span>
            <span class="n">file_path</span><span class="o">=</span><span class="n">final_file_path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">(),</span>
            <span class="n">overwrite</span><span class="o">=</span><span class="n">overwrite</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="PatentDataClient.get_IFW_metadata">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.get_IFW_metadata">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_IFW_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">application_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">publication_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">patent_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">PCT_app_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">PCT_pub_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PatentFileWrapper</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves complete patent file wrapper data using common identifiers.</span>

<span class="sd">        This utility fetches the `PatentFileWrapper`, which contains comprehensive</span>
<span class="sd">        IFW metadata, application details, and more. Provide only one</span>
<span class="sd">        identifier if possible. If multiple are given, they are processed in the</span>
<span class="sd">        order listed in the arguments, and the first successful match is returned.</span>

<span class="sd">        Args:</span>
<span class="sd">            application_number (Optional[str], optional): USPTO application number</span>
<span class="sd">                (e.g., &quot;16123456&quot;). Checked first (direct lookup).</span>
<span class="sd">            patent_number (Optional[str], optional): USPTO patent number</span>
<span class="sd">                (e.g., &quot;11000000&quot;). Checked second (uses search).</span>
<span class="sd">            publication_number (Optional[str], optional): USPTO pre-grant</span>
<span class="sd">                publication number (e.g., &quot;20230123456&quot;). Checked third (uses search).</span>
<span class="sd">            PCT_app_number (Optional[str], optional): PCT application number.</span>
<span class="sd">                Checked fourth (direct lookup, treated as USPTO app#).</span>
<span class="sd">            PCT_pub_number (Optional[str], optional): PCT publication number</span>
<span class="sd">                (e.g., &quot;2023012345&quot;). Checked fifth (uses search).</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[PatentFileWrapper]: A `PatentFileWrapper` object with</span>
<span class="sd">                comprehensive data if found using one of the identifiers,</span>
<span class="sd">                otherwise None.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">application_number</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_application_by_number</span><span class="p">(</span><span class="n">application_number</span><span class="o">=</span><span class="n">application_number</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">patent_number</span><span class="p">:</span>
            <span class="n">pdr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_applications</span><span class="p">(</span><span class="n">patent_number_q</span><span class="o">=</span><span class="n">patent_number</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">pdr</span><span class="o">.</span><span class="n">patent_file_wrapper_data_bag</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">pdr</span><span class="o">.</span><span class="n">patent_file_wrapper_data_bag</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">publication_number</span><span class="p">:</span>
            <span class="n">pdr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_applications</span><span class="p">(</span>
                <span class="n">earliestPublicationNumber_q</span><span class="o">=</span><span class="n">publication_number</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">pdr</span><span class="o">.</span><span class="n">patent_file_wrapper_data_bag</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">pdr</span><span class="o">.</span><span class="n">patent_file_wrapper_data_bag</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">PCT_app_number</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_application_by_number</span><span class="p">(</span><span class="n">application_number</span><span class="o">=</span><span class="n">PCT_app_number</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">PCT_pub_number</span><span class="p">:</span>
            <span class="n">pdr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_applications</span><span class="p">(</span>
                <span class="n">pctPublicationNumber_q</span><span class="o">=</span><span class="n">PCT_pub_number</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">pdr</span><span class="o">.</span><span class="n">patent_file_wrapper_data_bag</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">pdr</span><span class="o">.</span><span class="n">patent_file_wrapper_data_bag</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="PatentDataClient.download_archive">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.download_archive">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">download_archive</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">printed_metadata</span><span class="p">:</span> <span class="n">PrintedMetaData</span><span class="p">,</span>
        <span class="n">file_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">destination_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Downloads Printed Metadata (XML data). These are XML files of the patent as printed.</span>

<span class="sd">        Note:</span>
<span class="sd">            See also `download_publication()` for a clearer method name with identical functionality.</span>

<span class="sd">        Args:</span>
<span class="sd">            printed_metadata: ArchiveMetaData object containing download URL and metadata</span>
<span class="sd">            file_name: Optional filename. If not provided, uses xml_file_name from metadata</span>
<span class="sd">            destination_path: Optional directory path to save the file</span>
<span class="sd">            overwrite: Whether to overwrite existing files. Default False</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: Path to the downloaded file</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If printed_metadata has no download URL</span>
<span class="sd">            FileExistsError: If file exists and overwrite=False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Validate we have a download URL</span>
        <span class="k">if</span> <span class="n">printed_metadata</span><span class="o">.</span><span class="n">file_location_uri</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;PrintedMetaData must have a file_location_uri&quot;</span><span class="p">)</span>

        <span class="c1"># Get filename - either provided or from metadata</span>
        <span class="k">if</span> <span class="n">file_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">printed_metadata</span><span class="o">.</span><span class="n">xml_file_name</span><span class="p">:</span>
                <span class="n">file_name</span> <span class="o">=</span> <span class="n">printed_metadata</span><span class="o">.</span><span class="n">xml_file_name</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Fallback: extract from URL</span>
                <span class="n">url_filename</span> <span class="o">=</span> <span class="n">printed_metadata</span><span class="o">.</span><span class="n">file_location_uri</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">url_filename</span><span class="p">:</span>
                    <span class="n">file_name</span> <span class="o">=</span> <span class="n">url_filename</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># Last resort: use product identifier</span>
                    <span class="n">product_id</span> <span class="o">=</span> <span class="n">printed_metadata</span><span class="o">.</span><span class="n">product_identifier</span> <span class="ow">or</span> <span class="s2">&quot;patent_text&quot;</span>
                    <span class="n">file_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">product_id</span><span class="si">}</span><span class="s2">.xml&quot;</span>

        <span class="c1"># Determine final file path</span>
        <span class="k">if</span> <span class="n">destination_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">final_file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">destination_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">destination_path</span><span class="p">)</span>
            <span class="n">destination_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">final_file_path</span> <span class="o">=</span> <span class="n">destination_dir</span> <span class="o">/</span> <span class="n">file_name</span>

        <span class="c1"># Check for existing file</span>
        <span class="k">if</span> <span class="n">final_file_path</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span> <span class="ow">and</span> <span class="n">overwrite</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;File already exists: </span><span class="si">{</span><span class="n">final_file_path</span><span class="si">}</span><span class="s2">. Use overwrite=True to replace.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Download the Printed Metadata</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_download_file</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">printed_metadata</span><span class="o">.</span><span class="n">file_location_uri</span><span class="p">,</span> <span class="n">file_path</span><span class="o">=</span><span class="n">final_file_path</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="PatentDataClient.download_publication">
<a class="viewcode-back" href="../../../api/clients.html#pyUSPTO.clients.patent_data.PatentDataClient.download_publication">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">download_publication</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">printed_metadata</span><span class="p">:</span> <span class="n">PrintedMetaData</span><span class="p">,</span>
        <span class="n">file_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">destination_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Download a publication XML file (grant or pre-grant publication).</span>

<span class="sd">        This method downloads publication XML files from PrintedMetaData objects,</span>
<span class="sd">        such as grant documents or pre-grant publications (pgpub). The filename</span>
<span class="sd">        is automatically extracted from the metadata if not provided.</span>

<span class="sd">        Args:</span>
<span class="sd">            printed_metadata: PrintedMetaData object containing the publication</span>
<span class="sd">                download URL and filename information. Typically obtained from</span>
<span class="sd">                `get_application_associated_documents()` or from PatentFileWrapper&#39;s</span>
<span class="sd">                `grant_document_meta_data` or `pg_publication_document_meta_data`.</span>
<span class="sd">            file_name: Optional custom filename. If not provided, uses the</span>
<span class="sd">                `xml_file_name` from the metadata (e.g., &quot;18915708_12307527.xml&quot;).</span>
<span class="sd">            destination_path: Optional directory path where the file should be saved.</span>
<span class="sd">                If not provided, saves to the current directory. The directory will</span>
<span class="sd">                be created if it doesn&#39;t exist.</span>
<span class="sd">            overwrite: Whether to overwrite an existing file at the destination.</span>
<span class="sd">                Default is False, which raises FileExistsError if file exists.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: Absolute path to the downloaded publication file.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If printed_metadata has no file_location_uri (download URL).</span>
<span class="sd">            FileExistsError: If the file already exists and overwrite=False.</span>

<span class="sd">        Examples:</span>
<span class="sd">            Download grant XML to a specific directory (auto-filename):</span>

<span class="sd">            &gt;&gt;&gt; response = client.get_application_by_number(&quot;18/915,708&quot;)</span>
<span class="sd">            &gt;&gt;&gt; ifw = response</span>
<span class="sd">            &gt;&gt;&gt; grant_metadata = ifw.grant_document_meta_data</span>
<span class="sd">            &gt;&gt;&gt; path = client.download_publication(grant_metadata, destination_path=&quot;./downloads&quot;)</span>
<span class="sd">            &gt;&gt;&gt; print(path)</span>
<span class="sd">            &#39;./downloads/18915708_12307527.xml&#39;</span>

<span class="sd">            Download pgpub XML with custom filename:</span>

<span class="sd">            &gt;&gt;&gt; pgpub_metadata = ifw.pg_publication_document_meta_data</span>
<span class="sd">            &gt;&gt;&gt; path = client.download_publication(</span>
<span class="sd">            ...     pgpub_metadata,</span>
<span class="sd">            ...     file_name=&quot;my_publication.xml&quot;,</span>
<span class="sd">            ...     destination_path=&quot;./downloads&quot;</span>
<span class="sd">            ... )</span>
<span class="sd">            &gt;&gt;&gt; print(path)</span>
<span class="sd">            &#39;./downloads/my_publication.xml&#39;</span>

<span class="sd">            Download to current directory:</span>

<span class="sd">            &gt;&gt;&gt; path = client.download_publication(grant_metadata)</span>
<span class="sd">            &gt;&gt;&gt; print(path)</span>
<span class="sd">            &#39;./18915708_12307527.xml&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_archive</span><span class="p">(</span>
            <span class="n">printed_metadata</span><span class="o">=</span><span class="n">printed_metadata</span><span class="p">,</span>
            <span class="n">file_name</span><span class="o">=</span><span class="n">file_name</span><span class="p">,</span>
            <span class="n">destination_path</span><span class="o">=</span><span class="n">destination_path</span><span class="p">,</span>
            <span class="n">overwrite</span><span class="o">=</span><span class="n">overwrite</span><span class="p">,</span>
        <span class="p">)</span></div>
</div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Dunlap Codding, P.C..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>