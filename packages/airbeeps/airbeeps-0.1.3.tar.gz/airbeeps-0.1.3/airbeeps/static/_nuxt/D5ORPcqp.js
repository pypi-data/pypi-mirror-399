import{_ as l}from"./D0rXUjwM.js";import{_ as p}from"./OxB-KeES.js";import{R as n,h as m,e as u,k as t,i as o,v as c,o as h}from"./B5F5EDKu.js";import{E as v}from"./j0v4GhNM.js";import{S as g}from"./W69Yrlsj.js";import"./kTxgPODb.js";import"./CGoQ8P2Q.js";import"./BLK-vlEE.js";import"./BjH3h4AQ.js";import"./DOP3r7Zh.js";import"./D-mql-1x.js";import"./Dfj-G4ds.js";import"./DwJzIyb4.js";import"./guz6OAX5.js";import"./CNDkiggU.js";import"./C4waXSI8.js";import"./Bk3TKJ2z.js";import"./CXe0N1kP.js";import"./BiigaXt4.js";import"./ChnUP8w2.js";import"./D9BJzSWr.js";import"./BcoTDrKR.js";import"./C7E_M_Au.js";import"./DhrDPFS_.js";import"./znP4QeZA.js";import"./BHJUbGRm.js";import"./CMruOHKK.js";import"./DCiQkRiv.js";import"./BWd3Ar9o.js";import"./CVy4VCIn.js";import"./C3900Ydi.js";import"./DjWgO6n7.js";import"./Ciry1N7n.js";import"./3d8O9Cg1.js";import"./W_E31uHY.js";import"./OEI_PSBI.js";import"./BkNhDxpy.js";const P=n("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),re=m({__name:"oauth-providers",setup(f){const{t:e}=u(),s=[{label:"openid",value:"openid"},{label:"email",value:"email"},{label:"profile",value:"profile"},{label:"user:email",value:"user:email"},{label:"read:user",value:"read:user"},{label:"repo",value:"repo"},{label:"public_repo",value:"public_repo"}];t(()=>[{label:e("admin.pages.oauthProviders.userMapping.userId"),value:"id"},{label:e("admin.pages.oauthProviders.userMapping.email"),value:"email"},{label:e("admin.pages.oauthProviders.userMapping.name"),value:"name"},{label:e("admin.pages.oauthProviders.userMapping.avatar"),value:"avatar"},{label:e("admin.pages.oauthProviders.userMapping.username"),value:"username"},{label:e("admin.pages.oauthProviders.userMapping.nickname"),value:"nickname"}]);const d=t(()=>({title:e("admin.pages.oauthProviders.title"),description:e("admin.pages.oauthProviders.description"),apiEndpoint:"/v1/admin/oauth-providers",columns:[{accessorKey:"display_name",header:e("admin.pages.oauthProviders.columns.name"),cell:r=>{const a=r.row.original;return o("div",{class:"flex items-center gap-2"},[a.icon_url&&o("img",{src:a.icon_url,alt:a.display_name,class:"w-5 h-5 rounded"}),o("span",a.display_name)])}},{accessorKey:"name",header:e("admin.pages.oauthProviders.columns.providerId")},{accessorKey:"is_active",header:e("admin.pages.oauthProviders.columns.isActive"),cell:r=>{const a=r.getValue();return o(l,{variant:a?"default":"secondary",class:"flex items-center gap-1"},()=>[o(a?P:v,{class:"w-3 h-3"}),e(a?"common.yes":"common.no")])}},{accessorKey:"scopes",header:e("admin.pages.oauthProviders.columns.scopes"),cell:r=>{const a=r.getValue()||[];return a.length===0?"-":o("div",{class:"flex flex-wrap gap-1"},a.slice(0,3).map(i=>o(l,{key:i,variant:"outline",class:"text-xs"},()=>i)).concat(a.length>3?[o("span",{class:"text-xs text-muted-foreground"},`+${a.length-3}`)]:[]))}},{accessorKey:"sort_order",header:e("admin.pages.oauthProviders.columns.sortOrder"),cell:r=>{const a=r.getValue();return o("div",{class:"flex items-center gap-1"},[o(g,{class:"w-3 h-3 text-yellow-500"}),o("span",a.toString())])}},{accessorKey:"created_at",header:e("admin.pages.oauthProviders.columns.createdAt"),cell:r=>{const a=r.getValue();return new Date(a).toLocaleDateString()}}],detailFields:[{name:"name",label:e("admin.pages.oauthProviders.detailFields.providerId"),type:"text"},{name:"display_name",label:e("admin.pages.oauthProviders.detailFields.name"),type:"text"},{name:"description",label:e("common.description"),type:"textarea"},{name:"client_id",label:e("admin.pages.oauthProviders.detailFields.clientId"),type:"text"},{name:"auth_url",label:e("admin.pages.oauthProviders.detailFields.authorizationUrl"),type:"text"},{name:"token_url",label:e("admin.pages.oauthProviders.detailFields.tokenUrl"),type:"text"},{name:"user_info_url",label:e("admin.pages.oauthProviders.detailFields.userInfoUrl"),type:"text"},{name:"scopes",label:e("admin.pages.oauthProviders.detailFields.scopes"),type:"text",render:r=>!r||r.length===0?e("common.noData"):r.join(", ")},{name:"user_mapping",label:e("admin.pages.oauthProviders.detailFields.userMapping"),type:"json"},{name:"icon_url",label:e("admin.pages.oauthProviders.detailFields.iconUrl"),type:"text"},{name:"sort_order",label:e("admin.pages.oauthProviders.detailFields.sortOrder"),type:"text"},{name:"is_active",label:e("admin.pages.oauthProviders.detailFields.isActive"),type:"boolean"},{name:"created_at",label:e("admin.pages.oauthProviders.columns.createdAt"),type:"datetime"}],formFields:[{name:"name",label:e("admin.pages.oauthProviders.formFields.providerId"),type:"text",required:!0,placeholder:e("admin.pages.oauthProviders.formFields.providerIdPlaceholder"),help:e("admin.pages.oauthProviders.formFields.providerIdHelp"),htmlName:"oauth_provider_id",autocomplete:"off"},{name:"display_name",label:e("admin.pages.oauthProviders.formFields.name"),type:"text",required:!0,placeholder:e("admin.pages.oauthProviders.formFields.namePlaceholder"),help:e("admin.pages.oauthProviders.formFields.nameHelp")},{name:"description",label:e("common.description"),type:"textarea",placeholder:e("admin.pages.oauthProviders.formFields.providerIdPlaceholder"),help:e("admin.pages.oauthProviders.formFields.providerIdHelp")},{name:"client_id",label:e("admin.pages.oauthProviders.formFields.clientId"),type:"text",required:!0,placeholder:e("admin.pages.oauthProviders.formFields.clientIdPlaceholder"),help:e("admin.pages.oauthProviders.formFields.clientIdHelp")},{name:"client_secret",label:e("admin.pages.oauthProviders.formFields.clientSecret"),type:"password",required:!1,placeholder:e("admin.pages.oauthProviders.formFields.clientSecretPlaceholder"),help:e("admin.pages.oauthProviders.formFields.clientSecretHelp"),htmlName:"oauth_client_secret",autocomplete:"new-password"},{name:"auth_url",label:e("admin.pages.oauthProviders.formFields.authorizationUrl"),type:"text",required:!0,placeholder:e("admin.pages.oauthProviders.formFields.authorizationUrlPlaceholder"),help:e("admin.pages.oauthProviders.formFields.authorizationUrlHelp")},{name:"token_url",label:e("admin.pages.oauthProviders.formFields.tokenUrl"),type:"text",required:!0,placeholder:e("admin.pages.oauthProviders.formFields.tokenUrlPlaceholder"),help:e("admin.pages.oauthProviders.formFields.tokenUrlHelp")},{name:"user_info_url",label:e("admin.pages.oauthProviders.formFields.userInfoUrl"),type:"text",required:!0,placeholder:e("admin.pages.oauthProviders.formFields.userInfoUrlPlaceholder"),help:e("admin.pages.oauthProviders.formFields.userInfoUrlHelp")},{name:"scopes",label:e("admin.pages.oauthProviders.formFields.scopes"),type:"multiselect",required:!0,options:s,placeholder:e("admin.pages.oauthProviders.formFields.scopesPlaceholder"),help:e("admin.pages.oauthProviders.formFields.scopesHelp")},{name:"user_mapping",label:e("admin.pages.oauthProviders.formFields.userMapping"),type:"json",placeholder:e("admin.pages.oauthProviders.formFields.userMappingPlaceholder"),help:e("admin.pages.oauthProviders.formFields.userMappingHelp"),defaultValue:{id:"id",email:"email",name:"name",avatar:"avatar_url"}},{name:"icon_url",label:e("admin.pages.oauthProviders.formFields.iconUrl"),type:"text",placeholder:e("admin.pages.oauthProviders.formFields.iconUrlPlaceholder"),help:e("admin.pages.oauthProviders.formFields.iconUrlHelp")},{name:"sort_order",label:e("admin.pages.oauthProviders.formFields.sortOrder"),type:"number",placeholder:e("admin.pages.oauthProviders.formFields.sortOrderPlaceholder"),defaultValue:0,help:e("admin.pages.oauthProviders.formFields.sortOrderHelp")},{name:"is_active",label:e("admin.pages.oauthProviders.formFields.isActive"),type:"switch",defaultValue:!0,help:e("admin.pages.oauthProviders.formFields.isActiveHelp")}]}));return(r,a)=>{const i=p;return h(),c(i,{config:d.value},null,8,["config"])}}});export{re as default};
