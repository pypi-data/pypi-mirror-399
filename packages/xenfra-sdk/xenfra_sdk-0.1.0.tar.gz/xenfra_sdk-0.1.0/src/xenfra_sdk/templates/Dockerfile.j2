# Dockerfile template for Python web applications
FROM {{ python_version | default('python:3.11-slim') }}

WORKDIR /app

# Install uv, our preferred package manager
RUN apt-get update && apt-get install -y curl && \
    curl -LsSf https://astral.sh/uv/install.sh | sh && \
    apt-get remove -y curl && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

COPY requirements.txt .

# Install dependencies
RUN /root/.cargo/bin/uv pip install --system --no-cache -r requirements.txt

COPY . .

# Expose the application port
EXPOSE {{ port | default(8000) }}

# The command to run the application will be in docker-compose.yml
# This allows for more flexibility

