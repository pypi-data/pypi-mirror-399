<?xml version="1.0" encoding="utf-8" ?>
<!--
  Copyright 2025 Akretion France (https://www.akretion.com/)
  @author: Alexis de Lattre <alexis.delattre@akretion.com>
  License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
-->
<odoo>
    <record id="view_partner_tree" model="ir.ui.view">
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_tree" />
        <field name="arch" type="xml">
            <field name="complete_name" position="before">
                <field name="title_id" optional="hide" />
            </field>
        </field>
    </record>

    <record id="view_partner_form" model="ir.ui.view">
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form" />
        <field name="arch" type="xml">
            <xpath expr="/form/sheet//field[@name='email']/.." position="before">
                <div class="d-flex align-items-baseline w-md-50" invisible="is_company">
                    <i class="fa fa-fw me-1 fa-user text-primary" title="Title" />
                    <field
                        name="title_id"
                        options="{'no_open': True, 'no_create': True, 'no_create_edit': True}"
                        placeholder="Madam, Mister, ..."
                    />
                </div>
            </xpath>
            <xpath
                expr="//field[@name='child_ids']/form/sheet//field[@name='email']/.."
                position="before"
            >
                <div class="d-flex align-items-baseline" name="title">
                    <i class="fa fa-fw me-1 fa-user text-primary" title="Title" />
                    <field
                        name="title_id"
                        invisible="type not in ('contact', 'other')"
                        options="{'no_open': True, 'no_create': True, 'no_create_edit': True}"
                        placeholder="Madam, Mister, ..."
                    />
                </div>
            </xpath>
        </field>
    </record>

    <record id="view_partner_simple_form" model="ir.ui.view">
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_simple_form" />
        <field name="arch" type="xml">
            <field name="function" position="before">
                <field
                    name="title_id"
                    options="{'no_open': True, 'no_create': True, 'no_create_edit': True}"
                    placeholder="Madam, Mister, ..."
                    invisible="is_company"
                />
            </field>
        </field>
    </record>
</odoo>
