<html>

<head>
    <title>llms.py</title>
    <link rel="stylesheet" href="/ui/app.css">
    <link rel="stylesheet" href="/ui/typography.css">
    <link rel="icon" type="image/svg" href="/ui/fav.svg">
    <style>
        [type='button'],
        button[type='submit'] {
            cursor: pointer
        }

        [type='checkbox'].switch:checked:hover,
        [type='checkbox'].switch:checked:focus,
        [type='checkbox'].switch:checked,
        [type='checkbox'].switch:focus,
        [type='checkbox'].switch {
            border: none;
            background: none;
            outline: none;
            box-shadow: none;
            cursor: pointer;
        }
    </style>
</head>
<script type="importmap">
    {
        "imports": {
            "vue": "/ui/lib/vue.min.mjs",
            "vue-router": "/ui/lib/vue-router.min.mjs",
            "@servicestack/client": "/ui/lib/servicestack-client.mjs",
            "@servicestack/vue": "/ui/lib/servicestack-vue.mjs",
            "idb": "/ui/lib/idb.min.mjs",
            "marked": "/ui/lib/marked.min.mjs",
            "highlight.js": "/ui/lib/highlight.min.mjs",
            "chart.js": "/ui/lib/chart.js",
            "color.js": "/ui/lib/color.js",
            "ctx.mjs": "/ui/ctx.mjs"
        }
    }
</script>

<body>
    <div id="app"></div>
</body>
<script>
    let colorScheme = location.search === "?dark"
        ? "dark"
        : location.search === "?light"
            ? "light"
            : localStorage.getItem('color-scheme')
    let darkMode = colorScheme != null
        ? colorScheme === 'dark'
        : window.matchMedia('(prefers-color-scheme: dark)').matches
    let html = document.documentElement
    html.classList.toggle('dark', darkMode)
    html.style.setProperty('color-scheme', darkMode ? 'dark' : null)
    if (localStorage.getItem('color-scheme') === null) {
        localStorage.setItem('color-scheme', darkMode ? 'dark' : 'light')
    }    
</script>
<script type="module">
    import { createContext } from '/ui/index.mjs'

    const context = await createContext()
    context.app.mount('#app')
</script>

</html>