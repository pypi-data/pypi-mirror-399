# API Design Question-Pack
# Questions about REST/GraphQL API patterns

domain: api-design
description: "API versioning, pagination, and response patterns"
critical: true

questions:
  api_style:
    - question: "What API style will be used?"
      critical: true
      options:
        - "REST"
        - "GraphQL"
        - "gRPC"
        - "REST + GraphQL hybrid"
      follow_ups:
        - "What's the rationale for this choice?"

  versioning:
    - question: "How will API versions be handled?"
      critical: true
      options:
        - "URL path versioning (/v1/)"
        - "Header versioning (Accept-Version)"
        - "Query parameter (?version=1)"
        - "No versioning initially"
      examples:
        - "/api/v1/users, /api/v2/users"
        - "Accept: application/vnd.api+json;version=1"

    - question: "What is the deprecation policy?"
      critical: false
      options:
        - "6 months notice"
        - "12 months notice"
        - "Version never deprecated"
        - "No formal policy yet"
      follow_ups:
        - "How will deprecation be communicated?"

  pagination:
    - question: "What pagination strategy will be used?"
      critical: true
      options:
        - "Cursor-based (recommended)"
        - "Offset-based"
        - "Keyset pagination"
        - "No pagination needed"
      examples:
        - "?cursor=abc123&limit=20"
        - "?page=1&per_page=20"

    - question: "What is the default page size?"
      critical: false
      options:
        - "10 items"
        - "20 items"
        - "50 items"
        - "Configurable by client"
      follow_ups:
        - "What is the maximum page size?"

  error_format:
    - question: "What error response format will be used?"
      critical: true
      options:
        - "RFC 7807 (Problem Details)"
        - "Custom JSON format"
        - "Framework default"
        - "GraphQL errors"
      examples:
        - '{"type": "...", "title": "...", "status": 400, "detail": "..."}'
        - '{"error": "message", "code": "ERR_001"}'

    - question: "What error codes will be used?"
      critical: false
      options:
        - "HTTP status codes only"
        - "Custom application codes"
        - "Both HTTP + application codes"
      examples:
        - "ERR_USER_NOT_FOUND, ERR_INVALID_INPUT"
        - "Numeric codes: 1001, 1002"

  request_response:
    - question: "What request/response format?"
      critical: true
      options:
        - "JSON only"
        - "JSON with optional XML"
        - "Content negotiation"
        - "Protocol Buffers"
      follow_ups:
        - "What content type headers are required?"

    - question: "Will request IDs be used?"
      critical: false
      options:
        - "Yes - generated server-side"
        - "Yes - client can provide"
        - "Yes - both (client or server)"
        - "No"
      examples:
        - "X-Request-ID header returned in all responses"

  rate_limiting:
    - question: "How will rate limits be communicated?"
      critical: false
      options:
        - "X-RateLimit headers"
        - "429 response only"
        - "Retry-After header"
        - "All of the above"
      examples:
        - "X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset"

  documentation:
    - question: "How will API be documented?"
      critical: true
      options:
        - "OpenAPI/Swagger"
        - "GraphQL introspection"
        - "Postman collections"
        - "Custom documentation"
      follow_ups:
        - "Where will docs be hosted?"
        - "Will interactive playground be available?"
