# Testing Question-Pack
# Questions about test coverage, strategies, and tooling

domain: testing
description: "Test coverage requirements and testing strategies"
critical: true

questions:
  coverage:
    - question: "What is the minimum test coverage target?"
      critical: true
      options:
        - "80% overall"
        - "90% overall"
        - "80% with 90% for critical paths"
        - "Custom thresholds by module"
      examples:
        - "80% overall, 90% for auth and payments"
        - "90% for core logic, 70% for utilities"

    - question: "Which paths are considered 'critical' (higher coverage required)?"
      critical: false
      options:
        - "Authentication/authorization"
        - "Payment processing"
        - "Data validation"
        - "Core business logic"
        - "All of the above"
      follow_ups:
        - "What coverage % for critical paths?"

  unit_testing:
    - question: "What testing framework will be used?"
      critical: true
      options:
        - "pytest (Python)"
        - "Jest (JavaScript/TypeScript)"
        - "Go testing package"
        - "JUnit (Java)"
        - "Other"
      examples:
        - "pytest with pytest-cov for coverage"
        - "Jest with React Testing Library"

    - question: "What mocking strategy will be used?"
      critical: true
      options:
        - "Dependency injection with mock objects"
        - "Mocking library (unittest.mock, jest.mock)"
        - "Test doubles (fakes, stubs)"
        - "Combination approach"
      examples:
        - "pytest fixtures for dependency injection"
        - "Jest automatic mocking for modules"

  integration_testing:
    - question: "How will integration tests be structured?"
      critical: true
      options:
        - "Test database with transactions"
        - "In-memory database (SQLite)"
        - "Docker containers"
        - "Mocked external services"
      follow_ups:
        - "How is test data managed?"
        - "How are tests isolated?"

    - question: "What external services need mocking?"
      critical: false
      options:
        - "Payment providers"
        - "Email services"
        - "Third-party APIs"
        - "File storage"
        - "None - all services testable"
      examples:
        - "Stripe test mode, mock email service"
        - "LocalStack for AWS services"

  e2e_testing:
    - question: "Are E2E tests required?"
      critical: false
      options:
        - "Yes - critical user flows"
        - "Yes - comprehensive coverage"
        - "No - unit/integration sufficient"
        - "Future consideration"
      follow_ups:
        - "What E2E framework (Playwright, Cypress)?"
        - "Which flows are critical?"

  test_data:
    - question: "How will test data be managed?"
      critical: true
      options:
        - "Fixtures in code"
        - "Factory functions"
        - "Database seeds"
        - "Generated test data"
      examples:
        - "pytest fixtures with factory_boy"
        - "Jest beforeEach with test helpers"

  ci_integration:
    - question: "How will tests run in CI/CD?"
      critical: false
      options:
        - "GitHub Actions"
        - "GitLab CI"
        - "CircleCI"
        - "Jenkins"
        - "Other"
      follow_ups:
        - "What's the test failure policy (block merge)?"
        - "Coverage reporting tool?"
