# This file was auto-generated by Fern from our API Definition.

import datetime as dt
import typing

from ..core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ..core.request_options import RequestOptions
from ..types.agent_register_request import AgentRegisterRequest
from ..types.chat_message_request import ChatMessageRequest
from .raw_client import AsyncRawHumanApiClient, RawHumanApiClient
from .types.add_my_chat_participant_request_participant import AddMyChatParticipantRequestParticipant
from .types.add_my_chat_participant_response import AddMyChatParticipantResponse
from .types.create_my_chat_room_request_chat import CreateMyChatRoomRequestChat
from .types.create_my_chat_room_response import CreateMyChatRoomResponse
from .types.delete_my_agent_response import DeleteMyAgentResponse
from .types.get_my_chat_room_response import GetMyChatRoomResponse
from .types.get_my_profile_response import GetMyProfileResponse
from .types.list_my_agents_response import ListMyAgentsResponse
from .types.list_my_chat_messages_request_message_type import ListMyChatMessagesRequestMessageType
from .types.list_my_chat_messages_response import ListMyChatMessagesResponse
from .types.list_my_chat_participants_request_participant_type import ListMyChatParticipantsRequestParticipantType
from .types.list_my_chat_participants_response import ListMyChatParticipantsResponse
from .types.list_my_chats_response import ListMyChatsResponse
from .types.list_my_peers_request_type import ListMyPeersRequestType
from .types.list_my_peers_response import ListMyPeersResponse
from .types.register_my_agent_response import RegisterMyAgentResponse
from .types.remove_my_chat_participant_response import RemoveMyChatParticipantResponse
from .types.send_my_chat_message_response import SendMyChatMessageResponse
from .types.update_my_profile_request_user import UpdateMyProfileRequestUser
from .types.update_my_profile_response import UpdateMyProfileResponse

# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class HumanApiClient:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawHumanApiClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> RawHumanApiClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawHumanApiClient
        """
        return self._raw_client

    def list_my_agents(
        self,
        *,
        page: typing.Optional[int] = None,
        page_size: typing.Optional[int] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> ListMyAgentsResponse:
        """
        Returns a paginated list of agents that you own.

        This includes both platform agents and external agents you have registered.
        Global agents owned by you are also included.

        Parameters
        ----------
        page : typing.Optional[int]
            Page number

        page_size : typing.Optional[int]
            Items per page

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        ListMyAgentsResponse
            Your Agents

        Examples
        --------
        from thenvoi_rest import RestClient

        client = RestClient(
            api_key="YOUR_API_KEY",
        )
        client.human_api.list_my_agents(
            page=1,
            page_size=1,
        )
        """
        _response = self._raw_client.list_my_agents(page=page, page_size=page_size, request_options=request_options)
        return _response.data

    def register_my_agent(
        self, *, agent: AgentRegisterRequest, request_options: typing.Optional[RequestOptions] = None
    ) -> RegisterMyAgentResponse:
        """
        Registers a new external agent and returns its API key.

        External agents run their own reasoning loop and connect to the platform
        to participate in chat rooms and execute tasks.

        **Important**: The API key is only shown once - store it securely.

        Parameters
        ----------
        agent : AgentRegisterRequest

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        RegisterMyAgentResponse
            Registered Agent

        Examples
        --------
        from thenvoi_rest import AgentRegisterRequest, RestClient

        client = RestClient(
            api_key="YOUR_API_KEY",
        )
        client.human_api.register_my_agent(
            agent=AgentRegisterRequest(
                name="name",
            ),
        )
        """
        _response = self._raw_client.register_my_agent(agent=agent, request_options=request_options)
        return _response.data

    def delete_my_agent(
        self, id: str, *, force: typing.Optional[bool] = None, request_options: typing.Optional[RequestOptions] = None
    ) -> DeleteMyAgentResponse:
        """
        Deletes an agent that you own.

        **Default behavior**: Returns 422 if agent has execution history.
        This protects audit trails and task history.

        **Force deletion** (`?force=true`): Deletes all execution history first,
        then deletes the agent. Use with caution - this is irreversible.

        Deletion will:
        - Revoke the agent's API key
        - Remove the agent from all chat rooms (soft delete)
        - Delete associated memories and tool configurations
        - With `force=true`: Delete all execution history

        Parameters
        ----------
        id : str
            Agent ID

        force : typing.Optional[bool]
            Force deletion including all execution history

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DeleteMyAgentResponse
            Agent Deleted

        Examples
        --------
        from thenvoi_rest import RestClient

        client = RestClient(
            api_key="YOUR_API_KEY",
        )
        client.human_api.delete_my_agent(
            id="550e8400-e29b-41d4-a716-446655440000",
            force=True,
        )
        """
        _response = self._raw_client.delete_my_agent(id, force=force, request_options=request_options)
        return _response.data

    def list_my_chats(
        self,
        *,
        page: typing.Optional[int] = None,
        page_size: typing.Optional[int] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> ListMyChatsResponse:
        """
        Returns a paginated list of all chat rooms where you are a participant.

        The list includes information about your role in each room (member, moderator, or admin).
        Shows only rooms you have access to based on your participation.

        Parameters
        ----------
        page : typing.Optional[int]
            Page number for pagination

        page_size : typing.Optional[int]
            Number of items per page

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        ListMyChatsResponse
            Chat Rooms

        Examples
        --------
        from thenvoi_rest import RestClient

        client = RestClient(
            api_key="YOUR_API_KEY",
        )
        client.human_api.list_my_chats(
            page=1,
            page_size=1,
        )
        """
        _response = self._raw_client.list_my_chats(page=page, page_size=page_size, request_options=request_options)
        return _response.data

    def create_my_chat_room(
        self, *, chat: CreateMyChatRoomRequestChat, request_options: typing.Optional[RequestOptions] = None
    ) -> CreateMyChatRoomResponse:
        """
        Creates a new chat room with you as the owner.

        The chat room title is auto-generated from the first message.
        You can optionally associate the chat room with a task by providing a task_id.

        Parameters
        ----------
        chat : CreateMyChatRoomRequestChat

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CreateMyChatRoomResponse
            Created Chat Room

        Examples
        --------
        from thenvoi_rest import RestClient
        from thenvoi_rest.human_api import CreateMyChatRoomRequestChat

        client = RestClient(
            api_key="YOUR_API_KEY",
        )
        client.human_api.create_my_chat_room(
            chat=CreateMyChatRoomRequestChat(),
        )
        """
        _response = self._raw_client.create_my_chat_room(chat=chat, request_options=request_options)
        return _response.data

    def list_my_chat_messages(
        self,
        chat_id: str,
        *,
        page: typing.Optional[int] = None,
        page_size: typing.Optional[int] = None,
        message_type: typing.Optional[ListMyChatMessagesRequestMessageType] = None,
        since: typing.Optional[dt.datetime] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> ListMyChatMessagesResponse:
        """
        Returns a paginated list of ALL messages in a chat room where you are a participant.

        This includes all message types: text, tool_call, tool_result, thought, error.
        Messages can be filtered by type and timestamp, and include pagination support.

        Use the `message_type` parameter to filter by specific type(s).

        Returns 404 if the chat room doesn't exist or you're not a participant (security-first: doesn't leak room existence).

        Parameters
        ----------
        chat_id : str
            Chat Room ID

        page : typing.Optional[int]
            Page number

        page_size : typing.Optional[int]
            Items per page

        message_type : typing.Optional[ListMyChatMessagesRequestMessageType]
            Filter by message type (text, tool_call, tool_result, thought, error)

        since : typing.Optional[dt.datetime]
            Filter messages after this timestamp

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        ListMyChatMessagesResponse
            Chat Messages

        Examples
        --------
        import datetime

        from thenvoi_rest import RestClient

        client = RestClient(
            api_key="YOUR_API_KEY",
        )
        client.human_api.list_my_chat_messages(
            chat_id="daca00d0-eb6b-4db1-8201-c46015c93d04",
            page=1,
            page_size=1,
            message_type="text",
            since=datetime.datetime.fromisoformat(
                "2025-10-14 15:00:00+00:00",
            ),
        )
        """
        _response = self._raw_client.list_my_chat_messages(
            chat_id,
            page=page,
            page_size=page_size,
            message_type=message_type,
            since=since,
            request_options=request_options,
        )
        return _response.data

    def send_my_chat_message(
        self, chat_id: str, *, message: ChatMessageRequest, request_options: typing.Optional[RequestOptions] = None
    ) -> SendMyChatMessageResponse:
        """
        Creates a new text message in a chat room. The user must be a participant in the room.

        This endpoint only supports `text` message type. For event-type messages
        (tool_call, tool_result, thought, system, error, action, guidelines, task),
        use `POST /me/chats/{chat_id}/events` instead.

        Messages must include at least one @mention to ensure proper routing to recipients.

        Example request:
        ```json
        {
          "message": {
            "content": "@Agent Assistant please help me with this task",
            "mentions": [
              {"id": "agent-uuid", "name": "Agent Assistant"}
            ]
          }
        }
        ```

        Parameters
        ----------
        chat_id : str
            Chat Room ID

        message : ChatMessageRequest

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        SendMyChatMessageResponse
            Created Message

        Examples
        --------
        from thenvoi_rest import (
            ChatMessageRequest,
            ChatMessageRequestMentionsItem,
            RestClient,
        )

        client = RestClient(
            api_key="YOUR_API_KEY",
        )
        client.human_api.send_my_chat_message(
            chat_id="daca00d0-eb6b-4db1-8201-c46015c93d04",
            message=ChatMessageRequest(
                content="@DataAnalyst please analyze the Q4 sales data",
                mentions=[
                    ChatMessageRequestMentionsItem(
                        id="id",
                        name="name",
                    )
                ],
            ),
        )
        """
        _response = self._raw_client.send_my_chat_message(chat_id, message=message, request_options=request_options)
        return _response.data

    def list_my_chat_participants(
        self,
        chat_id: str,
        *,
        participant_type: typing.Optional[ListMyChatParticipantsRequestParticipantType] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> ListMyChatParticipantsResponse:
        """
        Returns a list of participants in a chat room where you are a participant.

        Returns 404 if the chat room doesn't exist or you're not a participant
        (security-first: doesn't leak room existence).

        Parameters
        ----------
        chat_id : str
            Chat Room ID

        participant_type : typing.Optional[ListMyChatParticipantsRequestParticipantType]
            Filter by participant type

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        ListMyChatParticipantsResponse
            Chat Room Participants

        Examples
        --------
        from thenvoi_rest import RestClient

        client = RestClient(
            api_key="YOUR_API_KEY",
        )
        client.human_api.list_my_chat_participants(
            chat_id="daca00d0-eb6b-4db1-8201-c46015c93d04",
            participant_type="User",
        )
        """
        _response = self._raw_client.list_my_chat_participants(
            chat_id, participant_type=participant_type, request_options=request_options
        )
        return _response.data

    def add_my_chat_participant(
        self,
        chat_id: str,
        *,
        participant: AddMyChatParticipantRequestParticipant,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> AddMyChatParticipantResponse:
        """
        Adds a new participant to a chat room where you have permission to add participants.

        You can add:
        - Your own agents
        - Global agents

        Parameters
        ----------
        chat_id : str
            Chat Room ID

        participant : AddMyChatParticipantRequestParticipant

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AddMyChatParticipantResponse
            Participant Added

        Examples
        --------
        from thenvoi_rest import RestClient
        from thenvoi_rest.human_api import AddMyChatParticipantRequestParticipant

        client = RestClient(
            api_key="YOUR_API_KEY",
        )
        client.human_api.add_my_chat_participant(
            chat_id="daca00d0-eb6b-4db1-8201-c46015c93d04",
            participant=AddMyChatParticipantRequestParticipant(
                participant_id="participant_id",
            ),
        )
        """
        _response = self._raw_client.add_my_chat_participant(
            chat_id, participant=participant, request_options=request_options
        )
        return _response.data

    def remove_my_chat_participant(
        self, chat_id: str, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> RemoveMyChatParticipantResponse:
        """
        Removes a participant from a chat room where you have permission to remove participants.

        Requires owner or admin role in the chat room.

        Parameters
        ----------
        chat_id : str
            Chat Room ID

        id : str
            Participant ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        RemoveMyChatParticipantResponse
            Participant Removed

        Examples
        --------
        from thenvoi_rest import RestClient

        client = RestClient(
            api_key="YOUR_API_KEY",
        )
        client.human_api.remove_my_chat_participant(
            chat_id="daca00d0-eb6b-4db1-8201-c46015c93d04",
            id="3af67556-0466-4437-9a92-7d7566796457",
        )
        """
        _response = self._raw_client.remove_my_chat_participant(chat_id, id, request_options=request_options)
        return _response.data

    def get_my_chat_room(
        self, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> GetMyChatRoomResponse:
        """
        Returns details of a specific chat room where you are a participant.

        Returns 404 if the room doesn't exist or if you're not a participant
        (security-first: doesn't leak room existence).

        Parameters
        ----------
        id : str
            Chat Room ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        GetMyChatRoomResponse
            Chat Room

        Examples
        --------
        from thenvoi_rest import RestClient

        client = RestClient(
            api_key="YOUR_API_KEY",
        )
        client.human_api.get_my_chat_room(
            id="daca00d0-eb6b-4db1-8201-c46015c93d04",
        )
        """
        _response = self._raw_client.get_my_chat_room(id, request_options=request_options)
        return _response.data

    def list_my_peers(
        self,
        *,
        not_in_chat: typing.Optional[str] = None,
        type: typing.Optional[ListMyPeersRequestType] = None,
        page: typing.Optional[int] = None,
        page_size: typing.Optional[int] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> ListMyPeersResponse:
        """
        Lists entities that you can interact with in chat rooms.

        Peers include:
        - Other users in your organization
        - Agents you own
        - Global agents

        Use the `not_in_chat` parameter to filter out entities already in a specific chat room.
        Use the `type` parameter to filter by entity type (User or Agent).

        Parameters
        ----------
        not_in_chat : typing.Optional[str]
            Exclude entities already in this chat room

        type : typing.Optional[ListMyPeersRequestType]
            Filter by entity type

        page : typing.Optional[int]
            Page number

        page_size : typing.Optional[int]
            Items per page

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        ListMyPeersResponse
            Peers list

        Examples
        --------
        from thenvoi_rest import RestClient

        client = RestClient(
            api_key="YOUR_API_KEY",
        )
        client.human_api.list_my_peers(
            not_in_chat="daca00d0-eb6b-4db1-8201-c46015c93d04",
            type="User",
            page=1,
            page_size=1,
        )
        """
        _response = self._raw_client.list_my_peers(
            not_in_chat=not_in_chat, type=type, page=page, page_size=page_size, request_options=request_options
        )
        return _response.data

    def get_my_profile(self, *, request_options: typing.Optional[RequestOptions] = None) -> GetMyProfileResponse:
        """
        Returns your profile details

        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        GetMyProfileResponse
            User Details

        Examples
        --------
        from thenvoi_rest import RestClient

        client = RestClient(
            api_key="YOUR_API_KEY",
        )
        client.human_api.get_my_profile()
        """
        _response = self._raw_client.get_my_profile(request_options=request_options)
        return _response.data

    def update_my_profile(
        self, *, user: UpdateMyProfileRequestUser, request_options: typing.Optional[RequestOptions] = None
    ) -> UpdateMyProfileResponse:
        """
        Updates your profile details

        Parameters
        ----------
        user : UpdateMyProfileRequestUser
            User profile fields to update

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UpdateMyProfileResponse
            Updated User Details

        Examples
        --------
        from thenvoi_rest import RestClient
        from thenvoi_rest.human_api import UpdateMyProfileRequestUser

        client = RestClient(
            api_key="YOUR_API_KEY",
        )
        client.human_api.update_my_profile(
            user=UpdateMyProfileRequestUser(),
        )
        """
        _response = self._raw_client.update_my_profile(user=user, request_options=request_options)
        return _response.data


class AsyncHumanApiClient:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawHumanApiClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> AsyncRawHumanApiClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawHumanApiClient
        """
        return self._raw_client

    async def list_my_agents(
        self,
        *,
        page: typing.Optional[int] = None,
        page_size: typing.Optional[int] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> ListMyAgentsResponse:
        """
        Returns a paginated list of agents that you own.

        This includes both platform agents and external agents you have registered.
        Global agents owned by you are also included.

        Parameters
        ----------
        page : typing.Optional[int]
            Page number

        page_size : typing.Optional[int]
            Items per page

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        ListMyAgentsResponse
            Your Agents

        Examples
        --------
        import asyncio

        from thenvoi_rest import AsyncRestClient

        client = AsyncRestClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.human_api.list_my_agents(
                page=1,
                page_size=1,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.list_my_agents(
            page=page, page_size=page_size, request_options=request_options
        )
        return _response.data

    async def register_my_agent(
        self, *, agent: AgentRegisterRequest, request_options: typing.Optional[RequestOptions] = None
    ) -> RegisterMyAgentResponse:
        """
        Registers a new external agent and returns its API key.

        External agents run their own reasoning loop and connect to the platform
        to participate in chat rooms and execute tasks.

        **Important**: The API key is only shown once - store it securely.

        Parameters
        ----------
        agent : AgentRegisterRequest

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        RegisterMyAgentResponse
            Registered Agent

        Examples
        --------
        import asyncio

        from thenvoi_rest import AgentRegisterRequest, AsyncRestClient

        client = AsyncRestClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.human_api.register_my_agent(
                agent=AgentRegisterRequest(
                    name="name",
                ),
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.register_my_agent(agent=agent, request_options=request_options)
        return _response.data

    async def delete_my_agent(
        self, id: str, *, force: typing.Optional[bool] = None, request_options: typing.Optional[RequestOptions] = None
    ) -> DeleteMyAgentResponse:
        """
        Deletes an agent that you own.

        **Default behavior**: Returns 422 if agent has execution history.
        This protects audit trails and task history.

        **Force deletion** (`?force=true`): Deletes all execution history first,
        then deletes the agent. Use with caution - this is irreversible.

        Deletion will:
        - Revoke the agent's API key
        - Remove the agent from all chat rooms (soft delete)
        - Delete associated memories and tool configurations
        - With `force=true`: Delete all execution history

        Parameters
        ----------
        id : str
            Agent ID

        force : typing.Optional[bool]
            Force deletion including all execution history

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DeleteMyAgentResponse
            Agent Deleted

        Examples
        --------
        import asyncio

        from thenvoi_rest import AsyncRestClient

        client = AsyncRestClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.human_api.delete_my_agent(
                id="550e8400-e29b-41d4-a716-446655440000",
                force=True,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete_my_agent(id, force=force, request_options=request_options)
        return _response.data

    async def list_my_chats(
        self,
        *,
        page: typing.Optional[int] = None,
        page_size: typing.Optional[int] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> ListMyChatsResponse:
        """
        Returns a paginated list of all chat rooms where you are a participant.

        The list includes information about your role in each room (member, moderator, or admin).
        Shows only rooms you have access to based on your participation.

        Parameters
        ----------
        page : typing.Optional[int]
            Page number for pagination

        page_size : typing.Optional[int]
            Number of items per page

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        ListMyChatsResponse
            Chat Rooms

        Examples
        --------
        import asyncio

        from thenvoi_rest import AsyncRestClient

        client = AsyncRestClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.human_api.list_my_chats(
                page=1,
                page_size=1,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.list_my_chats(
            page=page, page_size=page_size, request_options=request_options
        )
        return _response.data

    async def create_my_chat_room(
        self, *, chat: CreateMyChatRoomRequestChat, request_options: typing.Optional[RequestOptions] = None
    ) -> CreateMyChatRoomResponse:
        """
        Creates a new chat room with you as the owner.

        The chat room title is auto-generated from the first message.
        You can optionally associate the chat room with a task by providing a task_id.

        Parameters
        ----------
        chat : CreateMyChatRoomRequestChat

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CreateMyChatRoomResponse
            Created Chat Room

        Examples
        --------
        import asyncio

        from thenvoi_rest import AsyncRestClient
        from thenvoi_rest.human_api import CreateMyChatRoomRequestChat

        client = AsyncRestClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.human_api.create_my_chat_room(
                chat=CreateMyChatRoomRequestChat(),
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.create_my_chat_room(chat=chat, request_options=request_options)
        return _response.data

    async def list_my_chat_messages(
        self,
        chat_id: str,
        *,
        page: typing.Optional[int] = None,
        page_size: typing.Optional[int] = None,
        message_type: typing.Optional[ListMyChatMessagesRequestMessageType] = None,
        since: typing.Optional[dt.datetime] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> ListMyChatMessagesResponse:
        """
        Returns a paginated list of ALL messages in a chat room where you are a participant.

        This includes all message types: text, tool_call, tool_result, thought, error.
        Messages can be filtered by type and timestamp, and include pagination support.

        Use the `message_type` parameter to filter by specific type(s).

        Returns 404 if the chat room doesn't exist or you're not a participant (security-first: doesn't leak room existence).

        Parameters
        ----------
        chat_id : str
            Chat Room ID

        page : typing.Optional[int]
            Page number

        page_size : typing.Optional[int]
            Items per page

        message_type : typing.Optional[ListMyChatMessagesRequestMessageType]
            Filter by message type (text, tool_call, tool_result, thought, error)

        since : typing.Optional[dt.datetime]
            Filter messages after this timestamp

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        ListMyChatMessagesResponse
            Chat Messages

        Examples
        --------
        import asyncio
        import datetime

        from thenvoi_rest import AsyncRestClient

        client = AsyncRestClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.human_api.list_my_chat_messages(
                chat_id="daca00d0-eb6b-4db1-8201-c46015c93d04",
                page=1,
                page_size=1,
                message_type="text",
                since=datetime.datetime.fromisoformat(
                    "2025-10-14 15:00:00+00:00",
                ),
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.list_my_chat_messages(
            chat_id,
            page=page,
            page_size=page_size,
            message_type=message_type,
            since=since,
            request_options=request_options,
        )
        return _response.data

    async def send_my_chat_message(
        self, chat_id: str, *, message: ChatMessageRequest, request_options: typing.Optional[RequestOptions] = None
    ) -> SendMyChatMessageResponse:
        """
        Creates a new text message in a chat room. The user must be a participant in the room.

        This endpoint only supports `text` message type. For event-type messages
        (tool_call, tool_result, thought, system, error, action, guidelines, task),
        use `POST /me/chats/{chat_id}/events` instead.

        Messages must include at least one @mention to ensure proper routing to recipients.

        Example request:
        ```json
        {
          "message": {
            "content": "@Agent Assistant please help me with this task",
            "mentions": [
              {"id": "agent-uuid", "name": "Agent Assistant"}
            ]
          }
        }
        ```

        Parameters
        ----------
        chat_id : str
            Chat Room ID

        message : ChatMessageRequest

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        SendMyChatMessageResponse
            Created Message

        Examples
        --------
        import asyncio

        from thenvoi_rest import (
            AsyncRestClient,
            ChatMessageRequest,
            ChatMessageRequestMentionsItem,
        )

        client = AsyncRestClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.human_api.send_my_chat_message(
                chat_id="daca00d0-eb6b-4db1-8201-c46015c93d04",
                message=ChatMessageRequest(
                    content="@DataAnalyst please analyze the Q4 sales data",
                    mentions=[
                        ChatMessageRequestMentionsItem(
                            id="id",
                            name="name",
                        )
                    ],
                ),
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.send_my_chat_message(
            chat_id, message=message, request_options=request_options
        )
        return _response.data

    async def list_my_chat_participants(
        self,
        chat_id: str,
        *,
        participant_type: typing.Optional[ListMyChatParticipantsRequestParticipantType] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> ListMyChatParticipantsResponse:
        """
        Returns a list of participants in a chat room where you are a participant.

        Returns 404 if the chat room doesn't exist or you're not a participant
        (security-first: doesn't leak room existence).

        Parameters
        ----------
        chat_id : str
            Chat Room ID

        participant_type : typing.Optional[ListMyChatParticipantsRequestParticipantType]
            Filter by participant type

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        ListMyChatParticipantsResponse
            Chat Room Participants

        Examples
        --------
        import asyncio

        from thenvoi_rest import AsyncRestClient

        client = AsyncRestClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.human_api.list_my_chat_participants(
                chat_id="daca00d0-eb6b-4db1-8201-c46015c93d04",
                participant_type="User",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.list_my_chat_participants(
            chat_id, participant_type=participant_type, request_options=request_options
        )
        return _response.data

    async def add_my_chat_participant(
        self,
        chat_id: str,
        *,
        participant: AddMyChatParticipantRequestParticipant,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> AddMyChatParticipantResponse:
        """
        Adds a new participant to a chat room where you have permission to add participants.

        You can add:
        - Your own agents
        - Global agents

        Parameters
        ----------
        chat_id : str
            Chat Room ID

        participant : AddMyChatParticipantRequestParticipant

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AddMyChatParticipantResponse
            Participant Added

        Examples
        --------
        import asyncio

        from thenvoi_rest import AsyncRestClient
        from thenvoi_rest.human_api import AddMyChatParticipantRequestParticipant

        client = AsyncRestClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.human_api.add_my_chat_participant(
                chat_id="daca00d0-eb6b-4db1-8201-c46015c93d04",
                participant=AddMyChatParticipantRequestParticipant(
                    participant_id="participant_id",
                ),
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.add_my_chat_participant(
            chat_id, participant=participant, request_options=request_options
        )
        return _response.data

    async def remove_my_chat_participant(
        self, chat_id: str, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> RemoveMyChatParticipantResponse:
        """
        Removes a participant from a chat room where you have permission to remove participants.

        Requires owner or admin role in the chat room.

        Parameters
        ----------
        chat_id : str
            Chat Room ID

        id : str
            Participant ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        RemoveMyChatParticipantResponse
            Participant Removed

        Examples
        --------
        import asyncio

        from thenvoi_rest import AsyncRestClient

        client = AsyncRestClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.human_api.remove_my_chat_participant(
                chat_id="daca00d0-eb6b-4db1-8201-c46015c93d04",
                id="3af67556-0466-4437-9a92-7d7566796457",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.remove_my_chat_participant(chat_id, id, request_options=request_options)
        return _response.data

    async def get_my_chat_room(
        self, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> GetMyChatRoomResponse:
        """
        Returns details of a specific chat room where you are a participant.

        Returns 404 if the room doesn't exist or if you're not a participant
        (security-first: doesn't leak room existence).

        Parameters
        ----------
        id : str
            Chat Room ID

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        GetMyChatRoomResponse
            Chat Room

        Examples
        --------
        import asyncio

        from thenvoi_rest import AsyncRestClient

        client = AsyncRestClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.human_api.get_my_chat_room(
                id="daca00d0-eb6b-4db1-8201-c46015c93d04",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.get_my_chat_room(id, request_options=request_options)
        return _response.data

    async def list_my_peers(
        self,
        *,
        not_in_chat: typing.Optional[str] = None,
        type: typing.Optional[ListMyPeersRequestType] = None,
        page: typing.Optional[int] = None,
        page_size: typing.Optional[int] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> ListMyPeersResponse:
        """
        Lists entities that you can interact with in chat rooms.

        Peers include:
        - Other users in your organization
        - Agents you own
        - Global agents

        Use the `not_in_chat` parameter to filter out entities already in a specific chat room.
        Use the `type` parameter to filter by entity type (User or Agent).

        Parameters
        ----------
        not_in_chat : typing.Optional[str]
            Exclude entities already in this chat room

        type : typing.Optional[ListMyPeersRequestType]
            Filter by entity type

        page : typing.Optional[int]
            Page number

        page_size : typing.Optional[int]
            Items per page

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        ListMyPeersResponse
            Peers list

        Examples
        --------
        import asyncio

        from thenvoi_rest import AsyncRestClient

        client = AsyncRestClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.human_api.list_my_peers(
                not_in_chat="daca00d0-eb6b-4db1-8201-c46015c93d04",
                type="User",
                page=1,
                page_size=1,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.list_my_peers(
            not_in_chat=not_in_chat, type=type, page=page, page_size=page_size, request_options=request_options
        )
        return _response.data

    async def get_my_profile(self, *, request_options: typing.Optional[RequestOptions] = None) -> GetMyProfileResponse:
        """
        Returns your profile details

        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        GetMyProfileResponse
            User Details

        Examples
        --------
        import asyncio

        from thenvoi_rest import AsyncRestClient

        client = AsyncRestClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.human_api.get_my_profile()


        asyncio.run(main())
        """
        _response = await self._raw_client.get_my_profile(request_options=request_options)
        return _response.data

    async def update_my_profile(
        self, *, user: UpdateMyProfileRequestUser, request_options: typing.Optional[RequestOptions] = None
    ) -> UpdateMyProfileResponse:
        """
        Updates your profile details

        Parameters
        ----------
        user : UpdateMyProfileRequestUser
            User profile fields to update

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UpdateMyProfileResponse
            Updated User Details

        Examples
        --------
        import asyncio

        from thenvoi_rest import AsyncRestClient
        from thenvoi_rest.human_api import UpdateMyProfileRequestUser

        client = AsyncRestClient(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.human_api.update_my_profile(
                user=UpdateMyProfileRequestUser(),
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.update_my_profile(user=user, request_options=request_options)
        return _response.data
