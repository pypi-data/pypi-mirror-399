# This file was auto-generated by Fern from our API Definition.

import typing

import pydantic
from ..core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from .chat_event_message_type import ChatEventMessageType


class ChatEventRequest(UniversalBaseModel):
    """
    Request to create a chat event.

    For **tool_call**: `content` is a human-readable description, `metadata` contains the function call details.
    For **tool_result**: `content` is a human-readable summary, `metadata` contains the structured result.
    For **thought**: `content` is the agent's reasoning text.
    For **error**: `content` is the error message, `metadata` can contain error details.
    For **task**: `content` is the task-related message.
    """

    content: str = pydantic.Field()
    """
    Human-readable event content
    """

    message_type: ChatEventMessageType
    metadata: typing.Optional[typing.Dict[str, typing.Any]] = pydantic.Field(default=None)
    """
    Structured data for the event. Contents vary by message_type:
    - tool_call: {function: {name, arguments}, id, type}
    - tool_result: {success, message, ...result data}
    - error: {error_code, details}
    """

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow
