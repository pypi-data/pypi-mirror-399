[build-system]
requires = ["setuptools"]
build-backend = "setuptools.build_meta"

[tool.setuptools]
packages = ["ax_lang"]

[project]
name = "ax-lang"
version = "0.14.3"
requires-python = ">=3.12"
description = "axreldable programing language"
readme = "README.md"
license = { text = "MIT License" }
authors = [
    { name = "Aleksei Starikov", email = "aleksei.starikov.ax@gmail.com" }
]
classifiers = [
    "Development Status :: 3 - Alpha",
    "Intended Audience :: Developers",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.12",
]
dependencies = [
    "antlr4-tools",
    "antlr4-python3-runtime",
    "click"
]

[project.urls]
Repository = "https://github.com/axreldable/ax-lang"
Issues = "https://github.com/axreldable/ax-lang/issues"

[project.scripts]
axlang = "ax_lang.cli.exec:cli"

[project.optional-dependencies]
test = [
    "pytest",
    "pytest-cov",
    "coverage",
]
doc = [
    "mkdocs",
    "mkdocstrings",
    "mkdocstrings[python]",
    "mkdocs-material",
    "Pygments",
    "mike",
]
dev = [
    "black",
    "isort",
    "flake8",
    "pre-commit",
    "ruff",
    "twine",
    "build"
]
all = ["ax-lang[test,doc,dev]"]


[tool.pytest.ini_options]
minversion = "7.3"
testpaths = "tests"

[tool.coverage.run]
branch = true
parallel = true
omit = [
    "setup.py",
    "ax_lang/__init__.py",
    "ax_lang/version.py",
]

[tool.coverage.report]
exclude_lines = [
    "pragma: no cover",
    "def __repr__",
    "if self.debug",
    "raise AssertionError",
    "raise NotImplementedError",
    "if __name__ == .__main__.:",
    "raise AssertionError",
    "raise NotImplementedError",
]

[tool.coverage.paths]
source = [
    "ax_lang/*",
]
[tool.coverage.html]
directory = "coverage_reports"


######## Tools
[tool.black]
target-version = ['py312']
skip-string-normalization = false
skip-magic-trailing-comma = false
force-exclude = '''
/(
  | docs
)/
'''

[tool.isort]
py_version = 311
sections = [
    "FUTURE",
    "STDLIB",
    "THIRDPARTY",
    "FIRSTPARTY",
    "LOCALFOLDER"
]
default_section = "FIRSTPARTY"
known_third_party = [
    "numpy",
    "pandas",
    "keras",
    "tensorflow",
    "sklearn",
    "matplotlib",
    "scipy",
    "h5py",
    "seaborn",
    "numba",
    "gym",
    "PyQt5",
    "PyQt6",
    "pyqtgraph",
    "torch",
    "tqdm",
    "cv2",
    "skimage",
    "tensorcross",
    "tensorflow_datasets"
]
known_first_party = []
known_local_folder = []
# style: black
multi_line_output = 3
include_trailing_comma = true
force_grid_wrap = 0
use_parentheses = true
ensure_newline_before_comments = true
split_on_trailing_comma = true
lines_after_imports = 2
force_single_line = true
skip_glob = [
    "docs/*",
]
filter_files = true
