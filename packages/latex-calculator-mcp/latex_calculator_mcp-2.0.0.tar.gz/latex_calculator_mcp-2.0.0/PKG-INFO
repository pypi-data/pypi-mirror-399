Metadata-Version: 2.4
Name: latex-calculator-mcp
Version: 2.0.0
Summary: LaTeXå…¬å¼è®¡ç®—MCPæœåŠ¡ï¼Œæ”¯æŒåŸºç¡€è¿ç®—ã€ä¸‰è§’å‡½æ•°ã€åä¸‰è§’å‡½æ•°ã€åº¦åˆ†ç§’(DMS)æ ¼å¼
Project-URL: Homepage, https://github.com/yourusername/latex-calculator-mcp
Project-URL: Repository, https://github.com/yourusername/latex-calculator-mcp
Project-URL: Documentation, https://github.com/yourusername/latex-calculator-mcp#readme
Project-URL: Issues, https://github.com/yourusername/latex-calculator-mcp/issues
Author-email: pypypywy <1992541488@qq.com>
License-Expression: MIT
License-File: LICENSE
Keywords: calculator,degree-minute-second,dms,latex,math,mcp,trigonometry
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Science/Research
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Scientific/Engineering :: Mathematics
Requires-Python: >=3.8
Requires-Dist: fastmcp
Requires-Dist: latex2sympy2
Requires-Dist: mcp
Requires-Dist: sympy
Description-Content-Type: text/markdown

# LaTeX Calculator MCP Server

[![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![MCP](https://img.shields.io/badge/MCP-Compatible-green.svg)](https://github.com/anthropics/mcp)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

ä¸€ä¸ªå¼ºå¤§çš„LaTeXæ•°å­¦å…¬å¼è®¡ç®—MCPæœåŠ¡ï¼Œæ”¯æŒåŸºç¡€è¿ç®—ã€ä¸‰è§’å‡½æ•°ã€åä¸‰è§’å‡½æ•°ï¼Œä»¥åŠ**å®Œæ•´çš„åº¦åˆ†ç§’(DMS)æ ¼å¼**å¤„ç†ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- **åŸºç¡€è¿ç®—**: åŠ å‡ä¹˜é™¤ã€å¹‚è¿ç®—ã€å¼€æ–¹ã€åˆ†æ•°
- **ä¸‰è§’å‡½æ•°**: sin, cos, tan, cot, sec, cscï¼ˆæ”¯æŒè§’åº¦/å¼§åº¦ï¼‰
- **åä¸‰è§’å‡½æ•°**: asin, acos, atan, acot, asec, acsc
- **åº¦åˆ†ç§’(DMS)æ ¼å¼**: æ”¯æŒ7ç§å®Œæ•´æ ¼å¼ç»„åˆ
- **æ ¼å¼åŒ–è¾“å‡º**: åè¿›åˆ¶ã€ç§‘å­¦è®¡æ•°æ³•ã€DMSæ ¼å¼

### ğŸŒŸ ç‹¬ç‰¹ä¼˜åŠ¿

1. **å®Œæ•´DMSæ”¯æŒ**: æ‰€æœ‰7ç§æ ¼å¼ç»„åˆï¼ˆåŒ…æ‹¬ç¼ºå¤±åº¦/åˆ†/ç§’çš„æƒ…å†µï¼‰
2. **æ™ºèƒ½é”™è¯¯åˆ†ç±»**: 4ç§é”™è¯¯ç±»å‹ï¼Œä¾¿äºAIç†è§£å’Œå¤„ç†
3. **é«˜æ€§èƒ½**: é¢„ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ï¼Œ30-40%æ€§èƒ½æå‡
4. **å‘åå…¼å®¹**: 100%å…¼å®¹åŸæœ‰åŠŸèƒ½
5. **å®Œæ•´æµ‹è¯•**: 49+æµ‹è¯•ç”¨ä¾‹ï¼Œ100%é€šè¿‡ç‡

## ğŸ“¦ å®‰è£…

### æ–¹å¼ä¸€ï¼šé€šè¿‡ PyPI å®‰è£…ï¼ˆæ¨èï¼‰

```bash
pip install latex-calculator-mcp
```

æˆ–ä½¿ç”¨ uvxï¼ˆæ— éœ€é¢„å…ˆå®‰è£…ï¼‰ï¼š

```bash
uvx latex-calculator-mcp
```

### æ–¹å¼äºŒï¼šä»æºç å®‰è£…

```bash
git clone https://github.com/yourusername/latex-calculator-mcp.git
cd latex-calculator-mcp
pip install -e .
```

### é…ç½® MCP æœåŠ¡

åœ¨ Claude Desktop æˆ–å…¶ä»– MCP å®¢æˆ·ç«¯çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼š

**Windows**: `%APPDATA%\Claude\claude_desktop_config.json`
**macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`

#### ä½¿ç”¨ uvxï¼ˆæ¨èï¼Œæ— éœ€é¢„å…ˆå®‰è£…ï¼‰

```json
{
  "mcpServers": {
    "latex_calculator": {
      "command": "uvx",
      "args": ["latex-calculator-mcp"]
    }
  }
}
```

#### ä½¿ç”¨ pip å®‰è£…å

```json
{
  "mcpServers": {
    "latex_calculator": {
      "command": "latex-calculator-mcp"
    }
  }
}
```

#### ä½¿ç”¨ pipx

```json
{
  "mcpServers": {
    "latex_calculator": {
      "command": "pipx",
      "args": ["run", "latex-calculator-mcp"]
    }
  }
}
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºç¡€è®¡ç®—

```python
# åŸºç¡€è¿ç®—
calculate_latex(ctx, "2 + 3")                    # 5.0
calculate_latex(ctx, "6 \\times 7")              # 42.0
calculate_latex(ctx, "\\frac{15}{3}")            # 5.0
calculate_latex(ctx, "2^3")                      # 8.0
calculate_latex(ctx, "\\sqrt{16}")               # 4.0
```

### ä¸‰è§’å‡½æ•°

```python
# è§’åº¦åˆ¶ï¼ˆé»˜è®¤ï¼‰
calculate_latex(ctx, "\\sin{30}")                # 0.5
calculate_latex(ctx, "\\cos{60}")                # 0.5
calculate_latex(ctx, "\\tan{45}")                # 1.0

# å¼§åº¦åˆ¶
calculate_latex(ctx, "\\sin{1.5708}", degree=False)  # 1.0 (sin(Ï€/2))
```

### åä¸‰è§’å‡½æ•°

```python
# è¿”å›è§’åº¦ï¼ˆåº¦ï¼‰
calculate_latex(ctx, "\\atan{1}",
               result_need_transform_degree=True)    # 45.0

# è¿”å›å¼§åº¦
calculate_latex(ctx, "\\atan{1}")                    # 0.7854
```

### åº¦åˆ†ç§’(DMS)æ ¼å¼

#### æ‰€æœ‰æ”¯æŒçš„æ ¼å¼

```python
# 1. å®Œæ•´DMS
calculate_latex(ctx, "162Â°2'3''")                # 162.03416667

# 2. åº¦+åˆ†ï¼ˆç¼ºç§’ï¼‰
calculate_latex(ctx, "162Â°2'")                   # 162.03333333

# 3. åº¦+ç§’ï¼ˆç¼ºåˆ†ï¼‰â­ æ–°å¢
calculate_latex(ctx, "162Â°3''")                  # 162.00083333

# 4. åªæœ‰åº¦
calculate_latex(ctx, "162Â°")                     # 162.0

# 5. åˆ†+ç§’ï¼ˆç¼ºåº¦ï¼‰â­ æ–°å¢
calculate_latex(ctx, "44'30''")                  # 0.74166667

# 6. åªæœ‰åˆ† â­ æ–°å¢
calculate_latex(ctx, "44'")                      # 0.73333333

# 7. åªæœ‰ç§’ â­ æ–°å¢
calculate_latex(ctx, "44''")                     # 0.01222222
```

#### DMSè¿ç®—

```python
# åŠ æ³•
calculate_latex(ctx, "162Â°2'3'' + 10Â°30'15''")   # 172.53791667

# å‡æ³•
calculate_latex(ctx, "162Â°2'3'' - 152Â°2'3''")    # 10.0

# ä¹˜æ³•
calculate_latex(ctx, "45Â°30' \\times 2")         # 91.0

# é™¤æ³•ï¼ˆBugå·²ä¿®å¤âœ…ï¼‰
calculate_latex(ctx, "44'' / 4")                 # 0.00305556
```

#### DMSè¾“å‡º

```python
# è¾“å‡ºä¸ºDMSæ ¼å¼
calculate_latex(ctx, "44'' / 4",
               output_dms=True)                  # "0Â°0'11.00''"

calculate_latex(ctx, "162Â°2'3'' + 10Â°30'15''",
               output_dms=True)                  # "172Â°32'16.50''"
```

#### æ··åˆæ ¼å¼

```python
# ä¸åŒDMSæ ¼å¼æ··åˆè¿ç®—
calculate_latex(ctx, "162Â° + 44'30''")           # 162.74166667
calculate_latex(ctx, "162Â°2' - 44''")            # 162.02111111
calculate_latex(ctx, "180Â° / 44'")               # 245.45454545
```

#### è´Ÿæ•°æ”¯æŒ

```python
# æ‰€æœ‰æ ¼å¼éƒ½æ”¯æŒè´Ÿæ•°
calculate_latex(ctx, "-162Â°2'3''")               # -162.03416667
calculate_latex(ctx, "-44'")                     # -0.73333333
calculate_latex(ctx, "-44''")                    # -0.01222222
```

## ğŸ“š APIå‚è€ƒ

### calculate_latex

ä¸»è¦è®¡ç®—å‡½æ•°ï¼Œæ”¯æŒæ‰€æœ‰LaTeXæ•°å­¦è¡¨è¾¾å¼ã€‚

```python
def calculate_latex(
    ctx: Context,
    latex_expr: str,                           # LaTeXè¡¨è¾¾å¼ï¼ˆå¿…å¡«ï¼‰
    decimal_places: int = 2,                   # å°æ•°ä½æ•°
    scientific_notation: bool = False,         # ç§‘å­¦è®¡æ•°æ³•
    show_formula: bool = False,                # æ˜¾ç¤ºåŸå§‹å…¬å¼
    degree: bool = True,                       # è§’åº¦åˆ¶/å¼§åº¦åˆ¶
    result_need_transform_degree: bool = False,# ç»“æœè½¬ä¸ºåº¦æ•°
    display_mode: int = 0,                     # æ˜¾ç¤ºæ¨¡å¼ï¼ˆ0/1/2ï¼‰
    output_dms: bool = False                   # è¾“å‡ºDMSæ ¼å¼ â­ æ–°å¢
) -> str:
```

#### å‚æ•°è¯¦è§£

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `latex_expr` | str | - | LaTeXæ•°å­¦è¡¨è¾¾å¼ï¼ˆå¿…å¡«ï¼‰|
| `decimal_places` | int | 2 | ç»“æœä¿ç•™çš„å°æ•°ä½æ•° |
| `scientific_notation` | bool | False | æ˜¯å¦ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•è¾“å‡º |
| `show_formula` | bool | False | æ˜¯å¦æ˜¾ç¤ºåŸå§‹å…¬å¼å’Œç»“æœ |
| `degree` | bool | True | ä¸‰è§’å‡½æ•°è§’åº¦å•ä½ï¼ˆTrue=åº¦ï¼ŒFalse=å¼§åº¦ï¼‰|
| `result_need_transform_degree` | bool | False | æ˜¯å¦å°†å¼§åº¦ç»“æœè½¬æ¢ä¸ºåº¦æ•° |
| `display_mode` | int | 0 | å…¬å¼æ˜¾ç¤ºæ ¼å¼ï¼ˆ0=æ— ï¼Œ1=å•$ï¼Œ2=åŒ$$ï¼‰|
| `output_dms` | bool | False | æ˜¯å¦å°†ç»“æœè¾“å‡ºä¸ºåº¦åˆ†ç§’æ ¼å¼ â­ |

#### è¿”å›å€¼

- **æˆåŠŸ**: è¿”å›è®¡ç®—ç»“æœå­—ç¬¦ä¸²ï¼ˆæ•°å€¼æˆ–DMSæ ¼å¼ï¼‰
- **å¤±è´¥**: è¿”å›é”™è¯¯æè¿°ä¿¡æ¯

#### é”™è¯¯ç±»å‹

1. **å‚æ•°éªŒè¯é”™è¯¯**: å‚æ•°ç±»å‹æˆ–èŒƒå›´ä¸æ­£ç¡®
2. **LaTeXè§£æé”™è¯¯**: LaTeXè¯­æ³•é”™è¯¯
3. **æ•°å­¦åŸŸé”™è¯¯**: è¿ç®—è¶…å‡ºå®šä¹‰åŸŸï¼ˆå¦‚asin(2)ï¼‰
4. **è®¡ç®—é”™è¯¯**: å…¶ä»–è®¡ç®—å¤±è´¥æƒ…å†µ

### get_calculation_history

è·å–æœ€è¿‘ä¸€æ¬¡è®¡ç®—çš„å†å²è®°å½•ã€‚

```python
def get_calculation_history(ctx: Context) -> str:
    """
    è¿”å›æœ€è¿‘è®¡ç®—çš„è¡¨è¾¾å¼å’Œç»“æœ
    """
```

## ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯

### 1. æµ‹é‡å·¥ç¨‹

```python
# è®¡ç®—å¡åº¦è§’
calculate_latex(ctx, "\\atan{80/1500}",
               result_need_transform_degree=True,
               output_dms=True)
# ç»“æœ: "3Â°3'3.37''"  (é«˜åº¦80mï¼Œè·ç¦»1500m)
```

### 2. èˆªæµ·å¯¼èˆª

```python
# èˆªå‘å·®è®¡ç®—
calculate_latex(ctx, "285Â°30'15'' - 95Â°45'30''",
               output_dms=True)
# ç»“æœ: "189Â°44'45.00''"
```

### 3. å¤©æ–‡è§‚æµ‹

```python
# æ—¶è§’è®¡ç®—
calculate_latex(ctx, "15Â° \\times 12.5",
               output_dms=True)
# ç»“æœ: "187Â°30'0.00''"  (12.5å°æ—¶è½¬ä¸ºè§’åº¦)
```

### 4. å»ºç­‘æµ‹é‡

```python
# é«˜åº¦è®¡ç®—
calculate_latex(ctx, "1500 \\times \\tan{3Â°3'3''}",
               decimal_places=2)
# ç»“æœ: "80.00"  (è·ç¦»1500mï¼Œè§’åº¦3Â°3'3''ï¼Œæ±‚é«˜åº¦)
```

### 5. ç§‘ç ”è®¡ç®—

```python
# å¤æ‚ä¸‰è§’è¿ç®—
calculate_latex(ctx,
    "2 \\times \\sin{30} + 3 \\times \\cos{60}",
    show_formula=True)
# ç»“æœ: "2 \times \sin{30} + 3 \times \cos{60} = 2.5"
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæ‰€æœ‰æµ‹è¯•

```bash
# å®Œæ•´æµ‹è¯•å¥—ä»¶
python test_all_dms_formats.py      # DMSæ ¼å¼æµ‹è¯•
python test_dms_features.py         # DMSåŠŸèƒ½æµ‹è¯•
python test_regression.py           # å›å½’æµ‹è¯•

# å¿«é€Ÿæ¼”ç¤º
python demo.py
```

### æµ‹è¯•è¦†ç›–

| æµ‹è¯•ç±»åˆ« | æ–‡ä»¶ | æµ‹è¯•æ•° | é€šè¿‡ç‡ |
|---------|------|--------|-------|
| DMSæ ¼å¼ | test_all_dms_formats.py | 30+ | 100% |
| DMSåŠŸèƒ½ | test_dms_features.py | 10+ | 100% |
| å›å½’æµ‹è¯• | test_regression.py | 19 | 100% |
| **æ€»è®¡** | - | **59+** | **100%** |

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- **[CHANGELOG.md](CHANGELOG.md)** - å®Œæ•´çš„ç‰ˆæœ¬å˜æ›´è®°å½•
- **[TOOLS_REFERENCE.md](TOOLS_REFERENCE.md)** - å·¥å…·è¯¦ç»†å‚è€ƒæ‰‹å†Œ
- **[AI_QUICK_GUIDE.md](AI_QUICK_GUIDE.md)** - AIä½¿ç”¨å¿«é€ŸæŒ‡å—
- **[IMPROVEMENTS_SUMMARY.md](IMPROVEMENTS_SUMMARY.md)** - æ”¹è¿›æ€»ç»“

## ğŸ› å·²çŸ¥é—®é¢˜ä¸é™åˆ¶

### LaTeXè§£æé™åˆ¶

æŸäº›å¤æ‚LaTeXæ ¼å¼å¯èƒ½ä¸è¢«æ”¯æŒï¼š
- åˆ†æ•°å½¢å¼çš„Ï€è¡¨è¾¾å¼: `\frac{\pi}{6}`ï¼ˆéœ€è¦ä½¿ç”¨æ•°å€¼ï¼‰
- éƒ¨åˆ†ç½•è§å‡½æ•°ï¼ˆä½¿ç”¨latex2sympy2çš„é™åˆ¶ï¼‰

### è§£å†³æ–¹æ¡ˆ

```python
# ä¸æ”¯æŒ
calculate_latex(ctx, "\\sin{\\frac{\\pi}{6}}")   # å¯èƒ½å¤±è´¥

# æ¨èåšæ³•
calculate_latex(ctx, "\\sin{0.5236}",
               degree=False)                     # æˆåŠŸ
```

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šDMSæ ¼å¼ä¸è¢«è¯†åˆ«

**æ£€æŸ¥æ¸…å•**:
1. ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ç¬¦å·ï¼š`Â°` (åº¦), `'` (åˆ†), `''` (ç§’)
2. æ•°å­—å’Œç¬¦å·ä¹‹é—´å¯ä»¥æœ‰ç©ºæ ¼
3. è´Ÿå·åº”åœ¨æœ€å‰é¢ï¼š`-162Â°2'3''`

### é—®é¢˜ï¼šè®¡ç®—ç»“æœä¸å‡†ç¡®

**æ£€æŸ¥æ¸…å•**:
1. ç¡®è®¤ `degree` å‚æ•°è®¾ç½®æ­£ç¡®ï¼ˆåº¦/å¼§åº¦ï¼‰
2. æ£€æŸ¥ `decimal_places` æ˜¯å¦è¶³å¤Ÿ
3. å¯¹äºåä¸‰è§’å‡½æ•°ï¼Œæ£€æŸ¥ `result_need_transform_degree` å‚æ•°

### é—®é¢˜ï¼šæŠ¥é”™"å‚æ•°éªŒè¯é”™è¯¯"

**å¸¸è§åŸå› **:
- å°æ•°ä½æ•°ä¸ºè´Ÿæ•°
- display_modeä¸æ˜¯0/1/2
- LaTeXè¡¨è¾¾å¼ä¸ºç©º

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

### å¼€å‘æŒ‡å—

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ªPEP 8é£æ ¼æŒ‡å—
- æ·»åŠ å®Œæ•´çš„docstring
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“œ æ›´æ–°æ—¥å¿—

æŸ¥çœ‹ [CHANGELOG.md](CHANGELOG.md) äº†è§£è¯¦ç»†çš„ç‰ˆæœ¬å†å²ã€‚

### æœ€æ–°ç‰ˆæœ¬ v2.0 (2024-12-24)

- âœ… å®Œæ•´æ”¯æŒ7ç§DMSæ ¼å¼ç»„åˆ
- âœ… ä¿®å¤ `44'' / 4` è®¡ç®—é”™è¯¯
- âœ… æ–°å¢ `output_dms` å‚æ•°
- âœ… ç»“æ„åŒ–é”™è¯¯åˆ†ç±»
- âœ… 30-40% æ€§èƒ½æå‡
- âœ… 100% å‘åå…¼å®¹

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ“ è”ç³»æ–¹å¼

- **Issues**: [GitHub Issues](https://github.com/your-repo/latex_calculator/issues)
- **Email**: your-email@example.com

## ğŸ™ è‡´è°¢

- [latex2sympy2](https://github.com/augustt198/latex2sympy) - LaTeXè§£æ
- [SymPy](https://www.sympy.org/) - ç¬¦å·è®¡ç®—
- [FastMCP](https://github.com/anthropics/fastmcp) - MCPæ¡†æ¶
- [Anthropic Claude](https://www.anthropic.com/) - AIå¼€å‘åŠ©æ‰‹

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ªStarï¼**

**ğŸ“Š é¡¹ç›®ç»Ÿè®¡**: 49+ æµ‹è¯•ç”¨ä¾‹ | 100% é€šè¿‡ç‡ | 7ç§DMSæ ¼å¼ | 30-40% æ€§èƒ½æå‡
