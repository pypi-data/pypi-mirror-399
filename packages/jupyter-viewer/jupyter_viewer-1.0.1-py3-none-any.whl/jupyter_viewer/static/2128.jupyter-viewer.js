"use strict";
(self["webpackChunk_datalayer_jupyter_viewer"] = self["webpackChunk_datalayer_jupyter_viewer"] || []).push([[2128],{

/***/ 92128
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  html: () => (/* binding */ html),
  $g: () => (/* binding */ htmlCompletionSource)
});

// UNUSED EXPORTS: autoCloseTags, htmlCompletionSourceWith, htmlLanguage

// EXTERNAL MODULE: ./node_modules/@lezer/lr/dist/index.js
var dist = __webpack_require__(21661);
// EXTERNAL MODULE: ./node_modules/@lezer/highlight/dist/index.js
var highlight_dist = __webpack_require__(12555);
// EXTERNAL MODULE: ./node_modules/@lezer/common/dist/index.js
var common_dist = __webpack_require__(28680);
;// ./node_modules/@lezer/html/dist/index.js




// This file was generated by lezer-generator. You probably shouldn't edit it.
const scriptText = 55,
  StartCloseScriptTag = 1,
  styleText = 56,
  StartCloseStyleTag = 2,
  textareaText = 57,
  StartCloseTextareaTag = 3,
  EndTag = 4,
  SelfClosingEndTag = 5,
  StartTag = 6,
  StartScriptTag = 7,
  StartStyleTag = 8,
  StartTextareaTag = 9,
  StartSelfClosingTag = 10,
  StartCloseTag = 11,
  NoMatchStartCloseTag = 12,
  MismatchedStartCloseTag = 13,
  missingCloseTag = 58,
  IncompleteTag = 14,
  IncompleteCloseTag = 15,
  commentContent$1 = 59,
  Element = 21,
  TagName = 23,
  Attribute = 24,
  AttributeName = 25,
  AttributeValue = 27,
  UnquotedAttributeValue = 28,
  ScriptText = 29,
  StyleText = 32,
  TextareaText = 35,
  OpenTag = 37,
  CloseTag = 38,
  Dialect_noMatch = 0,
  Dialect_selfClosing = 1;

/* Hand-written tokenizers for HTML. */

const selfClosers = {
  area: true,
  base: true,
  br: true,
  col: true,
  command: true,
  embed: true,
  frame: true,
  hr: true,
  img: true,
  input: true,
  keygen: true,
  link: true,
  meta: true,
  param: true,
  source: true,
  track: true,
  wbr: true,
  menuitem: true
};
const implicitlyClosed = {
  dd: true,
  li: true,
  optgroup: true,
  option: true,
  p: true,
  rp: true,
  rt: true,
  tbody: true,
  td: true,
  tfoot: true,
  th: true,
  tr: true
};
const closeOnOpen = {
  dd: {
    dd: true,
    dt: true
  },
  dt: {
    dd: true,
    dt: true
  },
  li: {
    li: true
  },
  option: {
    option: true,
    optgroup: true
  },
  optgroup: {
    optgroup: true
  },
  p: {
    address: true,
    article: true,
    aside: true,
    blockquote: true,
    dir: true,
    div: true,
    dl: true,
    fieldset: true,
    footer: true,
    form: true,
    h1: true,
    h2: true,
    h3: true,
    h4: true,
    h5: true,
    h6: true,
    header: true,
    hgroup: true,
    hr: true,
    menu: true,
    nav: true,
    ol: true,
    p: true,
    pre: true,
    section: true,
    table: true,
    ul: true
  },
  rp: {
    rp: true,
    rt: true
  },
  rt: {
    rp: true,
    rt: true
  },
  tbody: {
    tbody: true,
    tfoot: true
  },
  td: {
    td: true,
    th: true
  },
  tfoot: {
    tbody: true
  },
  th: {
    td: true,
    th: true
  },
  thead: {
    tbody: true,
    tfoot: true
  },
  tr: {
    tr: true
  }
};
function nameChar(ch) {
  return ch == 45 || ch == 46 || ch == 58 || ch >= 65 && ch <= 90 || ch == 95 || ch >= 97 && ch <= 122 || ch >= 161;
}
let cachedName = null,
  cachedInput = null,
  cachedPos = 0;
function tagNameAfter(input, offset) {
  let pos = input.pos + offset;
  if (cachedPos == pos && cachedInput == input) return cachedName;
  let next = input.peek(offset),
    name = "";
  for (;;) {
    if (!nameChar(next)) break;
    name += String.fromCharCode(next);
    next = input.peek(++offset);
  }
  // Undefined to signal there's a <? or <!, null for just missing
  cachedInput = input;
  cachedPos = pos;
  return cachedName = name ? name.toLowerCase() : next == question || next == bang ? undefined : null;
}
const lessThan = 60,
  greaterThan = 62,
  slash = 47,
  question = 63,
  bang = 33,
  dash = 45;
function ElementContext(name, parent) {
  this.name = name;
  this.parent = parent;
}
const startTagTerms = [StartTag, StartSelfClosingTag, StartScriptTag, StartStyleTag, StartTextareaTag];
const elementContext = new dist/* ContextTracker */.Aj({
  start: null,
  shift(context, term, stack, input) {
    return startTagTerms.indexOf(term) > -1 ? new ElementContext(tagNameAfter(input, 1) || "", context) : context;
  },
  reduce(context, term) {
    return term == Element && context ? context.parent : context;
  },
  reuse(context, node, stack, input) {
    let type = node.type.id;
    return type == StartTag || type == OpenTag ? new ElementContext(tagNameAfter(input, 1) || "", context) : context;
  },
  strict: false
});
const tagStart = new dist/* ExternalTokenizer */.Lu((input, stack) => {
  if (input.next != lessThan) {
    // End of file, close any open tags
    if (input.next < 0 && stack.context) input.acceptToken(missingCloseTag);
    return;
  }
  input.advance();
  let close = input.next == slash;
  if (close) input.advance();
  let name = tagNameAfter(input, 0);
  if (name === undefined) return;
  if (!name) return input.acceptToken(close ? IncompleteCloseTag : IncompleteTag);
  let parent = stack.context ? stack.context.name : null;
  if (close) {
    if (name == parent) return input.acceptToken(StartCloseTag);
    if (parent && implicitlyClosed[parent]) return input.acceptToken(missingCloseTag, -2);
    if (stack.dialectEnabled(Dialect_noMatch)) return input.acceptToken(NoMatchStartCloseTag);
    for (let cx = stack.context; cx; cx = cx.parent) if (cx.name == name) return;
    input.acceptToken(MismatchedStartCloseTag);
  } else {
    if (name == "script") return input.acceptToken(StartScriptTag);
    if (name == "style") return input.acceptToken(StartStyleTag);
    if (name == "textarea") return input.acceptToken(StartTextareaTag);
    if (selfClosers.hasOwnProperty(name)) return input.acceptToken(StartSelfClosingTag);
    if (parent && closeOnOpen[parent] && closeOnOpen[parent][name]) input.acceptToken(missingCloseTag, -1);else input.acceptToken(StartTag);
  }
}, {
  contextual: true
});
const commentContent = new dist/* ExternalTokenizer */.Lu(input => {
  for (let dashes = 0, i = 0;; i++) {
    if (input.next < 0) {
      if (i) input.acceptToken(commentContent$1);
      break;
    }
    if (input.next == dash) {
      dashes++;
    } else if (input.next == greaterThan && dashes >= 2) {
      if (i >= 3) input.acceptToken(commentContent$1, -2);
      break;
    } else {
      dashes = 0;
    }
    input.advance();
  }
});
function inForeignElement(context) {
  for (; context; context = context.parent) if (context.name == "svg" || context.name == "math") return true;
  return false;
}
const endTag = new dist/* ExternalTokenizer */.Lu((input, stack) => {
  if (input.next == slash && input.peek(1) == greaterThan) {
    let selfClosing = stack.dialectEnabled(Dialect_selfClosing) || inForeignElement(stack.context);
    input.acceptToken(selfClosing ? SelfClosingEndTag : EndTag, 2);
  } else if (input.next == greaterThan) {
    input.acceptToken(EndTag, 1);
  }
});
function contentTokenizer(tag, textToken, endToken) {
  let lastState = 2 + tag.length;
  return new dist/* ExternalTokenizer */.Lu(input => {
    // state means:
    // - 0 nothing matched
    // - 1 '<' matched
    // - 2 '</'
    // - 3-(1+tag.length) part of the tag matched
    // - lastState whole tag + possibly whitespace matched
    for (let state = 0, matchedLen = 0, i = 0;; i++) {
      if (input.next < 0) {
        if (i) input.acceptToken(textToken);
        break;
      }
      if (state == 0 && input.next == lessThan || state == 1 && input.next == slash || state >= 2 && state < lastState && input.next == tag.charCodeAt(state - 2)) {
        state++;
        matchedLen++;
      } else if (state == lastState && input.next == greaterThan) {
        if (i > matchedLen) input.acceptToken(textToken, -matchedLen);else input.acceptToken(endToken, -(matchedLen - 2));
        break;
      } else if ((input.next == 10 /* '\n' */ || input.next == 13 /* '\r' */) && i) {
        input.acceptToken(textToken, 1);
        break;
      } else {
        state = matchedLen = 0;
      }
      input.advance();
    }
  });
}
const scriptTokens = contentTokenizer("script", scriptText, StartCloseScriptTag);
const styleTokens = contentTokenizer("style", styleText, StartCloseStyleTag);
const textareaTokens = contentTokenizer("textarea", textareaText, StartCloseTextareaTag);
const htmlHighlighting = (0,highlight_dist/* styleTags */.pn)({
  "Text RawText IncompleteTag IncompleteCloseTag": highlight_dist/* tags */._A.content,
  "StartTag StartCloseTag SelfClosingEndTag EndTag": highlight_dist/* tags */._A.angleBracket,
  TagName: highlight_dist/* tags */._A.tagName,
  "MismatchedCloseTag/TagName": [highlight_dist/* tags */._A.tagName, highlight_dist/* tags */._A.invalid],
  AttributeName: highlight_dist/* tags */._A.attributeName,
  "AttributeValue UnquotedAttributeValue": highlight_dist/* tags */._A.attributeValue,
  Is: highlight_dist/* tags */._A.definitionOperator,
  "EntityReference CharacterReference": highlight_dist/* tags */._A.character,
  Comment: highlight_dist/* tags */._A.blockComment,
  ProcessingInst: highlight_dist/* tags */._A.processingInstruction,
  DoctypeDecl: highlight_dist/* tags */._A.documentMeta
});

// This file was generated by lezer-generator. You probably shouldn't edit it.
const parser = dist/* LRParser */.U1.deserialize({
  version: 14,
  states: ",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",
  stateData: ",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",
  goto: "%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",
  nodeNames: "âš  StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",
  maxTerm: 68,
  context: elementContext,
  nodeProps: [["closedBy", -10, 1, 2, 3, 7, 8, 9, 10, 11, 12, 13, "EndTag", 6, "EndTag SelfClosingEndTag", -4, 22, 31, 34, 37, "CloseTag"], ["openedBy", 4, "StartTag StartCloseTag", 5, "StartTag", -4, 30, 33, 36, 38, "OpenTag"], ["group", -10, 14, 15, 18, 19, 20, 21, 40, 41, 42, 43, "Entity", 17, "Entity TextContent", -3, 29, 32, 35, "TextContent Entity"], ["isolate", -11, 22, 30, 31, 33, 34, 36, 37, 38, 39, 42, 43, "ltr", -3, 27, 28, 40, ""]],
  propSources: [htmlHighlighting],
  skippedNodes: [0],
  repeatNodeCount: 9,
  tokenData: "!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",
  tokenizers: [scriptTokens, styleTokens, textareaTokens, endTag, tagStart, commentContent, 0, 1, 2, 3, 4, 5],
  topRules: {
    "Document": [0, 16]
  },
  dialects: {
    noMatch: 0,
    selfClosing: 515
  },
  tokenPrec: 517
});
function getAttrs(openTag, input) {
  let attrs = Object.create(null);
  for (let att of openTag.getChildren(Attribute)) {
    let name = att.getChild(AttributeName),
      value = att.getChild(AttributeValue) || att.getChild(UnquotedAttributeValue);
    if (name) attrs[input.read(name.from, name.to)] = !value ? "" : value.type.id == AttributeValue ? input.read(value.from + 1, value.to - 1) : input.read(value.from, value.to);
  }
  return attrs;
}
function findTagName(openTag, input) {
  let tagNameNode = openTag.getChild(TagName);
  return tagNameNode ? input.read(tagNameNode.from, tagNameNode.to) : " ";
}
function maybeNest(node, input, tags) {
  let attrs;
  for (let tag of tags) {
    if (!tag.attrs || tag.attrs(attrs || (attrs = getAttrs(node.node.parent.firstChild, input)))) return {
      parser: tag.parser,
      bracketed: true
    };
  }
  return null;
}

// tags?: {
//   tag: string,
//   attrs?: ({[attr: string]: string}) => boolean,
//   parser: Parser
// }[]
// attributes?: {
//   name: string,
//   tagName?: string,
//   parser: Parser
// }[]

function configureNesting(tags = [], attributes = []) {
  let script = [],
    style = [],
    textarea = [],
    other = [];
  for (let tag of tags) {
    let array = tag.tag == "script" ? script : tag.tag == "style" ? style : tag.tag == "textarea" ? textarea : other;
    array.push(tag);
  }
  let attrs = attributes.length ? Object.create(null) : null;
  for (let attr of attributes) (attrs[attr.name] || (attrs[attr.name] = [])).push(attr);
  return (0,common_dist/* parseMixed */.$g)((node, input) => {
    let id = node.type.id;
    if (id == ScriptText) return maybeNest(node, input, script);
    if (id == StyleText) return maybeNest(node, input, style);
    if (id == TextareaText) return maybeNest(node, input, textarea);
    if (id == Element && other.length) {
      let n = node.node,
        open = n.firstChild,
        tagName = open && findTagName(open, input),
        attrs;
      if (tagName) for (let tag of other) {
        if (tag.tag == tagName && (!tag.attrs || tag.attrs(attrs || (attrs = getAttrs(open, input))))) {
          let close = n.lastChild;
          let to = close.type.id == CloseTag ? close.from : n.to;
          if (to > open.to) return {
            parser: tag.parser,
            overlay: [{
              from: open.to,
              to
            }]
          };
        }
      }
    }
    if (attrs && id == Attribute) {
      let n = node.node,
        nameNode;
      if (nameNode = n.firstChild) {
        let matches = attrs[input.read(nameNode.from, nameNode.to)];
        if (matches) for (let attr of matches) {
          if (attr.tagName && attr.tagName != findTagName(n.parent, input)) continue;
          let value = n.lastChild;
          if (value.type.id == AttributeValue) {
            let from = value.from + 1;
            let last = value.lastChild,
              to = value.to - (last && last.isError ? 0 : 1);
            if (to > from) return {
              parser: attr.parser,
              overlay: [{
                from,
                to
              }],
              bracketed: true
            };
          } else if (value.type.id == UnquotedAttributeValue) {
            return {
              parser: attr.parser,
              overlay: [{
                from: value.from,
                to: value.to
              }]
            };
          }
        }
      }
    }
    return null;
  });
}

// EXTERNAL MODULE: ./node_modules/@codemirror/lang-css/dist/index.js + 1 modules
var lang_css_dist = __webpack_require__(65173);
// EXTERNAL MODULE: ./node_modules/@codemirror/lang-javascript/dist/index.js + 1 modules
var lang_javascript_dist = __webpack_require__(28929);
// EXTERNAL MODULE: ./node_modules/@codemirror/view/dist/index.js + 1 modules
var view_dist = __webpack_require__(44898);
// EXTERNAL MODULE: ./node_modules/@codemirror/state/dist/index.js + 1 modules
var state_dist = __webpack_require__(81490);
// EXTERNAL MODULE: ./node_modules/@codemirror/language/dist/index.js
var language_dist = __webpack_require__(69753);
;// ./node_modules/@codemirror/lang-html/dist/index.js






const Targets = ["_blank", "_self", "_top", "_parent"];
const Charsets = ["ascii", "utf-8", "utf-16", "latin1", "latin1"];
const Methods = ["get", "post", "put", "delete"];
const Encs = ["application/x-www-form-urlencoded", "multipart/form-data", "text/plain"];
const Bool = ["true", "false"];
const S = {}; // Empty tag spec
const Tags = {
  a: {
    attrs: {
      href: null,
      ping: null,
      type: null,
      media: null,
      target: Targets,
      hreflang: null
    }
  },
  abbr: S,
  address: S,
  area: {
    attrs: {
      alt: null,
      coords: null,
      href: null,
      target: null,
      ping: null,
      media: null,
      hreflang: null,
      type: null,
      shape: ["default", "rect", "circle", "poly"]
    }
  },
  article: S,
  aside: S,
  audio: {
    attrs: {
      src: null,
      mediagroup: null,
      crossorigin: ["anonymous", "use-credentials"],
      preload: ["none", "metadata", "auto"],
      autoplay: ["autoplay"],
      loop: ["loop"],
      controls: ["controls"]
    }
  },
  b: S,
  base: {
    attrs: {
      href: null,
      target: Targets
    }
  },
  bdi: S,
  bdo: S,
  blockquote: {
    attrs: {
      cite: null
    }
  },
  body: S,
  br: S,
  button: {
    attrs: {
      form: null,
      formaction: null,
      name: null,
      value: null,
      autofocus: ["autofocus"],
      disabled: ["autofocus"],
      formenctype: Encs,
      formmethod: Methods,
      formnovalidate: ["novalidate"],
      formtarget: Targets,
      type: ["submit", "reset", "button"]
    }
  },
  canvas: {
    attrs: {
      width: null,
      height: null
    }
  },
  caption: S,
  center: S,
  cite: S,
  code: S,
  col: {
    attrs: {
      span: null
    }
  },
  colgroup: {
    attrs: {
      span: null
    }
  },
  command: {
    attrs: {
      type: ["command", "checkbox", "radio"],
      label: null,
      icon: null,
      radiogroup: null,
      command: null,
      title: null,
      disabled: ["disabled"],
      checked: ["checked"]
    }
  },
  data: {
    attrs: {
      value: null
    }
  },
  datagrid: {
    attrs: {
      disabled: ["disabled"],
      multiple: ["multiple"]
    }
  },
  datalist: {
    attrs: {
      data: null
    }
  },
  dd: S,
  del: {
    attrs: {
      cite: null,
      datetime: null
    }
  },
  details: {
    attrs: {
      open: ["open"]
    }
  },
  dfn: S,
  div: S,
  dl: S,
  dt: S,
  em: S,
  embed: {
    attrs: {
      src: null,
      type: null,
      width: null,
      height: null
    }
  },
  eventsource: {
    attrs: {
      src: null
    }
  },
  fieldset: {
    attrs: {
      disabled: ["disabled"],
      form: null,
      name: null
    }
  },
  figcaption: S,
  figure: S,
  footer: S,
  form: {
    attrs: {
      action: null,
      name: null,
      "accept-charset": Charsets,
      autocomplete: ["on", "off"],
      enctype: Encs,
      method: Methods,
      novalidate: ["novalidate"],
      target: Targets
    }
  },
  h1: S,
  h2: S,
  h3: S,
  h4: S,
  h5: S,
  h6: S,
  head: {
    children: ["title", "base", "link", "style", "meta", "script", "noscript", "command"]
  },
  header: S,
  hgroup: S,
  hr: S,
  html: {
    attrs: {
      manifest: null
    }
  },
  i: S,
  iframe: {
    attrs: {
      src: null,
      srcdoc: null,
      name: null,
      width: null,
      height: null,
      sandbox: ["allow-top-navigation", "allow-same-origin", "allow-forms", "allow-scripts"],
      seamless: ["seamless"]
    }
  },
  img: {
    attrs: {
      alt: null,
      src: null,
      ismap: null,
      usemap: null,
      width: null,
      height: null,
      crossorigin: ["anonymous", "use-credentials"]
    }
  },
  input: {
    attrs: {
      alt: null,
      dirname: null,
      form: null,
      formaction: null,
      height: null,
      list: null,
      max: null,
      maxlength: null,
      min: null,
      name: null,
      pattern: null,
      placeholder: null,
      size: null,
      src: null,
      step: null,
      value: null,
      width: null,
      accept: ["audio/*", "video/*", "image/*"],
      autocomplete: ["on", "off"],
      autofocus: ["autofocus"],
      checked: ["checked"],
      disabled: ["disabled"],
      formenctype: Encs,
      formmethod: Methods,
      formnovalidate: ["novalidate"],
      formtarget: Targets,
      multiple: ["multiple"],
      readonly: ["readonly"],
      required: ["required"],
      type: ["hidden", "text", "search", "tel", "url", "email", "password", "datetime", "date", "month", "week", "time", "datetime-local", "number", "range", "color", "checkbox", "radio", "file", "submit", "image", "reset", "button"]
    }
  },
  ins: {
    attrs: {
      cite: null,
      datetime: null
    }
  },
  kbd: S,
  keygen: {
    attrs: {
      challenge: null,
      form: null,
      name: null,
      autofocus: ["autofocus"],
      disabled: ["disabled"],
      keytype: ["RSA"]
    }
  },
  label: {
    attrs: {
      for: null,
      form: null
    }
  },
  legend: S,
  li: {
    attrs: {
      value: null
    }
  },
  link: {
    attrs: {
      href: null,
      type: null,
      hreflang: null,
      media: null,
      sizes: ["all", "16x16", "16x16 32x32", "16x16 32x32 64x64"]
    }
  },
  map: {
    attrs: {
      name: null
    }
  },
  mark: S,
  menu: {
    attrs: {
      label: null,
      type: ["list", "context", "toolbar"]
    }
  },
  meta: {
    attrs: {
      content: null,
      charset: Charsets,
      name: ["viewport", "application-name", "author", "description", "generator", "keywords"],
      "http-equiv": ["content-language", "content-type", "default-style", "refresh"]
    }
  },
  meter: {
    attrs: {
      value: null,
      min: null,
      low: null,
      high: null,
      max: null,
      optimum: null
    }
  },
  nav: S,
  noscript: S,
  object: {
    attrs: {
      data: null,
      type: null,
      name: null,
      usemap: null,
      form: null,
      width: null,
      height: null,
      typemustmatch: ["typemustmatch"]
    }
  },
  ol: {
    attrs: {
      reversed: ["reversed"],
      start: null,
      type: ["1", "a", "A", "i", "I"]
    },
    children: ["li", "script", "template", "ul", "ol"]
  },
  optgroup: {
    attrs: {
      disabled: ["disabled"],
      label: null
    }
  },
  option: {
    attrs: {
      disabled: ["disabled"],
      label: null,
      selected: ["selected"],
      value: null
    }
  },
  output: {
    attrs: {
      for: null,
      form: null,
      name: null
    }
  },
  p: S,
  param: {
    attrs: {
      name: null,
      value: null
    }
  },
  pre: S,
  progress: {
    attrs: {
      value: null,
      max: null
    }
  },
  q: {
    attrs: {
      cite: null
    }
  },
  rp: S,
  rt: S,
  ruby: S,
  samp: S,
  script: {
    attrs: {
      type: ["text/javascript"],
      src: null,
      async: ["async"],
      defer: ["defer"],
      charset: Charsets
    }
  },
  section: S,
  select: {
    attrs: {
      form: null,
      name: null,
      size: null,
      autofocus: ["autofocus"],
      disabled: ["disabled"],
      multiple: ["multiple"]
    }
  },
  slot: {
    attrs: {
      name: null
    }
  },
  small: S,
  source: {
    attrs: {
      src: null,
      type: null,
      media: null
    }
  },
  span: S,
  strong: S,
  style: {
    attrs: {
      type: ["text/css"],
      media: null,
      scoped: null
    }
  },
  sub: S,
  summary: S,
  sup: S,
  table: S,
  tbody: S,
  td: {
    attrs: {
      colspan: null,
      rowspan: null,
      headers: null
    }
  },
  template: S,
  textarea: {
    attrs: {
      dirname: null,
      form: null,
      maxlength: null,
      name: null,
      placeholder: null,
      rows: null,
      cols: null,
      autofocus: ["autofocus"],
      disabled: ["disabled"],
      readonly: ["readonly"],
      required: ["required"],
      wrap: ["soft", "hard"]
    }
  },
  tfoot: S,
  th: {
    attrs: {
      colspan: null,
      rowspan: null,
      headers: null,
      scope: ["row", "col", "rowgroup", "colgroup"]
    }
  },
  thead: S,
  time: {
    attrs: {
      datetime: null
    }
  },
  title: S,
  tr: S,
  track: {
    attrs: {
      src: null,
      label: null,
      default: null,
      kind: ["subtitles", "captions", "descriptions", "chapters", "metadata"],
      srclang: null
    }
  },
  ul: {
    children: ["li", "script", "template", "ul", "ol"]
  },
  var: S,
  video: {
    attrs: {
      src: null,
      poster: null,
      width: null,
      height: null,
      crossorigin: ["anonymous", "use-credentials"],
      preload: ["auto", "metadata", "none"],
      autoplay: ["autoplay"],
      mediagroup: ["movie"],
      muted: ["muted"],
      controls: ["controls"]
    }
  },
  wbr: S
};
const GlobalAttrs = {
  accesskey: null,
  class: null,
  contenteditable: Bool,
  contextmenu: null,
  dir: ["ltr", "rtl", "auto"],
  draggable: ["true", "false", "auto"],
  dropzone: ["copy", "move", "link", "string:", "file:"],
  hidden: ["hidden"],
  id: null,
  inert: ["inert"],
  itemid: null,
  itemprop: null,
  itemref: null,
  itemscope: ["itemscope"],
  itemtype: null,
  lang: ["ar", "bn", "de", "en-GB", "en-US", "es", "fr", "hi", "id", "ja", "pa", "pt", "ru", "tr", "zh"],
  spellcheck: Bool,
  autocorrect: Bool,
  autocapitalize: Bool,
  style: null,
  tabindex: null,
  title: null,
  translate: ["yes", "no"],
  rel: ["stylesheet", "alternate", "author", "bookmark", "help", "license", "next", "nofollow", "noreferrer", "prefetch", "prev", "search", "tag"],
  role: /*@__PURE__*/"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),
  "aria-activedescendant": null,
  "aria-atomic": Bool,
  "aria-autocomplete": ["inline", "list", "both", "none"],
  "aria-busy": Bool,
  "aria-checked": ["true", "false", "mixed", "undefined"],
  "aria-controls": null,
  "aria-describedby": null,
  "aria-disabled": Bool,
  "aria-dropeffect": null,
  "aria-expanded": ["true", "false", "undefined"],
  "aria-flowto": null,
  "aria-grabbed": ["true", "false", "undefined"],
  "aria-haspopup": Bool,
  "aria-hidden": Bool,
  "aria-invalid": ["true", "false", "grammar", "spelling"],
  "aria-label": null,
  "aria-labelledby": null,
  "aria-level": null,
  "aria-live": ["off", "polite", "assertive"],
  "aria-multiline": Bool,
  "aria-multiselectable": Bool,
  "aria-owns": null,
  "aria-posinset": null,
  "aria-pressed": ["true", "false", "mixed", "undefined"],
  "aria-readonly": Bool,
  "aria-relevant": null,
  "aria-required": Bool,
  "aria-selected": ["true", "false", "undefined"],
  "aria-setsize": null,
  "aria-sort": ["ascending", "descending", "none", "other"],
  "aria-valuemax": null,
  "aria-valuemin": null,
  "aria-valuenow": null,
  "aria-valuetext": null
};
const eventAttributes = /*@__PURE__*/("beforeunload copy cut dragstart dragover dragleave dragenter dragend " + "drag paste focus blur change click load mousedown mouseenter mouseleave " + "mouseup keydown keyup resize scroll unload").split(" ").map(n => "on" + n);
for (let a of eventAttributes) GlobalAttrs[a] = null;
class Schema {
  constructor(extraTags, extraAttrs) {
    this.tags = {
      ...Tags,
      ...extraTags
    };
    this.globalAttrs = {
      ...GlobalAttrs,
      ...extraAttrs
    };
    this.allTags = Object.keys(this.tags);
    this.globalAttrNames = Object.keys(this.globalAttrs);
  }
}
Schema.default = /*@__PURE__*/new Schema();
function elementName(doc, tree, max = doc.length) {
  if (!tree) return "";
  let tag = tree.firstChild;
  let name = tag && tag.getChild("TagName");
  return name ? doc.sliceString(name.from, Math.min(name.to, max)) : "";
}
function findParentElement(tree, skip = false) {
  for (; tree; tree = tree.parent) if (tree.name == "Element") {
    if (skip) skip = false;else return tree;
  }
  return null;
}
function allowedChildren(doc, tree, schema) {
  let parentInfo = schema.tags[elementName(doc, findParentElement(tree))];
  return (parentInfo === null || parentInfo === void 0 ? void 0 : parentInfo.children) || schema.allTags;
}
function openTags(doc, tree) {
  let open = [];
  for (let parent = findParentElement(tree); parent && !parent.type.isTop; parent = findParentElement(parent.parent)) {
    let tagName = elementName(doc, parent);
    if (tagName && parent.lastChild.name == "CloseTag") break;
    if (tagName && open.indexOf(tagName) < 0 && (tree.name == "EndTag" || tree.from >= parent.firstChild.to)) open.push(tagName);
  }
  return open;
}
const identifier = /^[:\-\.\w\u00b7-\uffff]*$/;
function completeTag(state, schema, tree, from, to) {
  let end = /\s*>/.test(state.sliceDoc(to, to + 5)) ? "" : ">";
  let parent = findParentElement(tree, tree.name == "StartTag" || tree.name == "TagName");
  return {
    from,
    to,
    options: allowedChildren(state.doc, parent, schema).map(tagName => ({
      label: tagName,
      type: "type"
    })).concat(openTags(state.doc, tree).map((tag, i) => ({
      label: "/" + tag,
      apply: "/" + tag + end,
      type: "type",
      boost: 99 - i
    }))),
    validFor: /^\/?[:\-\.\w\u00b7-\uffff]*$/
  };
}
function completeCloseTag(state, tree, from, to) {
  let end = /\s*>/.test(state.sliceDoc(to, to + 5)) ? "" : ">";
  return {
    from,
    to,
    options: openTags(state.doc, tree).map((tag, i) => ({
      label: tag,
      apply: tag + end,
      type: "type",
      boost: 99 - i
    })),
    validFor: identifier
  };
}
function completeStartTag(state, schema, tree, pos) {
  let options = [],
    level = 0;
  for (let tagName of allowedChildren(state.doc, tree, schema)) options.push({
    label: "<" + tagName,
    type: "type"
  });
  for (let open of openTags(state.doc, tree)) options.push({
    label: "</" + open + ">",
    type: "type",
    boost: 99 - level++
  });
  return {
    from: pos,
    to: pos,
    options,
    validFor: /^<\/?[:\-\.\w\u00b7-\uffff]*$/
  };
}
function completeAttrName(state, schema, tree, from, to) {
  let elt = findParentElement(tree),
    info = elt ? schema.tags[elementName(state.doc, elt)] : null;
  let localAttrs = info && info.attrs ? Object.keys(info.attrs) : [];
  let names = info && info.globalAttrs === false ? localAttrs : localAttrs.length ? localAttrs.concat(schema.globalAttrNames) : schema.globalAttrNames;
  return {
    from,
    to,
    options: names.map(attrName => ({
      label: attrName,
      type: "property"
    })),
    validFor: identifier
  };
}
function completeAttrValue(state, schema, tree, from, to) {
  var _a;
  let nameNode = (_a = tree.parent) === null || _a === void 0 ? void 0 : _a.getChild("AttributeName");
  let options = [],
    token = undefined;
  if (nameNode) {
    let attrName = state.sliceDoc(nameNode.from, nameNode.to);
    let attrs = schema.globalAttrs[attrName];
    if (!attrs) {
      let elt = findParentElement(tree),
        info = elt ? schema.tags[elementName(state.doc, elt)] : null;
      attrs = (info === null || info === void 0 ? void 0 : info.attrs) && info.attrs[attrName];
    }
    if (attrs) {
      let base = state.sliceDoc(from, to).toLowerCase(),
        quoteStart = '"',
        quoteEnd = '"';
      if (/^['"]/.test(base)) {
        token = base[0] == '"' ? /^[^"]*$/ : /^[^']*$/;
        quoteStart = "";
        quoteEnd = state.sliceDoc(to, to + 1) == base[0] ? "" : base[0];
        base = base.slice(1);
        from++;
      } else {
        token = /^[^\s<>='"]*$/;
      }
      for (let value of attrs) options.push({
        label: value,
        apply: quoteStart + value + quoteEnd,
        type: "constant"
      });
    }
  }
  return {
    from,
    to,
    options,
    validFor: token
  };
}
function htmlCompletionFor(schema, context) {
  let {
      state,
      pos
    } = context,
    tree = (0,language_dist/* syntaxTree */.mv)(state).resolveInner(pos, -1),
    around = tree.resolve(pos);
  for (let scan = pos, before; around == tree && (before = tree.childBefore(scan));) {
    let last = before.lastChild;
    if (!last || !last.type.isError || last.from < last.to) break;
    around = tree = before;
    scan = last.from;
  }
  if (tree.name == "TagName") {
    return tree.parent && /CloseTag$/.test(tree.parent.name) ? completeCloseTag(state, tree, tree.from, pos) : completeTag(state, schema, tree, tree.from, pos);
  } else if (tree.name == "StartTag" || tree.name == "IncompleteTag") {
    return completeTag(state, schema, tree, pos, pos);
  } else if (tree.name == "StartCloseTag" || tree.name == "IncompleteCloseTag") {
    return completeCloseTag(state, tree, pos, pos);
  } else if (tree.name == "OpenTag" || tree.name == "SelfClosingTag" || tree.name == "AttributeName") {
    return completeAttrName(state, schema, tree, tree.name == "AttributeName" ? tree.from : pos, pos);
  } else if (tree.name == "Is" || tree.name == "AttributeValue" || tree.name == "UnquotedAttributeValue") {
    return completeAttrValue(state, schema, tree, tree.name == "Is" ? pos : tree.from, pos);
  } else if (context.explicit && (around.name == "Element" || around.name == "Text" || around.name == "Document")) {
    return completeStartTag(state, schema, tree, pos);
  } else {
    return null;
  }
}
/**
HTML tag completion. Opens and closes tags and attributes in a
context-aware way.
*/
function htmlCompletionSource(context) {
  return htmlCompletionFor(Schema.default, context);
}
/**
Create a completion source for HTML extended with additional tags
or attributes.
*/
function htmlCompletionSourceWith(config) {
  let {
    extraTags,
    extraGlobalAttributes: extraAttrs
  } = config;
  let schema = extraAttrs || extraTags ? new Schema(extraTags, extraAttrs) : Schema.default;
  return context => htmlCompletionFor(schema, context);
}
const jsonParser = /*@__PURE__*/lang_javascript_dist/* javascriptLanguage */.o$.parser.configure({
  top: "SingleExpression"
});
const defaultNesting = [{
  tag: "script",
  attrs: attrs => attrs.type == "text/typescript" || attrs.lang == "ts",
  parser: lang_javascript_dist/* typescriptLanguage */.sL.parser
}, {
  tag: "script",
  attrs: attrs => attrs.type == "text/babel" || attrs.type == "text/jsx",
  parser: lang_javascript_dist/* jsxLanguage */.W6.parser
}, {
  tag: "script",
  attrs: attrs => attrs.type == "text/typescript-jsx",
  parser: lang_javascript_dist/* tsxLanguage */.g4.parser
}, {
  tag: "script",
  attrs(attrs) {
    return /^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(attrs.type);
  },
  parser: jsonParser
}, {
  tag: "script",
  attrs(attrs) {
    return !attrs.type || /^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(attrs.type);
  },
  parser: lang_javascript_dist/* javascriptLanguage */.o$.parser
}, {
  tag: "style",
  attrs(attrs) {
    return (!attrs.lang || attrs.lang == "css") && (!attrs.type || /^(text\/)?(x-)?(stylesheet|css)$/i.test(attrs.type));
  },
  parser: lang_css_dist/* cssLanguage */.Yk.parser
}];
const defaultAttrs = /*@__PURE__*/[{
  name: "style",
  parser: /*@__PURE__*/lang_css_dist/* cssLanguage */.Yk.parser.configure({
    top: "Styles"
  })
}].concat(/*@__PURE__*/eventAttributes.map(name => ({
  name,
  parser: lang_javascript_dist/* javascriptLanguage */.o$.parser
})));
const htmlPlain = /*@__PURE__*/language_dist/* LRLanguage */.bj.define({
  name: "html",
  parser: /*@__PURE__*/parser.configure({
    props: [/*@__PURE__*/language_dist/* indentNodeProp */.Oh.add({
      Element(context) {
        let after = /^(\s*)(<\/)?/.exec(context.textAfter);
        if (context.node.to <= context.pos + after[0].length) return context.continue();
        return context.lineIndent(context.node.from) + (after[2] ? 0 : context.unit);
      },
      "OpenTag CloseTag SelfClosingTag"(context) {
        return context.column(context.node.from) + context.unit;
      },
      Document(context) {
        if (context.pos + /\s*/.exec(context.textAfter)[0].length < context.node.to) return context.continue();
        let endElt = null,
          close;
        for (let cur = context.node;;) {
          let last = cur.lastChild;
          if (!last || last.name != "Element" || last.to != cur.to) break;
          endElt = cur = last;
        }
        if (endElt && !((close = endElt.lastChild) && (close.name == "CloseTag" || close.name == "SelfClosingTag"))) return context.lineIndent(endElt.from) + context.unit;
        return null;
      }
    }), /*@__PURE__*/language_dist/* foldNodeProp */.b_.add({
      Element(node) {
        let first = node.firstChild,
          last = node.lastChild;
        if (!first || first.name != "OpenTag") return null;
        return {
          from: first.to,
          to: last.name == "CloseTag" ? last.from : node.to
        };
      }
    }), /*@__PURE__*/language_dist/* bracketMatchingHandle */.Q_.add({
      "OpenTag CloseTag": node => node.getChild("TagName")
    })]
  }),
  languageData: {
    commentTokens: {
      block: {
        open: "<!--",
        close: "-->"
      }
    },
    indentOnInput: /^\s*<\/\w+\W$/,
    wordChars: "-_"
  }
});
/**
A language provider based on the [Lezer HTML
parser](https://github.com/lezer-parser/html), extended with the
JavaScript and CSS parsers to parse the content of `<script>` and
`<style>` tags.
*/
const htmlLanguage = /*@__PURE__*/htmlPlain.configure({
  wrap: /*@__PURE__*/configureNesting(defaultNesting, defaultAttrs)
});
/**
Language support for HTML, including
[`htmlCompletion`](https://codemirror.net/6/docs/ref/#lang-html.htmlCompletion) and JavaScript and
CSS support extensions.
*/
function html(config = {}) {
  let dialect = "",
    wrap;
  if (config.matchClosingTags === false) dialect = "noMatch";
  if (config.selfClosingTags === true) dialect = (dialect ? dialect + " " : "") + "selfClosing";
  if (config.nestedLanguages && config.nestedLanguages.length || config.nestedAttributes && config.nestedAttributes.length) wrap = configureNesting((config.nestedLanguages || []).concat(defaultNesting), (config.nestedAttributes || []).concat(defaultAttrs));
  let lang = wrap ? htmlPlain.configure({
    wrap,
    dialect
  }) : dialect ? htmlLanguage.configure({
    dialect
  }) : htmlLanguage;
  return new language_dist/* LanguageSupport */.Yy(lang, [htmlLanguage.data.of({
    autocomplete: htmlCompletionSourceWith(config)
  }), config.autoCloseTags !== false ? autoCloseTags : [], (0,lang_javascript_dist.javascript)().support, (0,lang_css_dist.css)().support]);
}
const dist_selfClosers = /*@__PURE__*/new Set(/*@__PURE__*/"area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" "));
/**
Extension that will automatically insert close tags when a `>` or
`/` is typed.
*/
const autoCloseTags = /*@__PURE__*/view_dist/* EditorView */.Lz.inputHandler.of((view, from, to, text, insertTransaction) => {
  if (view.composing || view.state.readOnly || from != to || text != ">" && text != "/" || !htmlLanguage.isActiveAt(view.state, from, -1)) return false;
  let base = insertTransaction(),
    {
      state
    } = base;
  let closeTags = state.changeByRange(range => {
    var _a, _b, _c;
    let didType = state.doc.sliceString(range.from - 1, range.to) == text;
    let {
        head
      } = range,
      after = (0,language_dist/* syntaxTree */.mv)(state).resolveInner(head, -1),
      name;
    if (didType && text == ">" && after.name == "EndTag") {
      let tag = after.parent;
      if (((_b = (_a = tag.parent) === null || _a === void 0 ? void 0 : _a.lastChild) === null || _b === void 0 ? void 0 : _b.name) != "CloseTag" && (name = elementName(state.doc, tag.parent, head)) && !dist_selfClosers.has(name)) {
        let to = head + (state.doc.sliceString(head, head + 1) === ">" ? 1 : 0);
        let insert = `</${name}>`;
        return {
          range,
          changes: {
            from: head,
            to,
            insert
          }
        };
      }
    } else if (didType && text == "/" && after.name == "IncompleteCloseTag") {
      let tag = after.parent;
      if (after.from == head - 2 && ((_c = tag.lastChild) === null || _c === void 0 ? void 0 : _c.name) != "CloseTag" && (name = elementName(state.doc, tag, head)) && !dist_selfClosers.has(name)) {
        let to = head + (state.doc.sliceString(head, head + 1) === ">" ? 1 : 0);
        let insert = `${name}>`;
        return {
          range: state_dist/* EditorSelection */.OF.cursor(head + insert.length, -1),
          changes: {
            from: head,
            to,
            insert
          }
        };
      }
    }
    return {
      range
    };
  });
  if (closeTags.changes.empty) return false;
  view.dispatch([base, state.update(closeTags, {
    userEvent: "input.complete",
    scrollIntoView: true
  })]);
  return true;
});


/***/ }

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEyOC5qdXB5dGVyLXZpZXdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQ2piQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkYXRhbGF5ZXIvanVweXRlci12aWV3ZXIvLi9ub2RlX21vZHVsZXMvQGxlemVyL2h0bWwvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly9AZGF0YWxheWVyL2p1cHl0ZXItdmlld2VyLy4vbm9kZV9tb2R1bGVzL0Bjb2RlbWlycm9yL2xhbmctaHRtbC9kaXN0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnRleHRUcmFja2VyLCBFeHRlcm5hbFRva2VuaXplciwgTFJQYXJzZXIgfSBmcm9tICdAbGV6ZXIvbHInO1xuaW1wb3J0IHsgc3R5bGVUYWdzLCB0YWdzIH0gZnJvbSAnQGxlemVyL2hpZ2hsaWdodCc7XG5pbXBvcnQgeyBwYXJzZU1peGVkIH0gZnJvbSAnQGxlemVyL2NvbW1vbic7XG5cbi8vIFRoaXMgZmlsZSB3YXMgZ2VuZXJhdGVkIGJ5IGxlemVyLWdlbmVyYXRvci4gWW91IHByb2JhYmx5IHNob3VsZG4ndCBlZGl0IGl0LlxuY29uc3Qgc2NyaXB0VGV4dCA9IDU1LFxuICBTdGFydENsb3NlU2NyaXB0VGFnID0gMSxcbiAgc3R5bGVUZXh0ID0gNTYsXG4gIFN0YXJ0Q2xvc2VTdHlsZVRhZyA9IDIsXG4gIHRleHRhcmVhVGV4dCA9IDU3LFxuICBTdGFydENsb3NlVGV4dGFyZWFUYWcgPSAzLFxuICBFbmRUYWcgPSA0LFxuICBTZWxmQ2xvc2luZ0VuZFRhZyA9IDUsXG4gIFN0YXJ0VGFnID0gNixcbiAgU3RhcnRTY3JpcHRUYWcgPSA3LFxuICBTdGFydFN0eWxlVGFnID0gOCxcbiAgU3RhcnRUZXh0YXJlYVRhZyA9IDksXG4gIFN0YXJ0U2VsZkNsb3NpbmdUYWcgPSAxMCxcbiAgU3RhcnRDbG9zZVRhZyA9IDExLFxuICBOb01hdGNoU3RhcnRDbG9zZVRhZyA9IDEyLFxuICBNaXNtYXRjaGVkU3RhcnRDbG9zZVRhZyA9IDEzLFxuICBtaXNzaW5nQ2xvc2VUYWcgPSA1OCxcbiAgSW5jb21wbGV0ZVRhZyA9IDE0LFxuICBJbmNvbXBsZXRlQ2xvc2VUYWcgPSAxNSxcbiAgY29tbWVudENvbnRlbnQkMSA9IDU5LFxuICBFbGVtZW50ID0gMjEsXG4gIFRhZ05hbWUgPSAyMyxcbiAgQXR0cmlidXRlID0gMjQsXG4gIEF0dHJpYnV0ZU5hbWUgPSAyNSxcbiAgQXR0cmlidXRlVmFsdWUgPSAyNyxcbiAgVW5xdW90ZWRBdHRyaWJ1dGVWYWx1ZSA9IDI4LFxuICBTY3JpcHRUZXh0ID0gMjksXG4gIFN0eWxlVGV4dCA9IDMyLFxuICBUZXh0YXJlYVRleHQgPSAzNSxcbiAgT3BlblRhZyA9IDM3LFxuICBDbG9zZVRhZyA9IDM4LFxuICBEaWFsZWN0X25vTWF0Y2ggPSAwLFxuICBEaWFsZWN0X3NlbGZDbG9zaW5nID0gMTtcblxuLyogSGFuZC13cml0dGVuIHRva2VuaXplcnMgZm9yIEhUTUwuICovXG5cbmNvbnN0IHNlbGZDbG9zZXJzID0ge1xuICBhcmVhOiB0cnVlLFxuICBiYXNlOiB0cnVlLFxuICBicjogdHJ1ZSxcbiAgY29sOiB0cnVlLFxuICBjb21tYW5kOiB0cnVlLFxuICBlbWJlZDogdHJ1ZSxcbiAgZnJhbWU6IHRydWUsXG4gIGhyOiB0cnVlLFxuICBpbWc6IHRydWUsXG4gIGlucHV0OiB0cnVlLFxuICBrZXlnZW46IHRydWUsXG4gIGxpbms6IHRydWUsXG4gIG1ldGE6IHRydWUsXG4gIHBhcmFtOiB0cnVlLFxuICBzb3VyY2U6IHRydWUsXG4gIHRyYWNrOiB0cnVlLFxuICB3YnI6IHRydWUsXG4gIG1lbnVpdGVtOiB0cnVlXG59O1xuY29uc3QgaW1wbGljaXRseUNsb3NlZCA9IHtcbiAgZGQ6IHRydWUsXG4gIGxpOiB0cnVlLFxuICBvcHRncm91cDogdHJ1ZSxcbiAgb3B0aW9uOiB0cnVlLFxuICBwOiB0cnVlLFxuICBycDogdHJ1ZSxcbiAgcnQ6IHRydWUsXG4gIHRib2R5OiB0cnVlLFxuICB0ZDogdHJ1ZSxcbiAgdGZvb3Q6IHRydWUsXG4gIHRoOiB0cnVlLFxuICB0cjogdHJ1ZVxufTtcbmNvbnN0IGNsb3NlT25PcGVuID0ge1xuICBkZDoge1xuICAgIGRkOiB0cnVlLFxuICAgIGR0OiB0cnVlXG4gIH0sXG4gIGR0OiB7XG4gICAgZGQ6IHRydWUsXG4gICAgZHQ6IHRydWVcbiAgfSxcbiAgbGk6IHtcbiAgICBsaTogdHJ1ZVxuICB9LFxuICBvcHRpb246IHtcbiAgICBvcHRpb246IHRydWUsXG4gICAgb3B0Z3JvdXA6IHRydWVcbiAgfSxcbiAgb3B0Z3JvdXA6IHtcbiAgICBvcHRncm91cDogdHJ1ZVxuICB9LFxuICBwOiB7XG4gICAgYWRkcmVzczogdHJ1ZSxcbiAgICBhcnRpY2xlOiB0cnVlLFxuICAgIGFzaWRlOiB0cnVlLFxuICAgIGJsb2NrcXVvdGU6IHRydWUsXG4gICAgZGlyOiB0cnVlLFxuICAgIGRpdjogdHJ1ZSxcbiAgICBkbDogdHJ1ZSxcbiAgICBmaWVsZHNldDogdHJ1ZSxcbiAgICBmb290ZXI6IHRydWUsXG4gICAgZm9ybTogdHJ1ZSxcbiAgICBoMTogdHJ1ZSxcbiAgICBoMjogdHJ1ZSxcbiAgICBoMzogdHJ1ZSxcbiAgICBoNDogdHJ1ZSxcbiAgICBoNTogdHJ1ZSxcbiAgICBoNjogdHJ1ZSxcbiAgICBoZWFkZXI6IHRydWUsXG4gICAgaGdyb3VwOiB0cnVlLFxuICAgIGhyOiB0cnVlLFxuICAgIG1lbnU6IHRydWUsXG4gICAgbmF2OiB0cnVlLFxuICAgIG9sOiB0cnVlLFxuICAgIHA6IHRydWUsXG4gICAgcHJlOiB0cnVlLFxuICAgIHNlY3Rpb246IHRydWUsXG4gICAgdGFibGU6IHRydWUsXG4gICAgdWw6IHRydWVcbiAgfSxcbiAgcnA6IHtcbiAgICBycDogdHJ1ZSxcbiAgICBydDogdHJ1ZVxuICB9LFxuICBydDoge1xuICAgIHJwOiB0cnVlLFxuICAgIHJ0OiB0cnVlXG4gIH0sXG4gIHRib2R5OiB7XG4gICAgdGJvZHk6IHRydWUsXG4gICAgdGZvb3Q6IHRydWVcbiAgfSxcbiAgdGQ6IHtcbiAgICB0ZDogdHJ1ZSxcbiAgICB0aDogdHJ1ZVxuICB9LFxuICB0Zm9vdDoge1xuICAgIHRib2R5OiB0cnVlXG4gIH0sXG4gIHRoOiB7XG4gICAgdGQ6IHRydWUsXG4gICAgdGg6IHRydWVcbiAgfSxcbiAgdGhlYWQ6IHtcbiAgICB0Ym9keTogdHJ1ZSxcbiAgICB0Zm9vdDogdHJ1ZVxuICB9LFxuICB0cjoge1xuICAgIHRyOiB0cnVlXG4gIH1cbn07XG5mdW5jdGlvbiBuYW1lQ2hhcihjaCkge1xuICByZXR1cm4gY2ggPT0gNDUgfHwgY2ggPT0gNDYgfHwgY2ggPT0gNTggfHwgY2ggPj0gNjUgJiYgY2ggPD0gOTAgfHwgY2ggPT0gOTUgfHwgY2ggPj0gOTcgJiYgY2ggPD0gMTIyIHx8IGNoID49IDE2MTtcbn1cbmxldCBjYWNoZWROYW1lID0gbnVsbCxcbiAgY2FjaGVkSW5wdXQgPSBudWxsLFxuICBjYWNoZWRQb3MgPSAwO1xuZnVuY3Rpb24gdGFnTmFtZUFmdGVyKGlucHV0LCBvZmZzZXQpIHtcbiAgbGV0IHBvcyA9IGlucHV0LnBvcyArIG9mZnNldDtcbiAgaWYgKGNhY2hlZFBvcyA9PSBwb3MgJiYgY2FjaGVkSW5wdXQgPT0gaW5wdXQpIHJldHVybiBjYWNoZWROYW1lO1xuICBsZXQgbmV4dCA9IGlucHV0LnBlZWsob2Zmc2V0KSxcbiAgICBuYW1lID0gXCJcIjtcbiAgZm9yICg7Oykge1xuICAgIGlmICghbmFtZUNoYXIobmV4dCkpIGJyZWFrO1xuICAgIG5hbWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShuZXh0KTtcbiAgICBuZXh0ID0gaW5wdXQucGVlaygrK29mZnNldCk7XG4gIH1cbiAgLy8gVW5kZWZpbmVkIHRvIHNpZ25hbCB0aGVyZSdzIGEgPD8gb3IgPCEsIG51bGwgZm9yIGp1c3QgbWlzc2luZ1xuICBjYWNoZWRJbnB1dCA9IGlucHV0O1xuICBjYWNoZWRQb3MgPSBwb3M7XG4gIHJldHVybiBjYWNoZWROYW1lID0gbmFtZSA/IG5hbWUudG9Mb3dlckNhc2UoKSA6IG5leHQgPT0gcXVlc3Rpb24gfHwgbmV4dCA9PSBiYW5nID8gdW5kZWZpbmVkIDogbnVsbDtcbn1cbmNvbnN0IGxlc3NUaGFuID0gNjAsXG4gIGdyZWF0ZXJUaGFuID0gNjIsXG4gIHNsYXNoID0gNDcsXG4gIHF1ZXN0aW9uID0gNjMsXG4gIGJhbmcgPSAzMyxcbiAgZGFzaCA9IDQ1O1xuZnVuY3Rpb24gRWxlbWVudENvbnRleHQobmFtZSwgcGFyZW50KSB7XG4gIHRoaXMubmFtZSA9IG5hbWU7XG4gIHRoaXMucGFyZW50ID0gcGFyZW50O1xufVxuY29uc3Qgc3RhcnRUYWdUZXJtcyA9IFtTdGFydFRhZywgU3RhcnRTZWxmQ2xvc2luZ1RhZywgU3RhcnRTY3JpcHRUYWcsIFN0YXJ0U3R5bGVUYWcsIFN0YXJ0VGV4dGFyZWFUYWddO1xuY29uc3QgZWxlbWVudENvbnRleHQgPSBuZXcgQ29udGV4dFRyYWNrZXIoe1xuICBzdGFydDogbnVsbCxcbiAgc2hpZnQoY29udGV4dCwgdGVybSwgc3RhY2ssIGlucHV0KSB7XG4gICAgcmV0dXJuIHN0YXJ0VGFnVGVybXMuaW5kZXhPZih0ZXJtKSA+IC0xID8gbmV3IEVsZW1lbnRDb250ZXh0KHRhZ05hbWVBZnRlcihpbnB1dCwgMSkgfHwgXCJcIiwgY29udGV4dCkgOiBjb250ZXh0O1xuICB9LFxuICByZWR1Y2UoY29udGV4dCwgdGVybSkge1xuICAgIHJldHVybiB0ZXJtID09IEVsZW1lbnQgJiYgY29udGV4dCA/IGNvbnRleHQucGFyZW50IDogY29udGV4dDtcbiAgfSxcbiAgcmV1c2UoY29udGV4dCwgbm9kZSwgc3RhY2ssIGlucHV0KSB7XG4gICAgbGV0IHR5cGUgPSBub2RlLnR5cGUuaWQ7XG4gICAgcmV0dXJuIHR5cGUgPT0gU3RhcnRUYWcgfHwgdHlwZSA9PSBPcGVuVGFnID8gbmV3IEVsZW1lbnRDb250ZXh0KHRhZ05hbWVBZnRlcihpbnB1dCwgMSkgfHwgXCJcIiwgY29udGV4dCkgOiBjb250ZXh0O1xuICB9LFxuICBzdHJpY3Q6IGZhbHNlXG59KTtcbmNvbnN0IHRhZ1N0YXJ0ID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKChpbnB1dCwgc3RhY2spID0+IHtcbiAgaWYgKGlucHV0Lm5leHQgIT0gbGVzc1RoYW4pIHtcbiAgICAvLyBFbmQgb2YgZmlsZSwgY2xvc2UgYW55IG9wZW4gdGFnc1xuICAgIGlmIChpbnB1dC5uZXh0IDwgMCAmJiBzdGFjay5jb250ZXh0KSBpbnB1dC5hY2NlcHRUb2tlbihtaXNzaW5nQ2xvc2VUYWcpO1xuICAgIHJldHVybjtcbiAgfVxuICBpbnB1dC5hZHZhbmNlKCk7XG4gIGxldCBjbG9zZSA9IGlucHV0Lm5leHQgPT0gc2xhc2g7XG4gIGlmIChjbG9zZSkgaW5wdXQuYWR2YW5jZSgpO1xuICBsZXQgbmFtZSA9IHRhZ05hbWVBZnRlcihpbnB1dCwgMCk7XG4gIGlmIChuYW1lID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgaWYgKCFuYW1lKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oY2xvc2UgPyBJbmNvbXBsZXRlQ2xvc2VUYWcgOiBJbmNvbXBsZXRlVGFnKTtcbiAgbGV0IHBhcmVudCA9IHN0YWNrLmNvbnRleHQgPyBzdGFjay5jb250ZXh0Lm5hbWUgOiBudWxsO1xuICBpZiAoY2xvc2UpIHtcbiAgICBpZiAobmFtZSA9PSBwYXJlbnQpIHJldHVybiBpbnB1dC5hY2NlcHRUb2tlbihTdGFydENsb3NlVGFnKTtcbiAgICBpZiAocGFyZW50ICYmIGltcGxpY2l0bHlDbG9zZWRbcGFyZW50XSkgcmV0dXJuIGlucHV0LmFjY2VwdFRva2VuKG1pc3NpbmdDbG9zZVRhZywgLTIpO1xuICAgIGlmIChzdGFjay5kaWFsZWN0RW5hYmxlZChEaWFsZWN0X25vTWF0Y2gpKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oTm9NYXRjaFN0YXJ0Q2xvc2VUYWcpO1xuICAgIGZvciAobGV0IGN4ID0gc3RhY2suY29udGV4dDsgY3g7IGN4ID0gY3gucGFyZW50KSBpZiAoY3gubmFtZSA9PSBuYW1lKSByZXR1cm47XG4gICAgaW5wdXQuYWNjZXB0VG9rZW4oTWlzbWF0Y2hlZFN0YXJ0Q2xvc2VUYWcpO1xuICB9IGVsc2Uge1xuICAgIGlmIChuYW1lID09IFwic2NyaXB0XCIpIHJldHVybiBpbnB1dC5hY2NlcHRUb2tlbihTdGFydFNjcmlwdFRhZyk7XG4gICAgaWYgKG5hbWUgPT0gXCJzdHlsZVwiKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oU3RhcnRTdHlsZVRhZyk7XG4gICAgaWYgKG5hbWUgPT0gXCJ0ZXh0YXJlYVwiKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oU3RhcnRUZXh0YXJlYVRhZyk7XG4gICAgaWYgKHNlbGZDbG9zZXJzLmhhc093blByb3BlcnR5KG5hbWUpKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oU3RhcnRTZWxmQ2xvc2luZ1RhZyk7XG4gICAgaWYgKHBhcmVudCAmJiBjbG9zZU9uT3BlbltwYXJlbnRdICYmIGNsb3NlT25PcGVuW3BhcmVudF1bbmFtZV0pIGlucHV0LmFjY2VwdFRva2VuKG1pc3NpbmdDbG9zZVRhZywgLTEpO2Vsc2UgaW5wdXQuYWNjZXB0VG9rZW4oU3RhcnRUYWcpO1xuICB9XG59LCB7XG4gIGNvbnRleHR1YWw6IHRydWVcbn0pO1xuY29uc3QgY29tbWVudENvbnRlbnQgPSBuZXcgRXh0ZXJuYWxUb2tlbml6ZXIoaW5wdXQgPT4ge1xuICBmb3IgKGxldCBkYXNoZXMgPSAwLCBpID0gMDs7IGkrKykge1xuICAgIGlmIChpbnB1dC5uZXh0IDwgMCkge1xuICAgICAgaWYgKGkpIGlucHV0LmFjY2VwdFRva2VuKGNvbW1lbnRDb250ZW50JDEpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChpbnB1dC5uZXh0ID09IGRhc2gpIHtcbiAgICAgIGRhc2hlcysrO1xuICAgIH0gZWxzZSBpZiAoaW5wdXQubmV4dCA9PSBncmVhdGVyVGhhbiAmJiBkYXNoZXMgPj0gMikge1xuICAgICAgaWYgKGkgPj0gMykgaW5wdXQuYWNjZXB0VG9rZW4oY29tbWVudENvbnRlbnQkMSwgLTIpO1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhc2hlcyA9IDA7XG4gICAgfVxuICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgfVxufSk7XG5mdW5jdGlvbiBpbkZvcmVpZ25FbGVtZW50KGNvbnRleHQpIHtcbiAgZm9yICg7IGNvbnRleHQ7IGNvbnRleHQgPSBjb250ZXh0LnBhcmVudCkgaWYgKGNvbnRleHQubmFtZSA9PSBcInN2Z1wiIHx8IGNvbnRleHQubmFtZSA9PSBcIm1hdGhcIikgcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn1cbmNvbnN0IGVuZFRhZyA9IG5ldyBFeHRlcm5hbFRva2VuaXplcigoaW5wdXQsIHN0YWNrKSA9PiB7XG4gIGlmIChpbnB1dC5uZXh0ID09IHNsYXNoICYmIGlucHV0LnBlZWsoMSkgPT0gZ3JlYXRlclRoYW4pIHtcbiAgICBsZXQgc2VsZkNsb3NpbmcgPSBzdGFjay5kaWFsZWN0RW5hYmxlZChEaWFsZWN0X3NlbGZDbG9zaW5nKSB8fCBpbkZvcmVpZ25FbGVtZW50KHN0YWNrLmNvbnRleHQpO1xuICAgIGlucHV0LmFjY2VwdFRva2VuKHNlbGZDbG9zaW5nID8gU2VsZkNsb3NpbmdFbmRUYWcgOiBFbmRUYWcsIDIpO1xuICB9IGVsc2UgaWYgKGlucHV0Lm5leHQgPT0gZ3JlYXRlclRoYW4pIHtcbiAgICBpbnB1dC5hY2NlcHRUb2tlbihFbmRUYWcsIDEpO1xuICB9XG59KTtcbmZ1bmN0aW9uIGNvbnRlbnRUb2tlbml6ZXIodGFnLCB0ZXh0VG9rZW4sIGVuZFRva2VuKSB7XG4gIGxldCBsYXN0U3RhdGUgPSAyICsgdGFnLmxlbmd0aDtcbiAgcmV0dXJuIG5ldyBFeHRlcm5hbFRva2VuaXplcihpbnB1dCA9PiB7XG4gICAgLy8gc3RhdGUgbWVhbnM6XG4gICAgLy8gLSAwIG5vdGhpbmcgbWF0Y2hlZFxuICAgIC8vIC0gMSAnPCcgbWF0Y2hlZFxuICAgIC8vIC0gMiAnPC8nXG4gICAgLy8gLSAzLSgxK3RhZy5sZW5ndGgpIHBhcnQgb2YgdGhlIHRhZyBtYXRjaGVkXG4gICAgLy8gLSBsYXN0U3RhdGUgd2hvbGUgdGFnICsgcG9zc2libHkgd2hpdGVzcGFjZSBtYXRjaGVkXG4gICAgZm9yIChsZXQgc3RhdGUgPSAwLCBtYXRjaGVkTGVuID0gMCwgaSA9IDA7OyBpKyspIHtcbiAgICAgIGlmIChpbnB1dC5uZXh0IDwgMCkge1xuICAgICAgICBpZiAoaSkgaW5wdXQuYWNjZXB0VG9rZW4odGV4dFRva2VuKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUgPT0gMCAmJiBpbnB1dC5uZXh0ID09IGxlc3NUaGFuIHx8IHN0YXRlID09IDEgJiYgaW5wdXQubmV4dCA9PSBzbGFzaCB8fCBzdGF0ZSA+PSAyICYmIHN0YXRlIDwgbGFzdFN0YXRlICYmIGlucHV0Lm5leHQgPT0gdGFnLmNoYXJDb2RlQXQoc3RhdGUgLSAyKSkge1xuICAgICAgICBzdGF0ZSsrO1xuICAgICAgICBtYXRjaGVkTGVuKys7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09IGxhc3RTdGF0ZSAmJiBpbnB1dC5uZXh0ID09IGdyZWF0ZXJUaGFuKSB7XG4gICAgICAgIGlmIChpID4gbWF0Y2hlZExlbikgaW5wdXQuYWNjZXB0VG9rZW4odGV4dFRva2VuLCAtbWF0Y2hlZExlbik7ZWxzZSBpbnB1dC5hY2NlcHRUb2tlbihlbmRUb2tlbiwgLShtYXRjaGVkTGVuIC0gMikpO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSBpZiAoKGlucHV0Lm5leHQgPT0gMTAgLyogJ1xcbicgKi8gfHwgaW5wdXQubmV4dCA9PSAxMyAvKiAnXFxyJyAqLykgJiYgaSkge1xuICAgICAgICBpbnB1dC5hY2NlcHRUb2tlbih0ZXh0VG9rZW4sIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlID0gbWF0Y2hlZExlbiA9IDA7XG4gICAgICB9XG4gICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgfVxuICB9KTtcbn1cbmNvbnN0IHNjcmlwdFRva2VucyA9IGNvbnRlbnRUb2tlbml6ZXIoXCJzY3JpcHRcIiwgc2NyaXB0VGV4dCwgU3RhcnRDbG9zZVNjcmlwdFRhZyk7XG5jb25zdCBzdHlsZVRva2VucyA9IGNvbnRlbnRUb2tlbml6ZXIoXCJzdHlsZVwiLCBzdHlsZVRleHQsIFN0YXJ0Q2xvc2VTdHlsZVRhZyk7XG5jb25zdCB0ZXh0YXJlYVRva2VucyA9IGNvbnRlbnRUb2tlbml6ZXIoXCJ0ZXh0YXJlYVwiLCB0ZXh0YXJlYVRleHQsIFN0YXJ0Q2xvc2VUZXh0YXJlYVRhZyk7XG5jb25zdCBodG1sSGlnaGxpZ2h0aW5nID0gc3R5bGVUYWdzKHtcbiAgXCJUZXh0IFJhd1RleHQgSW5jb21wbGV0ZVRhZyBJbmNvbXBsZXRlQ2xvc2VUYWdcIjogdGFncy5jb250ZW50LFxuICBcIlN0YXJ0VGFnIFN0YXJ0Q2xvc2VUYWcgU2VsZkNsb3NpbmdFbmRUYWcgRW5kVGFnXCI6IHRhZ3MuYW5nbGVCcmFja2V0LFxuICBUYWdOYW1lOiB0YWdzLnRhZ05hbWUsXG4gIFwiTWlzbWF0Y2hlZENsb3NlVGFnL1RhZ05hbWVcIjogW3RhZ3MudGFnTmFtZSwgdGFncy5pbnZhbGlkXSxcbiAgQXR0cmlidXRlTmFtZTogdGFncy5hdHRyaWJ1dGVOYW1lLFxuICBcIkF0dHJpYnV0ZVZhbHVlIFVucXVvdGVkQXR0cmlidXRlVmFsdWVcIjogdGFncy5hdHRyaWJ1dGVWYWx1ZSxcbiAgSXM6IHRhZ3MuZGVmaW5pdGlvbk9wZXJhdG9yLFxuICBcIkVudGl0eVJlZmVyZW5jZSBDaGFyYWN0ZXJSZWZlcmVuY2VcIjogdGFncy5jaGFyYWN0ZXIsXG4gIENvbW1lbnQ6IHRhZ3MuYmxvY2tDb21tZW50LFxuICBQcm9jZXNzaW5nSW5zdDogdGFncy5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sXG4gIERvY3R5cGVEZWNsOiB0YWdzLmRvY3VtZW50TWV0YVxufSk7XG5cbi8vIFRoaXMgZmlsZSB3YXMgZ2VuZXJhdGVkIGJ5IGxlemVyLWdlbmVyYXRvci4gWW91IHByb2JhYmx5IHNob3VsZG4ndCBlZGl0IGl0LlxuY29uc3QgcGFyc2VyID0gTFJQYXJzZXIuZGVzZXJpYWxpemUoe1xuICB2ZXJzaW9uOiAxNCxcbiAgc3RhdGVzOiBcIix4T1ZPIXJPT08hWlEjdE8nI0NyTyFgUSN0TycjQ3tPIWVRI3RPJyNET08halEjdE8nI0RSTyFvUSN0TycjRFRPIXRPYU8nI0NxTyNQT2JPJyNDcU8jW09kTycjQ3FPJGtPIXJPJyNDcU9PT2AnI0NxJyNDcU8kck8kZk8nI0RVTyR6USN0TycjRFdPJVBRI3RPJyNEWE9PT2AnI0RsJyNEbE9PT2AnI0RaJyNEWlFWTyFyT09PJVVRJnJPLDU5Xk8lYVEmck8sNTlnTyVsUSZyTyw1OWpPJXdRJnJPLDU5bU8mU1Emck8sNTlvT09PYScjRF8nI0RfTyZfT2FPJyNDeU8mak9hTyw1OV1PT09iJyNEYCcjRGBPJnJPYk8nI0N8TyZ9T2JPLDU5XU9PT2QnI0RhJyNEYU8nVk9kTycjRFBPJ2JPZE8sNTldT09PYCcjRGInI0RiTydqTyFyTyw1OV1PJ3FRI3RPJyNEU09PT2AsNTldLDU5XU9PT3AnI0RjJyNEY08ndk8kZk8sNTlwT09PYCw1OXAsNTlwTyhPUSN8Tyw1OXJPKFRRI3xPLDU5c09PT2AtRTdYLUU3WE8oWVEmck8nI0N0T09RVycjRFsnI0RbTyhoUSZyTzFHLnhPT09hMUcueDFHLnhPT09gMUcvWjFHL1pPKHNRJnJPMUcvUk9PT2IxRy9SMUcvUk8pT1Emck8xRy9VT09PZDFHL1UxRy9VTylaUSZyTzFHL1hPT09gMUcvWDFHL1hPKWZRJnJPMUcvWk9PT2EtRTddLUU3XU8pcVEjdE8nI0N6T09PYDFHLncxRy53T09PYi1FN14tRTdeTyl2USN0TycjQ31PT09kLUU3Xy1FN19PKXtRI3RPJyNEUU9PT2AtRTdgLUU3YE8qUVEjfE8sNTluT09PcC1FN2EtRTdhT09PYDFHL1sxRy9bT09PYDFHL14xRy9eT09PYDFHL18xRy9fTypWUSxVTyw1OWBPT1FXLUU3WS1FN1lPT09hNyskZDcrJGRPT09gNyskdTcrJHVPT09iNyskbTcrJG1PT09kNyskcDcrJHBPT09gNyskczcrJHNPKmJRI3xPLDU5Zk8qZ1EjfE8sNTlpTypsUSN8Tyw1OWxPT09gMUcvWTFHL1lPKnFPN1tPJyNDd08rU09NaE8nI0N3T09RVzFHLnoxRy56T09PYDFHL1ExRy9RT09PYDFHL1QxRy9UT09PYDFHL1cxRy9XT09PTycjRF0nI0RdTytlTzdbTyw1OWNPT1FXLDU5Yyw1OWNPT09PJyNEXicjRF5PK3ZPTWhPLDU5Y09PT08tRTdaLUU3Wk9PUVcxRy59MUcufU9PT08tRTdbLUU3W1wiLFxuICBzdGF0ZURhdGE6IFwiLGN+TyFfT1N+T1VTT1ZQT1dRT1hST1lUT1tdT11bT15eT19eT2FeT2JeT2NeT2ReT3leT3xfTyFlWk9+T2dhT35PZ2JPfk9nY09+T2dkT35PZ2VPfk8hWGZPUG1QIVttUH5PIVlpT1FwUCFbcFB+TyFabE9Sc1AhW3NQfk9VU09WUE9XUU9YUk9ZVE9acU9bXU9dW09eXk9fXk9hXk9iXk9jXk9kXk95Xk8hZVpPfk8hW3JPflAjZ08hXXNPIWZ1T35PZ3ZPfk9nd09+T1N8T1R9T2l5T35PUyFQT1R9T2l5T35PUyFST1R9T2l5T35PUyFUT1R9T2l5T35PU31PVH1PaXlPfk8hWGZPUG1YIVttWH5PUCFXTyFbIVhPfk8hWWlPUXBYIVtwWH5PUSFaTyFbIVhPfk8hWmxPUnNYIVtzWH5PUiFdTyFbIVhPfk8hWyFYT35QI2dPZyFfT35PIV1zTyFmIWFPfk9TIWJPfk9TIWNPfk9qIWRPU2hYVGhYaWhYfk9TIWZPVCFnT2l5T35PUyFoT1QhZ09peU9+T1MhaU9UIWdPaXlPfk9TIWpPVCFnT2l5T35PUyFnT1QhZ09peU9+T2cha09+T2chbE9+T2chbU9+T1Mhbk9+T2whcU8hYSFvTyFjIXBPfk9TIXJPfk9TIXNPfk9TIXRPfk9iIXVPYyF1T2QhdU8hYSF3TyFiIXVPfk9iIXhPYyF4T2QheE8hYyF3TyFkIXhPfk9iIXVPYyF1T2QhdU8hYSF7TyFiIXVPfk9iIXhPYyF4T2QheE8hYyF7TyFkIXhPfk9UfmNiZCFleXwhZX5cIixcbiAgZ290bzogXCIlcSFhUFBQUFBQUFBQUFBQUFBQUFBQUFBQIWIhaFAhblBQIXpQIX0jUSNUI1ojXiNhI2cjaiNtI3MjeSFiUCFiIWJQJFAkViRtJHMkeSVQJVYlXSVjUFBQUFBQUFAlaVheT1hgcFhVT1hgcGV6YWJjZGV7IU8hUSFTIVVSIXEhZFJoVVIhWGhYVk9YYHBSa1ZSIVhrWFdPWGBwUm5XUiFYblhYT1hgcFFyWFIhWHBYWU9YYHBRYE9SeGBRe2FRIU9iUSFRY1EhU2RRIVVlWiFleyFPIVEhUyFVUSF2IW9SIXohdlEheSFwUiF8IXlRZ1VSIVZnUWpWUiFZalFtV1IhW21RcFhSIV5wUXRaUiFgdFNfT2BUb1hwXCIsXG4gIG5vZGVOYW1lczogXCLimqAgU3RhcnRDbG9zZVRhZyBTdGFydENsb3NlVGFnIFN0YXJ0Q2xvc2VUYWcgRW5kVGFnIFNlbGZDbG9zaW5nRW5kVGFnIFN0YXJ0VGFnIFN0YXJ0VGFnIFN0YXJ0VGFnIFN0YXJ0VGFnIFN0YXJ0VGFnIFN0YXJ0Q2xvc2VUYWcgU3RhcnRDbG9zZVRhZyBTdGFydENsb3NlVGFnIEluY29tcGxldGVUYWcgSW5jb21wbGV0ZUNsb3NlVGFnIERvY3VtZW50IFRleHQgRW50aXR5UmVmZXJlbmNlIENoYXJhY3RlclJlZmVyZW5jZSBJbnZhbGlkRW50aXR5IEVsZW1lbnQgT3BlblRhZyBUYWdOYW1lIEF0dHJpYnV0ZSBBdHRyaWJ1dGVOYW1lIElzIEF0dHJpYnV0ZVZhbHVlIFVucXVvdGVkQXR0cmlidXRlVmFsdWUgU2NyaXB0VGV4dCBDbG9zZVRhZyBPcGVuVGFnIFN0eWxlVGV4dCBDbG9zZVRhZyBPcGVuVGFnIFRleHRhcmVhVGV4dCBDbG9zZVRhZyBPcGVuVGFnIENsb3NlVGFnIFNlbGZDbG9zaW5nVGFnIENvbW1lbnQgUHJvY2Vzc2luZ0luc3QgTWlzbWF0Y2hlZENsb3NlVGFnIENsb3NlVGFnIERvY3R5cGVEZWNsXCIsXG4gIG1heFRlcm06IDY4LFxuICBjb250ZXh0OiBlbGVtZW50Q29udGV4dCxcbiAgbm9kZVByb3BzOiBbW1wiY2xvc2VkQnlcIiwgLTEwLCAxLCAyLCAzLCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgXCJFbmRUYWdcIiwgNiwgXCJFbmRUYWcgU2VsZkNsb3NpbmdFbmRUYWdcIiwgLTQsIDIyLCAzMSwgMzQsIDM3LCBcIkNsb3NlVGFnXCJdLCBbXCJvcGVuZWRCeVwiLCA0LCBcIlN0YXJ0VGFnIFN0YXJ0Q2xvc2VUYWdcIiwgNSwgXCJTdGFydFRhZ1wiLCAtNCwgMzAsIDMzLCAzNiwgMzgsIFwiT3BlblRhZ1wiXSwgW1wiZ3JvdXBcIiwgLTEwLCAxNCwgMTUsIDE4LCAxOSwgMjAsIDIxLCA0MCwgNDEsIDQyLCA0MywgXCJFbnRpdHlcIiwgMTcsIFwiRW50aXR5IFRleHRDb250ZW50XCIsIC0zLCAyOSwgMzIsIDM1LCBcIlRleHRDb250ZW50IEVudGl0eVwiXSwgW1wiaXNvbGF0ZVwiLCAtMTEsIDIyLCAzMCwgMzEsIDMzLCAzNCwgMzYsIDM3LCAzOCwgMzksIDQyLCA0MywgXCJsdHJcIiwgLTMsIDI3LCAyOCwgNDAsIFwiXCJdXSxcbiAgcHJvcFNvdXJjZXM6IFtodG1sSGlnaGxpZ2h0aW5nXSxcbiAgc2tpcHBlZE5vZGVzOiBbMF0sXG4gIHJlcGVhdE5vZGVDb3VudDogOSxcbiAgdG9rZW5EYXRhOiBcIiE8cCFhUiFZT1gkcVhZLFFZWixRWlskcVtdJlhdXixRXnAkcXBxLFFxci1fcnMzX3N2LV92dzN9d3hIWXh9LV99IU9IeyFPIVAtXyFQIVEkcSFRIVstXyFbIV1NeiFdIV4tXyFeIV8hJFMhXyFgITt4IWAhYSZYIWEhYy1fIWMhfU16IX0jUi1fI1IjU016I1MjVDFrI1Qjb016I28jcy1fI3MkZiRxJGYlVy1fJVclb016JW8lcC1fJXAmYU16JmEmYi1fJmIxcE16MXA0VS1fNFU0ZE16NGQ0ZS1fNGUkSVNNeiRJUyRJYC1fJElgJEliTXokSWIkS2gtXyRLaCUjdE16JSN0Ji94LV8mL3gmRXRNeiZFdCZGVi1fJkZWOydTTXo7J1M7OmohI3w7Omo7PWAzWDwlbD8mci1fPyZyP0FoTXo/QWg/QlkkcT9CWT9Nbk16P01uTyRxIVokfGNhUGxXIWJgIWRwT1gkcVhaJlhaWyRxW14mWF5wJHFwcSZYcXIkcXJzJn1zdiRxdncrUHd4KHR4IV4kcSFeIV8qViFfIWEmWCFhI1MkcSNTI1QmWCNUOydTJHE7J1M7PWArejwlbE8kcSFSJmJYYVAhYmAhZHBPciZYcnMmfXN2Jlh3eCh0eCFeJlghXiFfKlYhXzsnUyZYOydTOz1gKnk8JWxPJlhxJ1VWYVAhZHBPdiZ9d3gna3ghXiZ9IV4hXyhWIV87J1MmfTsnUzs9YChuPCVsTyZ9UCdwVGFQT3Yna3chXidrIV87J1MnazsnUzs9YChQPCVsTydrUChTUDs9YDwlbCdrcChbUyFkcE92KFZ4OydTKFY7J1M7PWAoaDwlbE8oVnAoa1A7PWA8JWwoVnEocVA7PWA8JWwmfWEoe1dhUCFiYE9yKHRycydrc3YodHchXih0IV4hXyllIV87J1ModDsnUzs9YCpQPCVsTyh0YClqVCFiYE9yKWVzdilldzsnUyllOydTOz1gKXk8JWxPKWVgKXxQOz1gPCVsKWVhKlNQOz1gPCVsKHQhUSpeViFiYCFkcE9yKlZycyhWc3YqVnd4KWV4OydTKlY7J1M7PWAqczwlbE8qViFRKnZQOz1gPCVsKlYhUip8UDs9YDwlbCZYVytVWWxXT1grUFpbK1BecCtQcXIrUHN3K1B4IV4rUCFhI1MrUCNUOydTK1A7J1M7PWArdDwlbE8rUFcrd1A7PWA8JWwrUCFaK31QOz1gPCVsJHEhYSxdYGFQIWJgIWRwIV9eT1gmWFhZLFFZWixRWl0mWF1eLFFecCZYcHEsUXFyJlhycyZ9c3YmWHd4KHR4IV4mWCFeIV8qViFfOydTJlg7J1M7PWAqeTwlbE8mWCFfLWxqaVNhUGxXIWJgIWRwT1gkcVhaJlhaWyRxW14mWF5wJHFwcSZYcXItX3JzJn1zdi1fdncvXnd4KHR4IVAtXyFQIVEkcSFRIV4tXyFeIV8qViFfIWEmWCFhI1MtXyNTI1QxayNUI3MtXyNzJGYkcSRmOydTLV87J1M7PWAzWDwlbD9BaC1fP0FoP0JZJHE/Qlk/TW4tXz9Nbk8kcVsvZWJpU2xXT1grUFpbK1BecCtQcXIvXnN3L154IVAvXiFQIVErUCFRIV4vXiFhI1MvXiNTI1QwbSNUI3MvXiNzJGYrUCRmOydTL147J1M7PWAxZTwlbD9BaC9eP0FoP0JZK1A/Qlk/TW4vXj9Nbk8rUFMwclhpU3FyMG1zdzBteCFQMG0hUSFeMG0hYSNzMG0kZjsnUzBtOydTOz1gMV88JWw/QWgwbT9CWT9NbjBtUzFiUDs9YDwlbDBtWzFoUDs9YDwlbC9eIVYxdmNpU2FQIWJgIWRwT3EmWHFyMWtycyZ9c3Yxa3Z3MG13eCh0eCFQMWshUCFRJlghUSFeMWshXiFfKlYhXyFhJlghYSNzMWsjcyRmJlgkZjsnUzFrOydTOz1gM1I8JWw/QWgxaz9BaD9CWSZYP0JZP01uMWs/TW5PJlghVjNVUDs9YDwlbDFrIV8zW1A7PWA8JWwtXyFaM2hWIWFoYVAhZHBPdiZ9d3gna3ghXiZ9IV4hXyhWIV87J1MmfTsnUzs9YChuPCVsTyZ9IV80V2lpU2xXZCFST1g1dVhaN1NaWzV1W143U15wNXVxcjh0cnM3U3N0Pl10dzh0d3g3U3ghUDh0IVAhUTV1IVEhXTh0IV0hXi9eIV4hYTdTIWEjUzh0I1MjVDt7I1Qjczh0I3MkZjV1JGY7J1M4dDsnUzs9YD5WPCVsP0FoOHQ/QWg/Qlk1dT9CWT9Nbjh0P01uTzV1IVo1emJsV09YNXVYWjdTWls1dVteN1NecDV1cXI1dXJzN1NzdCtQdHc1dXd4N1N4IV01dSFdIV43dyFeIWE3UyFhI1M1dSNTI1Q3UyNUOydTNXU7J1M7PWA4bjwlbE81dSFSN1ZWT3A3U3FzN1N0IV03UyFdIV43bCFeOydTN1M7J1M7PWA3cTwlbE83UyFSN3FPYiFSIVI3dFA7PWA8JWw3UyFaOE9ZbFdiIVJPWCtQWlsrUF5wK1BxcitQc3crUHghXitQIWEjUytQI1Q7J1MrUDsnUzs9YCt0PCVsTytQIVo4cVA7PWA8JWw1dSFfOHtpaVNsV09YNXVYWjdTWls1dVteN1NecDV1cXI4dHJzN1NzdC9edHc4dHd4N1N4IVA4dCFQIVE1dSFRIV04dCFdIV46aiFeIWE3UyFhI1M4dCNTI1Q7eyNUI3M4dCNzJGY1dSRmOydTOHQ7J1M7PWA+VjwlbD9BaDh0P0FoP0JZNXU/Qlk/TW44dD9Nbk81dSFfOnNiaVNsV2IhUk9YK1BaWytQXnArUHFyL15zdy9eeCFQL14hUCFRK1AhUSFeL14hYSNTL14jUyNUMG0jVCNzL14jcyRmK1AkZjsnUy9eOydTOz1gMWU8JWw/QWgvXj9BaD9CWStQP0JZP01uL14/TW5PK1AhVjxRY2lTT3A3U3FyO3tyczdTc3QwbXR3O3t3eDdTeCFQO3shUCFRN1MhUSFdO3shXSFePV0hXiFhN1MhYSNzO3sjcyRmN1MkZjsnUzt7OydTOz1gPlA8JWw/QWg7ez9BaD9CWTdTP0JZP01uO3s/TW5PN1MhVj1kWGlTYiFScXIwbXN3MG14IVAwbSFRIV4wbSFhI3MwbSRmOydTMG07J1M7PWAxXzwlbD9BaDBtP0JZP01uMG0hVj5TUDs9YDwlbDt7IV8+WVA7PWA8JWw4dCFfPmRoaVNsV09YQE9YWkFZWltAT1teQVlecEBPcXJCd3JzQVlzd0J3d3hBWXghUEJ3IVAhUUBPIVEhXUJ3IV0hXi9eIV4hYUFZIWEjU0J3I1MjVEV7I1Qjc0J3I3MkZkBPJGY7J1NCdzsnUzs9YEhTPCVsP0FoQnc/QWg/QllATz9CWT9NbkJ3P01uT0BPIVpAVGFsV09YQE9YWkFZWltAT1teQVlecEBPcXJAT3JzQVlzd0BPd3hBWXghXUBPIV0hXkF6IV4hYUFZIWEjU0BPI1MjVEFZI1Q7J1NATzsnUzs9YEJxPCVsT0BPIVJBXVVPcEFZcSFdQVkhXSFeQW8hXjsnU0FZOydTOz1gQXQ8JWxPQVkhUkF0T2MhUiFSQXdQOz1gPCVsQVkhWkJSWWxXYyFST1grUFpbK1BecCtQcXIrUHN3K1B4IV4rUCFhI1MrUCNUOydTK1A7J1M7PWArdDwlbE8rUCFaQnRQOz1gPCVsQE8hX0NPaGlTbFdPWEBPWFpBWVpbQE9bXkFZXnBAT3FyQndyc0FZc3dCd3d4QVl4IVBCdyFQIVFATyFRIV1CdyFdIV5EaiFeIWFBWSFhI1NCdyNTI1RFeyNUI3NCdyNzJGZATyRmOydTQnc7J1M7PWBIUzwlbD9BaEJ3P0FoP0JZQE8/Qlk/TW5Cdz9Nbk9ATyFfRHNiaVNsV2MhUk9YK1BaWytQXnArUHFyL15zdy9eeCFQL14hUCFRK1AhUSFeL14hYSNTL14jUyNUMG0jVCNzL14jcyRmK1AkZjsnUy9eOydTOz1gMWU8JWw/QWgvXj9BaD9CWStQP0JZP01uL14/TW5PK1AhVkZRYmlTT3BBWXFyRXtyc0FZc3dFe3d4QVl4IVBFeyFQIVFBWSFRIV1FeyFdIV5HWSFeIWFBWSFhI3NFeyNzJGZBWSRmOydTRXs7J1M7PWBHfDwlbD9BaEV7P0FoP0JZQVk/Qlk/TW5Fez9Nbk9BWSFWR2FYaVNjIVJxcjBtc3cwbXghUDBtIVEhXjBtIWEjczBtJGY7J1MwbTsnUzs9YDFfPCVsP0FoMG0/Qlk/TW4wbSFWSFBQOz1gPCVsRXshX0hWUDs9YDwlbEJ3IVpIY1chY3hhUCFiYE9yKHRycydrc3YodHchXih0IV4hXyllIV87J1ModDsnUzs9YCpQPCVsTyh0IWFJWWxpU2FQbFchYmAhZHBPWCRxWFomWFpbJHFbXiZYXnAkcXBxJlhxci1fcnMmfXN2LV92dy9ed3godHh9LV99IU9LUSFPIVAtXyFQIVEkcSFRIV4tXyFeIV8qViFfIWEmWCFhI1MtXyNTI1QxayNUI3MtXyNzJGYkcSRmOydTLV87J1M7PWAzWDwlbD9BaC1fP0FoP0JZJHE/Qlk/TW4tXz9Nbk8kcSFhS19raVNhUGxXIWJgIWRwT1gkcVhaJlhaWyRxW14mWF5wJHFwcSZYcXItX3JzJn1zdi1fdncvXnd4KHR4IVAtXyFQIVEkcSFRIV4tXyFeIV8qViFfIWAmWCFgIWFNUyFhI1MtXyNTI1QxayNUI3MtXyNzJGYkcSRmOydTLV87J1M7PWAzWDwlbD9BaC1fP0FoP0JZJHE/Qlk/TW4tXz9Nbk8kcSFUTV9YYVAhYmAhZHAhZlFPciZYcnMmfXN2Jlh3eCh0eCFeJlghXiFfKlYhXzsnUyZYOydTOz1gKnk8JWxPJlghYU5aIVppU2dRYVBsVyFiYCFkcE9YJHFYWiZYWlskcVteJlhecCRxcHEmWHFyLV9ycyZ9c3YtX3Z3L153eCh0eH0tX30hT016IU8hUE16IVAhUSRxIVEhW016IVshXU16IV0hXi1fIV4hXypWIV8hYSZYIWEhYy1fIWMhfU16IX0jUi1fI1IjU016I1MjVDFrI1Qjb016I28jcy1fI3MkZiRxJGYkfS1fJH0lT016JU8lVy1fJVclb016JW8lcC1fJXAmYU16JmEmYi1fJmIxcE16MXA0VU16NFU0ZE16NGQ0ZS1fNGUkSVNNeiRJUyRJYC1fJElgJEliTXokSWIkSmUtXyRKZSRKZ016JEpnJEtoLV8kS2glI3RNeiUjdCYveC1fJi94JkV0TXomRXQmRlYtXyZGVjsnU016OydTOzpqISN8OzpqOz1gM1g8JWw/JnItXz8mcj9BaE16P0FoP0JZJHE/Qlk/TW5Nej9Nbk8kcSFhISRQUDs9YDwlbE16IVIhJFpZIWJgIWRwT3EqVnFyISR5cnMoVnN2KlZ3eClleCFhKlYhYSFiITR0IWI7J1MqVjsnUzs9YCpzPCVsTypWIVIhJVFdIWJgIWRwT3IqVnJzKFZzdipWd3gpZXh9KlZ9IU8hJXkhTyFmKlYhZiFnISddIWcjVypWI1cjWCEwYCNYOydTKlY7J1M7PWAqczwlbE8qViFSISZRWCFiYCFkcE9yKlZycyhWc3YqVnd4KWV4fSpWfSFPISZtIU87J1MqVjsnUzs9YCpzPCVsTypWIVIhJnZWIWJgIWRwIWVQT3IqVnJzKFZzdipWd3gpZXg7J1MqVjsnUzs9YCpzPCVsTypWIVIhJ2RYIWJgIWRwT3IqVnJzKFZzdipWd3gpZXghcSpWIXEhciEoUCFyOydTKlY7J1M7PWAqczwlbE8qViFSIShXWCFiYCFkcE9yKlZycyhWc3YqVnd4KWV4IWUqViFlIWYhKHMhZjsnUypWOydTOz1gKnM8JWxPKlYhUiEoelghYmAhZHBPcipWcnMoVnN2KlZ3eClleCF2KlYhdiF3ISlnIXc7J1MqVjsnUzs9YCpzPCVsTypWIVIhKW5YIWJgIWRwT3IqVnJzKFZzdipWd3gpZXgheypWIXshfCEqWiF8OydTKlY7J1M7PWAqczwlbE8qViFSISpiWCFiYCFkcE9yKlZycyhWc3YqVnd4KWV4IXIqViFyIXMhKn0hczsnUypWOydTOz1gKnM8JWxPKlYhUiErVVghYmAhZHBPcipWcnMoVnN2KlZ3eClleCFnKlYhZyFoIStxIWg7J1MqVjsnUzs9YCpzPCVsTypWIVIhK3hZIWJgIWRwT3IhK3FycyEsaHN2IStxdnchLVN3eCEuW3ghYCErcSFgIWEhL2ohYTsnUyErcTsnUzs9YCEwWTwlbE8hK3FxISxtViFkcE92ISxodnghLVN4IWAhLGghYCFhIS1xIWE7J1MhLGg7J1M7PWAhLlU8JWxPISxoUCEtVlRPIWAhLVMhYCFhIS1mIWE7J1MhLVM7J1M7PWAhLWs8JWxPIS1TUCEta098UFAhLW5QOz1gPCVsIS1TcSEteFMhZHB8UE92KFZ4OydTKFY7J1M7PWAoaDwlbE8oVnEhLlhQOz1gPCVsISxoYSEuYVghYmBPciEuW3JzIS1Tc3YhLlt2dyEtU3chYCEuWyFgIWEhLnwhYTsnUyEuWzsnUzs9YCEvZDwlbE8hLlthIS9UVCFiYHxQT3IpZXN2KWV3OydTKWU7J1M7PWApeTwlbE8pZWEhL2dQOz1gPCVsIS5bIVIhL3NWIWJgIWRwfFBPcipWcnMoVnN2KlZ3eClleDsnUypWOydTOz1gKnM8JWxPKlYhUiEwXVA7PWA8JWwhK3EhUiEwZ1ghYmAhZHBPcipWcnMoVnN2KlZ3eClleCNjKlYjYyNkITFTI2Q7J1MqVjsnUzs9YCpzPCVsTypWIVIhMVpYIWJgIWRwT3IqVnJzKFZzdipWd3gpZXgjVipWI1YjVyExdiNXOydTKlY7J1M7PWAqczwlbE8qViFSITF9WCFiYCFkcE9yKlZycyhWc3YqVnd4KWV4I2gqViNoI2khMmojaTsnUypWOydTOz1gKnM8JWxPKlYhUiEycVghYmAhZHBPcipWcnMoVnN2KlZ3eClleCNtKlYjbSNuITNeI247J1MqVjsnUzs9YCpzPCVsTypWIVIhM2VYIWJgIWRwT3IqVnJzKFZzdipWd3gpZXgjZCpWI2QjZSE0USNlOydTKlY7J1M7PWAqczwlbE8qViFSITRYWCFiYCFkcE9yKlZycyhWc3YqVnd4KWV4I1gqViNYI1khK3EjWTsnUypWOydTOz1gKnM8JWxPKlYhUiE0e1khYmAhZHBPciE0dHJzITVrc3YhNHR2dyE2Vnd4IThdeCFhITR0IWEhYiE6XSFiOydTITR0OydTOz1gITtyPCVsTyE0dHEhNXBWIWRwT3YhNWt2eCE2VnghYSE1ayFhIWIhN1chYjsnUyE1azsnUzs9YCE4VjwlbE8hNWtQITZZVE8hYSE2ViFhIWIhNmkhYjsnUyE2VjsnUzs9YCE3UTwlbE8hNlZQITZsVE8hYCE2ViFgIWEhNnshYTsnUyE2VjsnUzs9YCE3UTwlbE8hNlZQITdRT3lQUCE3VFA7PWA8JWwhNlZxITddViFkcE92ITVrdnghNlZ4IWAhNWshYCFhITdyIWE7J1MhNWs7J1M7PWAhOFY8JWxPITVrcSE3eVMhZHB5UE92KFZ4OydTKFY7J1M7PWAoaDwlbE8oVnEhOFlQOz1gPCVsITVrYSE4YlghYmBPciE4XXJzITZWc3YhOF12dyE2VnchYSE4XSFhIWIhOH0hYjsnUyE4XTsnUzs9YCE6VjwlbE8hOF1hITlTWCFiYE9yIThdcnMhNlZzdiE4XXZ3ITZWdyFgIThdIWAhYSE5byFhOydTIThdOydTOz1gITpWPCVsTyE4XWEhOXZUIWJgeVBPcillc3YpZXc7J1MpZTsnUzs9YCl5PCVsTyllYSE6WVA7PWA8JWwhOF0hUiE6ZFkhYmAhZHBPciE0dHJzITVrc3YhNHR2dyE2Vnd4IThdeCFgITR0IWAhYSE7UyFhOydTITR0OydTOz1gITtyPCVsTyE0dCFSITtdViFiYCFkcHlQT3IqVnJzKFZzdipWd3gpZXg7J1MqVjsnUzs9YCpzPCVsTypWIVIhO3VQOz1gPCVsITR0IVYhPFRYalNhUCFiYCFkcE9yJlhycyZ9c3YmWHd4KHR4IV4mWCFeIV8qViFfOydTJlg7J1M7PWAqeTwlbE8mWFwiLFxuICB0b2tlbml6ZXJzOiBbc2NyaXB0VG9rZW5zLCBzdHlsZVRva2VucywgdGV4dGFyZWFUb2tlbnMsIGVuZFRhZywgdGFnU3RhcnQsIGNvbW1lbnRDb250ZW50LCAwLCAxLCAyLCAzLCA0LCA1XSxcbiAgdG9wUnVsZXM6IHtcbiAgICBcIkRvY3VtZW50XCI6IFswLCAxNl1cbiAgfSxcbiAgZGlhbGVjdHM6IHtcbiAgICBub01hdGNoOiAwLFxuICAgIHNlbGZDbG9zaW5nOiA1MTVcbiAgfSxcbiAgdG9rZW5QcmVjOiA1MTdcbn0pO1xuZnVuY3Rpb24gZ2V0QXR0cnMob3BlblRhZywgaW5wdXQpIHtcbiAgbGV0IGF0dHJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZm9yIChsZXQgYXR0IG9mIG9wZW5UYWcuZ2V0Q2hpbGRyZW4oQXR0cmlidXRlKSkge1xuICAgIGxldCBuYW1lID0gYXR0LmdldENoaWxkKEF0dHJpYnV0ZU5hbWUpLFxuICAgICAgdmFsdWUgPSBhdHQuZ2V0Q2hpbGQoQXR0cmlidXRlVmFsdWUpIHx8IGF0dC5nZXRDaGlsZChVbnF1b3RlZEF0dHJpYnV0ZVZhbHVlKTtcbiAgICBpZiAobmFtZSkgYXR0cnNbaW5wdXQucmVhZChuYW1lLmZyb20sIG5hbWUudG8pXSA9ICF2YWx1ZSA/IFwiXCIgOiB2YWx1ZS50eXBlLmlkID09IEF0dHJpYnV0ZVZhbHVlID8gaW5wdXQucmVhZCh2YWx1ZS5mcm9tICsgMSwgdmFsdWUudG8gLSAxKSA6IGlucHV0LnJlYWQodmFsdWUuZnJvbSwgdmFsdWUudG8pO1xuICB9XG4gIHJldHVybiBhdHRycztcbn1cbmZ1bmN0aW9uIGZpbmRUYWdOYW1lKG9wZW5UYWcsIGlucHV0KSB7XG4gIGxldCB0YWdOYW1lTm9kZSA9IG9wZW5UYWcuZ2V0Q2hpbGQoVGFnTmFtZSk7XG4gIHJldHVybiB0YWdOYW1lTm9kZSA/IGlucHV0LnJlYWQodGFnTmFtZU5vZGUuZnJvbSwgdGFnTmFtZU5vZGUudG8pIDogXCIgXCI7XG59XG5mdW5jdGlvbiBtYXliZU5lc3Qobm9kZSwgaW5wdXQsIHRhZ3MpIHtcbiAgbGV0IGF0dHJzO1xuICBmb3IgKGxldCB0YWcgb2YgdGFncykge1xuICAgIGlmICghdGFnLmF0dHJzIHx8IHRhZy5hdHRycyhhdHRycyB8fCAoYXR0cnMgPSBnZXRBdHRycyhub2RlLm5vZGUucGFyZW50LmZpcnN0Q2hpbGQsIGlucHV0KSkpKSByZXR1cm4ge1xuICAgICAgcGFyc2VyOiB0YWcucGFyc2VyLFxuICAgICAgYnJhY2tldGVkOiB0cnVlXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLy8gdGFncz86IHtcbi8vICAgdGFnOiBzdHJpbmcsXG4vLyAgIGF0dHJzPzogKHtbYXR0cjogc3RyaW5nXTogc3RyaW5nfSkgPT4gYm9vbGVhbixcbi8vICAgcGFyc2VyOiBQYXJzZXJcbi8vIH1bXVxuLy8gYXR0cmlidXRlcz86IHtcbi8vICAgbmFtZTogc3RyaW5nLFxuLy8gICB0YWdOYW1lPzogc3RyaW5nLFxuLy8gICBwYXJzZXI6IFBhcnNlclxuLy8gfVtdXG5cbmZ1bmN0aW9uIGNvbmZpZ3VyZU5lc3RpbmcodGFncyA9IFtdLCBhdHRyaWJ1dGVzID0gW10pIHtcbiAgbGV0IHNjcmlwdCA9IFtdLFxuICAgIHN0eWxlID0gW10sXG4gICAgdGV4dGFyZWEgPSBbXSxcbiAgICBvdGhlciA9IFtdO1xuICBmb3IgKGxldCB0YWcgb2YgdGFncykge1xuICAgIGxldCBhcnJheSA9IHRhZy50YWcgPT0gXCJzY3JpcHRcIiA/IHNjcmlwdCA6IHRhZy50YWcgPT0gXCJzdHlsZVwiID8gc3R5bGUgOiB0YWcudGFnID09IFwidGV4dGFyZWFcIiA/IHRleHRhcmVhIDogb3RoZXI7XG4gICAgYXJyYXkucHVzaCh0YWcpO1xuICB9XG4gIGxldCBhdHRycyA9IGF0dHJpYnV0ZXMubGVuZ3RoID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IG51bGw7XG4gIGZvciAobGV0IGF0dHIgb2YgYXR0cmlidXRlcykgKGF0dHJzW2F0dHIubmFtZV0gfHwgKGF0dHJzW2F0dHIubmFtZV0gPSBbXSkpLnB1c2goYXR0cik7XG4gIHJldHVybiBwYXJzZU1peGVkKChub2RlLCBpbnB1dCkgPT4ge1xuICAgIGxldCBpZCA9IG5vZGUudHlwZS5pZDtcbiAgICBpZiAoaWQgPT0gU2NyaXB0VGV4dCkgcmV0dXJuIG1heWJlTmVzdChub2RlLCBpbnB1dCwgc2NyaXB0KTtcbiAgICBpZiAoaWQgPT0gU3R5bGVUZXh0KSByZXR1cm4gbWF5YmVOZXN0KG5vZGUsIGlucHV0LCBzdHlsZSk7XG4gICAgaWYgKGlkID09IFRleHRhcmVhVGV4dCkgcmV0dXJuIG1heWJlTmVzdChub2RlLCBpbnB1dCwgdGV4dGFyZWEpO1xuICAgIGlmIChpZCA9PSBFbGVtZW50ICYmIG90aGVyLmxlbmd0aCkge1xuICAgICAgbGV0IG4gPSBub2RlLm5vZGUsXG4gICAgICAgIG9wZW4gPSBuLmZpcnN0Q2hpbGQsXG4gICAgICAgIHRhZ05hbWUgPSBvcGVuICYmIGZpbmRUYWdOYW1lKG9wZW4sIGlucHV0KSxcbiAgICAgICAgYXR0cnM7XG4gICAgICBpZiAodGFnTmFtZSkgZm9yIChsZXQgdGFnIG9mIG90aGVyKSB7XG4gICAgICAgIGlmICh0YWcudGFnID09IHRhZ05hbWUgJiYgKCF0YWcuYXR0cnMgfHwgdGFnLmF0dHJzKGF0dHJzIHx8IChhdHRycyA9IGdldEF0dHJzKG9wZW4sIGlucHV0KSkpKSkge1xuICAgICAgICAgIGxldCBjbG9zZSA9IG4ubGFzdENoaWxkO1xuICAgICAgICAgIGxldCB0byA9IGNsb3NlLnR5cGUuaWQgPT0gQ2xvc2VUYWcgPyBjbG9zZS5mcm9tIDogbi50bztcbiAgICAgICAgICBpZiAodG8gPiBvcGVuLnRvKSByZXR1cm4ge1xuICAgICAgICAgICAgcGFyc2VyOiB0YWcucGFyc2VyLFxuICAgICAgICAgICAgb3ZlcmxheTogW3tcbiAgICAgICAgICAgICAgZnJvbTogb3Blbi50byxcbiAgICAgICAgICAgICAgdG9cbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXR0cnMgJiYgaWQgPT0gQXR0cmlidXRlKSB7XG4gICAgICBsZXQgbiA9IG5vZGUubm9kZSxcbiAgICAgICAgbmFtZU5vZGU7XG4gICAgICBpZiAobmFtZU5vZGUgPSBuLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbGV0IG1hdGNoZXMgPSBhdHRyc1tpbnB1dC5yZWFkKG5hbWVOb2RlLmZyb20sIG5hbWVOb2RlLnRvKV07XG4gICAgICAgIGlmIChtYXRjaGVzKSBmb3IgKGxldCBhdHRyIG9mIG1hdGNoZXMpIHtcbiAgICAgICAgICBpZiAoYXR0ci50YWdOYW1lICYmIGF0dHIudGFnTmFtZSAhPSBmaW5kVGFnTmFtZShuLnBhcmVudCwgaW5wdXQpKSBjb250aW51ZTtcbiAgICAgICAgICBsZXQgdmFsdWUgPSBuLmxhc3RDaGlsZDtcbiAgICAgICAgICBpZiAodmFsdWUudHlwZS5pZCA9PSBBdHRyaWJ1dGVWYWx1ZSkge1xuICAgICAgICAgICAgbGV0IGZyb20gPSB2YWx1ZS5mcm9tICsgMTtcbiAgICAgICAgICAgIGxldCBsYXN0ID0gdmFsdWUubGFzdENoaWxkLFxuICAgICAgICAgICAgICB0byA9IHZhbHVlLnRvIC0gKGxhc3QgJiYgbGFzdC5pc0Vycm9yID8gMCA6IDEpO1xuICAgICAgICAgICAgaWYgKHRvID4gZnJvbSkgcmV0dXJuIHtcbiAgICAgICAgICAgICAgcGFyc2VyOiBhdHRyLnBhcnNlcixcbiAgICAgICAgICAgICAgb3ZlcmxheTogW3tcbiAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgIHRvXG4gICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICBicmFja2V0ZWQ6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS50eXBlLmlkID09IFVucXVvdGVkQXR0cmlidXRlVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHBhcnNlcjogYXR0ci5wYXJzZXIsXG4gICAgICAgICAgICAgIG92ZXJsYXk6IFt7XG4gICAgICAgICAgICAgICAgZnJvbTogdmFsdWUuZnJvbSxcbiAgICAgICAgICAgICAgICB0bzogdmFsdWUudG9cbiAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9KTtcbn1cbmV4cG9ydCB7IGNvbmZpZ3VyZU5lc3RpbmcsIHBhcnNlciB9OyIsImltcG9ydCB7IHBhcnNlciwgY29uZmlndXJlTmVzdGluZyB9IGZyb20gJ0BsZXplci9odG1sJztcbmltcG9ydCB7IGNzc0xhbmd1YWdlLCBjc3MgfSBmcm9tICdAY29kZW1pcnJvci9sYW5nLWNzcyc7XG5pbXBvcnQgeyBqYXZhc2NyaXB0TGFuZ3VhZ2UsIHR5cGVzY3JpcHRMYW5ndWFnZSwganN4TGFuZ3VhZ2UsIHRzeExhbmd1YWdlLCBqYXZhc2NyaXB0IH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZy1qYXZhc2NyaXB0JztcbmltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IEVkaXRvclNlbGVjdGlvbiB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCB7IHN5bnRheFRyZWUsIExSTGFuZ3VhZ2UsIGluZGVudE5vZGVQcm9wLCBmb2xkTm9kZVByb3AsIGJyYWNrZXRNYXRjaGluZ0hhbmRsZSwgTGFuZ3VhZ2VTdXBwb3J0IH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZ3VhZ2UnO1xuY29uc3QgVGFyZ2V0cyA9IFtcIl9ibGFua1wiLCBcIl9zZWxmXCIsIFwiX3RvcFwiLCBcIl9wYXJlbnRcIl07XG5jb25zdCBDaGFyc2V0cyA9IFtcImFzY2lpXCIsIFwidXRmLThcIiwgXCJ1dGYtMTZcIiwgXCJsYXRpbjFcIiwgXCJsYXRpbjFcIl07XG5jb25zdCBNZXRob2RzID0gW1wiZ2V0XCIsIFwicG9zdFwiLCBcInB1dFwiLCBcImRlbGV0ZVwiXTtcbmNvbnN0IEVuY3MgPSBbXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiwgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIsIFwidGV4dC9wbGFpblwiXTtcbmNvbnN0IEJvb2wgPSBbXCJ0cnVlXCIsIFwiZmFsc2VcIl07XG5jb25zdCBTID0ge307IC8vIEVtcHR5IHRhZyBzcGVjXG5jb25zdCBUYWdzID0ge1xuICBhOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIGhyZWY6IG51bGwsXG4gICAgICBwaW5nOiBudWxsLFxuICAgICAgdHlwZTogbnVsbCxcbiAgICAgIG1lZGlhOiBudWxsLFxuICAgICAgdGFyZ2V0OiBUYXJnZXRzLFxuICAgICAgaHJlZmxhbmc6IG51bGxcbiAgICB9XG4gIH0sXG4gIGFiYnI6IFMsXG4gIGFkZHJlc3M6IFMsXG4gIGFyZWE6IHtcbiAgICBhdHRyczoge1xuICAgICAgYWx0OiBudWxsLFxuICAgICAgY29vcmRzOiBudWxsLFxuICAgICAgaHJlZjogbnVsbCxcbiAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgIHBpbmc6IG51bGwsXG4gICAgICBtZWRpYTogbnVsbCxcbiAgICAgIGhyZWZsYW5nOiBudWxsLFxuICAgICAgdHlwZTogbnVsbCxcbiAgICAgIHNoYXBlOiBbXCJkZWZhdWx0XCIsIFwicmVjdFwiLCBcImNpcmNsZVwiLCBcInBvbHlcIl1cbiAgICB9XG4gIH0sXG4gIGFydGljbGU6IFMsXG4gIGFzaWRlOiBTLFxuICBhdWRpbzoge1xuICAgIGF0dHJzOiB7XG4gICAgICBzcmM6IG51bGwsXG4gICAgICBtZWRpYWdyb3VwOiBudWxsLFxuICAgICAgY3Jvc3NvcmlnaW46IFtcImFub255bW91c1wiLCBcInVzZS1jcmVkZW50aWFsc1wiXSxcbiAgICAgIHByZWxvYWQ6IFtcIm5vbmVcIiwgXCJtZXRhZGF0YVwiLCBcImF1dG9cIl0sXG4gICAgICBhdXRvcGxheTogW1wiYXV0b3BsYXlcIl0sXG4gICAgICBsb29wOiBbXCJsb29wXCJdLFxuICAgICAgY29udHJvbHM6IFtcImNvbnRyb2xzXCJdXG4gICAgfVxuICB9LFxuICBiOiBTLFxuICBiYXNlOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIGhyZWY6IG51bGwsXG4gICAgICB0YXJnZXQ6IFRhcmdldHNcbiAgICB9XG4gIH0sXG4gIGJkaTogUyxcbiAgYmRvOiBTLFxuICBibG9ja3F1b3RlOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIGNpdGU6IG51bGxcbiAgICB9XG4gIH0sXG4gIGJvZHk6IFMsXG4gIGJyOiBTLFxuICBidXR0b246IHtcbiAgICBhdHRyczoge1xuICAgICAgZm9ybTogbnVsbCxcbiAgICAgIGZvcm1hY3Rpb246IG51bGwsXG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICBhdXRvZm9jdXM6IFtcImF1dG9mb2N1c1wiXSxcbiAgICAgIGRpc2FibGVkOiBbXCJhdXRvZm9jdXNcIl0sXG4gICAgICBmb3JtZW5jdHlwZTogRW5jcyxcbiAgICAgIGZvcm1tZXRob2Q6IE1ldGhvZHMsXG4gICAgICBmb3Jtbm92YWxpZGF0ZTogW1wibm92YWxpZGF0ZVwiXSxcbiAgICAgIGZvcm10YXJnZXQ6IFRhcmdldHMsXG4gICAgICB0eXBlOiBbXCJzdWJtaXRcIiwgXCJyZXNldFwiLCBcImJ1dHRvblwiXVxuICAgIH1cbiAgfSxcbiAgY2FudmFzOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIHdpZHRoOiBudWxsLFxuICAgICAgaGVpZ2h0OiBudWxsXG4gICAgfVxuICB9LFxuICBjYXB0aW9uOiBTLFxuICBjZW50ZXI6IFMsXG4gIGNpdGU6IFMsXG4gIGNvZGU6IFMsXG4gIGNvbDoge1xuICAgIGF0dHJzOiB7XG4gICAgICBzcGFuOiBudWxsXG4gICAgfVxuICB9LFxuICBjb2xncm91cDoge1xuICAgIGF0dHJzOiB7XG4gICAgICBzcGFuOiBudWxsXG4gICAgfVxuICB9LFxuICBjb21tYW5kOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIHR5cGU6IFtcImNvbW1hbmRcIiwgXCJjaGVja2JveFwiLCBcInJhZGlvXCJdLFxuICAgICAgbGFiZWw6IG51bGwsXG4gICAgICBpY29uOiBudWxsLFxuICAgICAgcmFkaW9ncm91cDogbnVsbCxcbiAgICAgIGNvbW1hbmQ6IG51bGwsXG4gICAgICB0aXRsZTogbnVsbCxcbiAgICAgIGRpc2FibGVkOiBbXCJkaXNhYmxlZFwiXSxcbiAgICAgIGNoZWNrZWQ6IFtcImNoZWNrZWRcIl1cbiAgICB9XG4gIH0sXG4gIGRhdGE6IHtcbiAgICBhdHRyczoge1xuICAgICAgdmFsdWU6IG51bGxcbiAgICB9XG4gIH0sXG4gIGRhdGFncmlkOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIGRpc2FibGVkOiBbXCJkaXNhYmxlZFwiXSxcbiAgICAgIG11bHRpcGxlOiBbXCJtdWx0aXBsZVwiXVxuICAgIH1cbiAgfSxcbiAgZGF0YWxpc3Q6IHtcbiAgICBhdHRyczoge1xuICAgICAgZGF0YTogbnVsbFxuICAgIH1cbiAgfSxcbiAgZGQ6IFMsXG4gIGRlbDoge1xuICAgIGF0dHJzOiB7XG4gICAgICBjaXRlOiBudWxsLFxuICAgICAgZGF0ZXRpbWU6IG51bGxcbiAgICB9XG4gIH0sXG4gIGRldGFpbHM6IHtcbiAgICBhdHRyczoge1xuICAgICAgb3BlbjogW1wib3BlblwiXVxuICAgIH1cbiAgfSxcbiAgZGZuOiBTLFxuICBkaXY6IFMsXG4gIGRsOiBTLFxuICBkdDogUyxcbiAgZW06IFMsXG4gIGVtYmVkOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIHNyYzogbnVsbCxcbiAgICAgIHR5cGU6IG51bGwsXG4gICAgICB3aWR0aDogbnVsbCxcbiAgICAgIGhlaWdodDogbnVsbFxuICAgIH1cbiAgfSxcbiAgZXZlbnRzb3VyY2U6IHtcbiAgICBhdHRyczoge1xuICAgICAgc3JjOiBudWxsXG4gICAgfVxuICB9LFxuICBmaWVsZHNldDoge1xuICAgIGF0dHJzOiB7XG4gICAgICBkaXNhYmxlZDogW1wiZGlzYWJsZWRcIl0sXG4gICAgICBmb3JtOiBudWxsLFxuICAgICAgbmFtZTogbnVsbFxuICAgIH1cbiAgfSxcbiAgZmlnY2FwdGlvbjogUyxcbiAgZmlndXJlOiBTLFxuICBmb290ZXI6IFMsXG4gIGZvcm06IHtcbiAgICBhdHRyczoge1xuICAgICAgYWN0aW9uOiBudWxsLFxuICAgICAgbmFtZTogbnVsbCxcbiAgICAgIFwiYWNjZXB0LWNoYXJzZXRcIjogQ2hhcnNldHMsXG4gICAgICBhdXRvY29tcGxldGU6IFtcIm9uXCIsIFwib2ZmXCJdLFxuICAgICAgZW5jdHlwZTogRW5jcyxcbiAgICAgIG1ldGhvZDogTWV0aG9kcyxcbiAgICAgIG5vdmFsaWRhdGU6IFtcIm5vdmFsaWRhdGVcIl0sXG4gICAgICB0YXJnZXQ6IFRhcmdldHNcbiAgICB9XG4gIH0sXG4gIGgxOiBTLFxuICBoMjogUyxcbiAgaDM6IFMsXG4gIGg0OiBTLFxuICBoNTogUyxcbiAgaDY6IFMsXG4gIGhlYWQ6IHtcbiAgICBjaGlsZHJlbjogW1widGl0bGVcIiwgXCJiYXNlXCIsIFwibGlua1wiLCBcInN0eWxlXCIsIFwibWV0YVwiLCBcInNjcmlwdFwiLCBcIm5vc2NyaXB0XCIsIFwiY29tbWFuZFwiXVxuICB9LFxuICBoZWFkZXI6IFMsXG4gIGhncm91cDogUyxcbiAgaHI6IFMsXG4gIGh0bWw6IHtcbiAgICBhdHRyczoge1xuICAgICAgbWFuaWZlc3Q6IG51bGxcbiAgICB9XG4gIH0sXG4gIGk6IFMsXG4gIGlmcmFtZToge1xuICAgIGF0dHJzOiB7XG4gICAgICBzcmM6IG51bGwsXG4gICAgICBzcmNkb2M6IG51bGwsXG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgd2lkdGg6IG51bGwsXG4gICAgICBoZWlnaHQ6IG51bGwsXG4gICAgICBzYW5kYm94OiBbXCJhbGxvdy10b3AtbmF2aWdhdGlvblwiLCBcImFsbG93LXNhbWUtb3JpZ2luXCIsIFwiYWxsb3ctZm9ybXNcIiwgXCJhbGxvdy1zY3JpcHRzXCJdLFxuICAgICAgc2VhbWxlc3M6IFtcInNlYW1sZXNzXCJdXG4gICAgfVxuICB9LFxuICBpbWc6IHtcbiAgICBhdHRyczoge1xuICAgICAgYWx0OiBudWxsLFxuICAgICAgc3JjOiBudWxsLFxuICAgICAgaXNtYXA6IG51bGwsXG4gICAgICB1c2VtYXA6IG51bGwsXG4gICAgICB3aWR0aDogbnVsbCxcbiAgICAgIGhlaWdodDogbnVsbCxcbiAgICAgIGNyb3Nzb3JpZ2luOiBbXCJhbm9ueW1vdXNcIiwgXCJ1c2UtY3JlZGVudGlhbHNcIl1cbiAgICB9XG4gIH0sXG4gIGlucHV0OiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIGFsdDogbnVsbCxcbiAgICAgIGRpcm5hbWU6IG51bGwsXG4gICAgICBmb3JtOiBudWxsLFxuICAgICAgZm9ybWFjdGlvbjogbnVsbCxcbiAgICAgIGhlaWdodDogbnVsbCxcbiAgICAgIGxpc3Q6IG51bGwsXG4gICAgICBtYXg6IG51bGwsXG4gICAgICBtYXhsZW5ndGg6IG51bGwsXG4gICAgICBtaW46IG51bGwsXG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgcGF0dGVybjogbnVsbCxcbiAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgc2l6ZTogbnVsbCxcbiAgICAgIHNyYzogbnVsbCxcbiAgICAgIHN0ZXA6IG51bGwsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIHdpZHRoOiBudWxsLFxuICAgICAgYWNjZXB0OiBbXCJhdWRpby8qXCIsIFwidmlkZW8vKlwiLCBcImltYWdlLypcIl0sXG4gICAgICBhdXRvY29tcGxldGU6IFtcIm9uXCIsIFwib2ZmXCJdLFxuICAgICAgYXV0b2ZvY3VzOiBbXCJhdXRvZm9jdXNcIl0sXG4gICAgICBjaGVja2VkOiBbXCJjaGVja2VkXCJdLFxuICAgICAgZGlzYWJsZWQ6IFtcImRpc2FibGVkXCJdLFxuICAgICAgZm9ybWVuY3R5cGU6IEVuY3MsXG4gICAgICBmb3JtbWV0aG9kOiBNZXRob2RzLFxuICAgICAgZm9ybW5vdmFsaWRhdGU6IFtcIm5vdmFsaWRhdGVcIl0sXG4gICAgICBmb3JtdGFyZ2V0OiBUYXJnZXRzLFxuICAgICAgbXVsdGlwbGU6IFtcIm11bHRpcGxlXCJdLFxuICAgICAgcmVhZG9ubHk6IFtcInJlYWRvbmx5XCJdLFxuICAgICAgcmVxdWlyZWQ6IFtcInJlcXVpcmVkXCJdLFxuICAgICAgdHlwZTogW1wiaGlkZGVuXCIsIFwidGV4dFwiLCBcInNlYXJjaFwiLCBcInRlbFwiLCBcInVybFwiLCBcImVtYWlsXCIsIFwicGFzc3dvcmRcIiwgXCJkYXRldGltZVwiLCBcImRhdGVcIiwgXCJtb250aFwiLCBcIndlZWtcIiwgXCJ0aW1lXCIsIFwiZGF0ZXRpbWUtbG9jYWxcIiwgXCJudW1iZXJcIiwgXCJyYW5nZVwiLCBcImNvbG9yXCIsIFwiY2hlY2tib3hcIiwgXCJyYWRpb1wiLCBcImZpbGVcIiwgXCJzdWJtaXRcIiwgXCJpbWFnZVwiLCBcInJlc2V0XCIsIFwiYnV0dG9uXCJdXG4gICAgfVxuICB9LFxuICBpbnM6IHtcbiAgICBhdHRyczoge1xuICAgICAgY2l0ZTogbnVsbCxcbiAgICAgIGRhdGV0aW1lOiBudWxsXG4gICAgfVxuICB9LFxuICBrYmQ6IFMsXG4gIGtleWdlbjoge1xuICAgIGF0dHJzOiB7XG4gICAgICBjaGFsbGVuZ2U6IG51bGwsXG4gICAgICBmb3JtOiBudWxsLFxuICAgICAgbmFtZTogbnVsbCxcbiAgICAgIGF1dG9mb2N1czogW1wiYXV0b2ZvY3VzXCJdLFxuICAgICAgZGlzYWJsZWQ6IFtcImRpc2FibGVkXCJdLFxuICAgICAga2V5dHlwZTogW1wiUlNBXCJdXG4gICAgfVxuICB9LFxuICBsYWJlbDoge1xuICAgIGF0dHJzOiB7XG4gICAgICBmb3I6IG51bGwsXG4gICAgICBmb3JtOiBudWxsXG4gICAgfVxuICB9LFxuICBsZWdlbmQ6IFMsXG4gIGxpOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIHZhbHVlOiBudWxsXG4gICAgfVxuICB9LFxuICBsaW5rOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIGhyZWY6IG51bGwsXG4gICAgICB0eXBlOiBudWxsLFxuICAgICAgaHJlZmxhbmc6IG51bGwsXG4gICAgICBtZWRpYTogbnVsbCxcbiAgICAgIHNpemVzOiBbXCJhbGxcIiwgXCIxNngxNlwiLCBcIjE2eDE2IDMyeDMyXCIsIFwiMTZ4MTYgMzJ4MzIgNjR4NjRcIl1cbiAgICB9XG4gIH0sXG4gIG1hcDoge1xuICAgIGF0dHJzOiB7XG4gICAgICBuYW1lOiBudWxsXG4gICAgfVxuICB9LFxuICBtYXJrOiBTLFxuICBtZW51OiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIGxhYmVsOiBudWxsLFxuICAgICAgdHlwZTogW1wibGlzdFwiLCBcImNvbnRleHRcIiwgXCJ0b29sYmFyXCJdXG4gICAgfVxuICB9LFxuICBtZXRhOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIGNvbnRlbnQ6IG51bGwsXG4gICAgICBjaGFyc2V0OiBDaGFyc2V0cyxcbiAgICAgIG5hbWU6IFtcInZpZXdwb3J0XCIsIFwiYXBwbGljYXRpb24tbmFtZVwiLCBcImF1dGhvclwiLCBcImRlc2NyaXB0aW9uXCIsIFwiZ2VuZXJhdG9yXCIsIFwia2V5d29yZHNcIl0sXG4gICAgICBcImh0dHAtZXF1aXZcIjogW1wiY29udGVudC1sYW5ndWFnZVwiLCBcImNvbnRlbnQtdHlwZVwiLCBcImRlZmF1bHQtc3R5bGVcIiwgXCJyZWZyZXNoXCJdXG4gICAgfVxuICB9LFxuICBtZXRlcjoge1xuICAgIGF0dHJzOiB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIG1pbjogbnVsbCxcbiAgICAgIGxvdzogbnVsbCxcbiAgICAgIGhpZ2g6IG51bGwsXG4gICAgICBtYXg6IG51bGwsXG4gICAgICBvcHRpbXVtOiBudWxsXG4gICAgfVxuICB9LFxuICBuYXY6IFMsXG4gIG5vc2NyaXB0OiBTLFxuICBvYmplY3Q6IHtcbiAgICBhdHRyczoge1xuICAgICAgZGF0YTogbnVsbCxcbiAgICAgIHR5cGU6IG51bGwsXG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgdXNlbWFwOiBudWxsLFxuICAgICAgZm9ybTogbnVsbCxcbiAgICAgIHdpZHRoOiBudWxsLFxuICAgICAgaGVpZ2h0OiBudWxsLFxuICAgICAgdHlwZW11c3RtYXRjaDogW1widHlwZW11c3RtYXRjaFwiXVxuICAgIH1cbiAgfSxcbiAgb2w6IHtcbiAgICBhdHRyczoge1xuICAgICAgcmV2ZXJzZWQ6IFtcInJldmVyc2VkXCJdLFxuICAgICAgc3RhcnQ6IG51bGwsXG4gICAgICB0eXBlOiBbXCIxXCIsIFwiYVwiLCBcIkFcIiwgXCJpXCIsIFwiSVwiXVxuICAgIH0sXG4gICAgY2hpbGRyZW46IFtcImxpXCIsIFwic2NyaXB0XCIsIFwidGVtcGxhdGVcIiwgXCJ1bFwiLCBcIm9sXCJdXG4gIH0sXG4gIG9wdGdyb3VwOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIGRpc2FibGVkOiBbXCJkaXNhYmxlZFwiXSxcbiAgICAgIGxhYmVsOiBudWxsXG4gICAgfVxuICB9LFxuICBvcHRpb246IHtcbiAgICBhdHRyczoge1xuICAgICAgZGlzYWJsZWQ6IFtcImRpc2FibGVkXCJdLFxuICAgICAgbGFiZWw6IG51bGwsXG4gICAgICBzZWxlY3RlZDogW1wic2VsZWN0ZWRcIl0sXG4gICAgICB2YWx1ZTogbnVsbFxuICAgIH1cbiAgfSxcbiAgb3V0cHV0OiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIGZvcjogbnVsbCxcbiAgICAgIGZvcm06IG51bGwsXG4gICAgICBuYW1lOiBudWxsXG4gICAgfVxuICB9LFxuICBwOiBTLFxuICBwYXJhbToge1xuICAgIGF0dHJzOiB7XG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9XG4gIH0sXG4gIHByZTogUyxcbiAgcHJvZ3Jlc3M6IHtcbiAgICBhdHRyczoge1xuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICBtYXg6IG51bGxcbiAgICB9XG4gIH0sXG4gIHE6IHtcbiAgICBhdHRyczoge1xuICAgICAgY2l0ZTogbnVsbFxuICAgIH1cbiAgfSxcbiAgcnA6IFMsXG4gIHJ0OiBTLFxuICBydWJ5OiBTLFxuICBzYW1wOiBTLFxuICBzY3JpcHQ6IHtcbiAgICBhdHRyczoge1xuICAgICAgdHlwZTogW1widGV4dC9qYXZhc2NyaXB0XCJdLFxuICAgICAgc3JjOiBudWxsLFxuICAgICAgYXN5bmM6IFtcImFzeW5jXCJdLFxuICAgICAgZGVmZXI6IFtcImRlZmVyXCJdLFxuICAgICAgY2hhcnNldDogQ2hhcnNldHNcbiAgICB9XG4gIH0sXG4gIHNlY3Rpb246IFMsXG4gIHNlbGVjdDoge1xuICAgIGF0dHJzOiB7XG4gICAgICBmb3JtOiBudWxsLFxuICAgICAgbmFtZTogbnVsbCxcbiAgICAgIHNpemU6IG51bGwsXG4gICAgICBhdXRvZm9jdXM6IFtcImF1dG9mb2N1c1wiXSxcbiAgICAgIGRpc2FibGVkOiBbXCJkaXNhYmxlZFwiXSxcbiAgICAgIG11bHRpcGxlOiBbXCJtdWx0aXBsZVwiXVxuICAgIH1cbiAgfSxcbiAgc2xvdDoge1xuICAgIGF0dHJzOiB7XG4gICAgICBuYW1lOiBudWxsXG4gICAgfVxuICB9LFxuICBzbWFsbDogUyxcbiAgc291cmNlOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIHNyYzogbnVsbCxcbiAgICAgIHR5cGU6IG51bGwsXG4gICAgICBtZWRpYTogbnVsbFxuICAgIH1cbiAgfSxcbiAgc3BhbjogUyxcbiAgc3Ryb25nOiBTLFxuICBzdHlsZToge1xuICAgIGF0dHJzOiB7XG4gICAgICB0eXBlOiBbXCJ0ZXh0L2Nzc1wiXSxcbiAgICAgIG1lZGlhOiBudWxsLFxuICAgICAgc2NvcGVkOiBudWxsXG4gICAgfVxuICB9LFxuICBzdWI6IFMsXG4gIHN1bW1hcnk6IFMsXG4gIHN1cDogUyxcbiAgdGFibGU6IFMsXG4gIHRib2R5OiBTLFxuICB0ZDoge1xuICAgIGF0dHJzOiB7XG4gICAgICBjb2xzcGFuOiBudWxsLFxuICAgICAgcm93c3BhbjogbnVsbCxcbiAgICAgIGhlYWRlcnM6IG51bGxcbiAgICB9XG4gIH0sXG4gIHRlbXBsYXRlOiBTLFxuICB0ZXh0YXJlYToge1xuICAgIGF0dHJzOiB7XG4gICAgICBkaXJuYW1lOiBudWxsLFxuICAgICAgZm9ybTogbnVsbCxcbiAgICAgIG1heGxlbmd0aDogbnVsbCxcbiAgICAgIG5hbWU6IG51bGwsXG4gICAgICBwbGFjZWhvbGRlcjogbnVsbCxcbiAgICAgIHJvd3M6IG51bGwsXG4gICAgICBjb2xzOiBudWxsLFxuICAgICAgYXV0b2ZvY3VzOiBbXCJhdXRvZm9jdXNcIl0sXG4gICAgICBkaXNhYmxlZDogW1wiZGlzYWJsZWRcIl0sXG4gICAgICByZWFkb25seTogW1wicmVhZG9ubHlcIl0sXG4gICAgICByZXF1aXJlZDogW1wicmVxdWlyZWRcIl0sXG4gICAgICB3cmFwOiBbXCJzb2Z0XCIsIFwiaGFyZFwiXVxuICAgIH1cbiAgfSxcbiAgdGZvb3Q6IFMsXG4gIHRoOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIGNvbHNwYW46IG51bGwsXG4gICAgICByb3dzcGFuOiBudWxsLFxuICAgICAgaGVhZGVyczogbnVsbCxcbiAgICAgIHNjb3BlOiBbXCJyb3dcIiwgXCJjb2xcIiwgXCJyb3dncm91cFwiLCBcImNvbGdyb3VwXCJdXG4gICAgfVxuICB9LFxuICB0aGVhZDogUyxcbiAgdGltZToge1xuICAgIGF0dHJzOiB7XG4gICAgICBkYXRldGltZTogbnVsbFxuICAgIH1cbiAgfSxcbiAgdGl0bGU6IFMsXG4gIHRyOiBTLFxuICB0cmFjazoge1xuICAgIGF0dHJzOiB7XG4gICAgICBzcmM6IG51bGwsXG4gICAgICBsYWJlbDogbnVsbCxcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICBraW5kOiBbXCJzdWJ0aXRsZXNcIiwgXCJjYXB0aW9uc1wiLCBcImRlc2NyaXB0aW9uc1wiLCBcImNoYXB0ZXJzXCIsIFwibWV0YWRhdGFcIl0sXG4gICAgICBzcmNsYW5nOiBudWxsXG4gICAgfVxuICB9LFxuICB1bDoge1xuICAgIGNoaWxkcmVuOiBbXCJsaVwiLCBcInNjcmlwdFwiLCBcInRlbXBsYXRlXCIsIFwidWxcIiwgXCJvbFwiXVxuICB9LFxuICB2YXI6IFMsXG4gIHZpZGVvOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIHNyYzogbnVsbCxcbiAgICAgIHBvc3RlcjogbnVsbCxcbiAgICAgIHdpZHRoOiBudWxsLFxuICAgICAgaGVpZ2h0OiBudWxsLFxuICAgICAgY3Jvc3NvcmlnaW46IFtcImFub255bW91c1wiLCBcInVzZS1jcmVkZW50aWFsc1wiXSxcbiAgICAgIHByZWxvYWQ6IFtcImF1dG9cIiwgXCJtZXRhZGF0YVwiLCBcIm5vbmVcIl0sXG4gICAgICBhdXRvcGxheTogW1wiYXV0b3BsYXlcIl0sXG4gICAgICBtZWRpYWdyb3VwOiBbXCJtb3ZpZVwiXSxcbiAgICAgIG11dGVkOiBbXCJtdXRlZFwiXSxcbiAgICAgIGNvbnRyb2xzOiBbXCJjb250cm9sc1wiXVxuICAgIH1cbiAgfSxcbiAgd2JyOiBTXG59O1xuY29uc3QgR2xvYmFsQXR0cnMgPSB7XG4gIGFjY2Vzc2tleTogbnVsbCxcbiAgY2xhc3M6IG51bGwsXG4gIGNvbnRlbnRlZGl0YWJsZTogQm9vbCxcbiAgY29udGV4dG1lbnU6IG51bGwsXG4gIGRpcjogW1wibHRyXCIsIFwicnRsXCIsIFwiYXV0b1wiXSxcbiAgZHJhZ2dhYmxlOiBbXCJ0cnVlXCIsIFwiZmFsc2VcIiwgXCJhdXRvXCJdLFxuICBkcm9wem9uZTogW1wiY29weVwiLCBcIm1vdmVcIiwgXCJsaW5rXCIsIFwic3RyaW5nOlwiLCBcImZpbGU6XCJdLFxuICBoaWRkZW46IFtcImhpZGRlblwiXSxcbiAgaWQ6IG51bGwsXG4gIGluZXJ0OiBbXCJpbmVydFwiXSxcbiAgaXRlbWlkOiBudWxsLFxuICBpdGVtcHJvcDogbnVsbCxcbiAgaXRlbXJlZjogbnVsbCxcbiAgaXRlbXNjb3BlOiBbXCJpdGVtc2NvcGVcIl0sXG4gIGl0ZW10eXBlOiBudWxsLFxuICBsYW5nOiBbXCJhclwiLCBcImJuXCIsIFwiZGVcIiwgXCJlbi1HQlwiLCBcImVuLVVTXCIsIFwiZXNcIiwgXCJmclwiLCBcImhpXCIsIFwiaWRcIiwgXCJqYVwiLCBcInBhXCIsIFwicHRcIiwgXCJydVwiLCBcInRyXCIsIFwiemhcIl0sXG4gIHNwZWxsY2hlY2s6IEJvb2wsXG4gIGF1dG9jb3JyZWN0OiBCb29sLFxuICBhdXRvY2FwaXRhbGl6ZTogQm9vbCxcbiAgc3R5bGU6IG51bGwsXG4gIHRhYmluZGV4OiBudWxsLFxuICB0aXRsZTogbnVsbCxcbiAgdHJhbnNsYXRlOiBbXCJ5ZXNcIiwgXCJub1wiXSxcbiAgcmVsOiBbXCJzdHlsZXNoZWV0XCIsIFwiYWx0ZXJuYXRlXCIsIFwiYXV0aG9yXCIsIFwiYm9va21hcmtcIiwgXCJoZWxwXCIsIFwibGljZW5zZVwiLCBcIm5leHRcIiwgXCJub2ZvbGxvd1wiLCBcIm5vcmVmZXJyZXJcIiwgXCJwcmVmZXRjaFwiLCBcInByZXZcIiwgXCJzZWFyY2hcIiwgXCJ0YWdcIl0sXG4gIHJvbGU6IC8qQF9fUFVSRV9fKi9cImFsZXJ0IGFwcGxpY2F0aW9uIGFydGljbGUgYmFubmVyIGJ1dHRvbiBjZWxsIGNoZWNrYm94IGNvbXBsZW1lbnRhcnkgY29udGVudGluZm8gZGlhbG9nIGRvY3VtZW50IGZlZWQgZmlndXJlIGZvcm0gZ3JpZCBncmlkY2VsbCBoZWFkaW5nIGltZyBsaXN0IGxpc3Rib3ggbGlzdGl0ZW0gbWFpbiBuYXZpZ2F0aW9uIHJlZ2lvbiByb3cgcm93Z3JvdXAgc2VhcmNoIHN3aXRjaCB0YWIgdGFibGUgdGFicGFuZWwgdGV4dGJveCB0aW1lclwiLnNwbGl0KFwiIFwiKSxcbiAgXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIjogbnVsbCxcbiAgXCJhcmlhLWF0b21pY1wiOiBCb29sLFxuICBcImFyaWEtYXV0b2NvbXBsZXRlXCI6IFtcImlubGluZVwiLCBcImxpc3RcIiwgXCJib3RoXCIsIFwibm9uZVwiXSxcbiAgXCJhcmlhLWJ1c3lcIjogQm9vbCxcbiAgXCJhcmlhLWNoZWNrZWRcIjogW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwibWl4ZWRcIiwgXCJ1bmRlZmluZWRcIl0sXG4gIFwiYXJpYS1jb250cm9sc1wiOiBudWxsLFxuICBcImFyaWEtZGVzY3JpYmVkYnlcIjogbnVsbCxcbiAgXCJhcmlhLWRpc2FibGVkXCI6IEJvb2wsXG4gIFwiYXJpYS1kcm9wZWZmZWN0XCI6IG51bGwsXG4gIFwiYXJpYS1leHBhbmRlZFwiOiBbXCJ0cnVlXCIsIFwiZmFsc2VcIiwgXCJ1bmRlZmluZWRcIl0sXG4gIFwiYXJpYS1mbG93dG9cIjogbnVsbCxcbiAgXCJhcmlhLWdyYWJiZWRcIjogW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwidW5kZWZpbmVkXCJdLFxuICBcImFyaWEtaGFzcG9wdXBcIjogQm9vbCxcbiAgXCJhcmlhLWhpZGRlblwiOiBCb29sLFxuICBcImFyaWEtaW52YWxpZFwiOiBbXCJ0cnVlXCIsIFwiZmFsc2VcIiwgXCJncmFtbWFyXCIsIFwic3BlbGxpbmdcIl0sXG4gIFwiYXJpYS1sYWJlbFwiOiBudWxsLFxuICBcImFyaWEtbGFiZWxsZWRieVwiOiBudWxsLFxuICBcImFyaWEtbGV2ZWxcIjogbnVsbCxcbiAgXCJhcmlhLWxpdmVcIjogW1wib2ZmXCIsIFwicG9saXRlXCIsIFwiYXNzZXJ0aXZlXCJdLFxuICBcImFyaWEtbXVsdGlsaW5lXCI6IEJvb2wsXG4gIFwiYXJpYS1tdWx0aXNlbGVjdGFibGVcIjogQm9vbCxcbiAgXCJhcmlhLW93bnNcIjogbnVsbCxcbiAgXCJhcmlhLXBvc2luc2V0XCI6IG51bGwsXG4gIFwiYXJpYS1wcmVzc2VkXCI6IFtcInRydWVcIiwgXCJmYWxzZVwiLCBcIm1peGVkXCIsIFwidW5kZWZpbmVkXCJdLFxuICBcImFyaWEtcmVhZG9ubHlcIjogQm9vbCxcbiAgXCJhcmlhLXJlbGV2YW50XCI6IG51bGwsXG4gIFwiYXJpYS1yZXF1aXJlZFwiOiBCb29sLFxuICBcImFyaWEtc2VsZWN0ZWRcIjogW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwidW5kZWZpbmVkXCJdLFxuICBcImFyaWEtc2V0c2l6ZVwiOiBudWxsLFxuICBcImFyaWEtc29ydFwiOiBbXCJhc2NlbmRpbmdcIiwgXCJkZXNjZW5kaW5nXCIsIFwibm9uZVwiLCBcIm90aGVyXCJdLFxuICBcImFyaWEtdmFsdWVtYXhcIjogbnVsbCxcbiAgXCJhcmlhLXZhbHVlbWluXCI6IG51bGwsXG4gIFwiYXJpYS12YWx1ZW5vd1wiOiBudWxsLFxuICBcImFyaWEtdmFsdWV0ZXh0XCI6IG51bGxcbn07XG5jb25zdCBldmVudEF0dHJpYnV0ZXMgPSAvKkBfX1BVUkVfXyovKFwiYmVmb3JldW5sb2FkIGNvcHkgY3V0IGRyYWdzdGFydCBkcmFnb3ZlciBkcmFnbGVhdmUgZHJhZ2VudGVyIGRyYWdlbmQgXCIgKyBcImRyYWcgcGFzdGUgZm9jdXMgYmx1ciBjaGFuZ2UgY2xpY2sgbG9hZCBtb3VzZWRvd24gbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICsgXCJtb3VzZXVwIGtleWRvd24ga2V5dXAgcmVzaXplIHNjcm9sbCB1bmxvYWRcIikuc3BsaXQoXCIgXCIpLm1hcChuID0+IFwib25cIiArIG4pO1xuZm9yIChsZXQgYSBvZiBldmVudEF0dHJpYnV0ZXMpIEdsb2JhbEF0dHJzW2FdID0gbnVsbDtcbmNsYXNzIFNjaGVtYSB7XG4gIGNvbnN0cnVjdG9yKGV4dHJhVGFncywgZXh0cmFBdHRycykge1xuICAgIHRoaXMudGFncyA9IHtcbiAgICAgIC4uLlRhZ3MsXG4gICAgICAuLi5leHRyYVRhZ3NcbiAgICB9O1xuICAgIHRoaXMuZ2xvYmFsQXR0cnMgPSB7XG4gICAgICAuLi5HbG9iYWxBdHRycyxcbiAgICAgIC4uLmV4dHJhQXR0cnNcbiAgICB9O1xuICAgIHRoaXMuYWxsVGFncyA9IE9iamVjdC5rZXlzKHRoaXMudGFncyk7XG4gICAgdGhpcy5nbG9iYWxBdHRyTmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLmdsb2JhbEF0dHJzKTtcbiAgfVxufVxuU2NoZW1hLmRlZmF1bHQgPSAvKkBfX1BVUkVfXyovbmV3IFNjaGVtYSgpO1xuZnVuY3Rpb24gZWxlbWVudE5hbWUoZG9jLCB0cmVlLCBtYXggPSBkb2MubGVuZ3RoKSB7XG4gIGlmICghdHJlZSkgcmV0dXJuIFwiXCI7XG4gIGxldCB0YWcgPSB0cmVlLmZpcnN0Q2hpbGQ7XG4gIGxldCBuYW1lID0gdGFnICYmIHRhZy5nZXRDaGlsZChcIlRhZ05hbWVcIik7XG4gIHJldHVybiBuYW1lID8gZG9jLnNsaWNlU3RyaW5nKG5hbWUuZnJvbSwgTWF0aC5taW4obmFtZS50bywgbWF4KSkgOiBcIlwiO1xufVxuZnVuY3Rpb24gZmluZFBhcmVudEVsZW1lbnQodHJlZSwgc2tpcCA9IGZhbHNlKSB7XG4gIGZvciAoOyB0cmVlOyB0cmVlID0gdHJlZS5wYXJlbnQpIGlmICh0cmVlLm5hbWUgPT0gXCJFbGVtZW50XCIpIHtcbiAgICBpZiAoc2tpcCkgc2tpcCA9IGZhbHNlO2Vsc2UgcmV0dXJuIHRyZWU7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBhbGxvd2VkQ2hpbGRyZW4oZG9jLCB0cmVlLCBzY2hlbWEpIHtcbiAgbGV0IHBhcmVudEluZm8gPSBzY2hlbWEudGFnc1tlbGVtZW50TmFtZShkb2MsIGZpbmRQYXJlbnRFbGVtZW50KHRyZWUpKV07XG4gIHJldHVybiAocGFyZW50SW5mbyA9PT0gbnVsbCB8fCBwYXJlbnRJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnRJbmZvLmNoaWxkcmVuKSB8fCBzY2hlbWEuYWxsVGFncztcbn1cbmZ1bmN0aW9uIG9wZW5UYWdzKGRvYywgdHJlZSkge1xuICBsZXQgb3BlbiA9IFtdO1xuICBmb3IgKGxldCBwYXJlbnQgPSBmaW5kUGFyZW50RWxlbWVudCh0cmVlKTsgcGFyZW50ICYmICFwYXJlbnQudHlwZS5pc1RvcDsgcGFyZW50ID0gZmluZFBhcmVudEVsZW1lbnQocGFyZW50LnBhcmVudCkpIHtcbiAgICBsZXQgdGFnTmFtZSA9IGVsZW1lbnROYW1lKGRvYywgcGFyZW50KTtcbiAgICBpZiAodGFnTmFtZSAmJiBwYXJlbnQubGFzdENoaWxkLm5hbWUgPT0gXCJDbG9zZVRhZ1wiKSBicmVhaztcbiAgICBpZiAodGFnTmFtZSAmJiBvcGVuLmluZGV4T2YodGFnTmFtZSkgPCAwICYmICh0cmVlLm5hbWUgPT0gXCJFbmRUYWdcIiB8fCB0cmVlLmZyb20gPj0gcGFyZW50LmZpcnN0Q2hpbGQudG8pKSBvcGVuLnB1c2godGFnTmFtZSk7XG4gIH1cbiAgcmV0dXJuIG9wZW47XG59XG5jb25zdCBpZGVudGlmaWVyID0gL15bOlxcLVxcLlxcd1xcdTAwYjctXFx1ZmZmZl0qJC87XG5mdW5jdGlvbiBjb21wbGV0ZVRhZyhzdGF0ZSwgc2NoZW1hLCB0cmVlLCBmcm9tLCB0bykge1xuICBsZXQgZW5kID0gL1xccyo+Ly50ZXN0KHN0YXRlLnNsaWNlRG9jKHRvLCB0byArIDUpKSA/IFwiXCIgOiBcIj5cIjtcbiAgbGV0IHBhcmVudCA9IGZpbmRQYXJlbnRFbGVtZW50KHRyZWUsIHRyZWUubmFtZSA9PSBcIlN0YXJ0VGFnXCIgfHwgdHJlZS5uYW1lID09IFwiVGFnTmFtZVwiKTtcbiAgcmV0dXJuIHtcbiAgICBmcm9tLFxuICAgIHRvLFxuICAgIG9wdGlvbnM6IGFsbG93ZWRDaGlsZHJlbihzdGF0ZS5kb2MsIHBhcmVudCwgc2NoZW1hKS5tYXAodGFnTmFtZSA9PiAoe1xuICAgICAgbGFiZWw6IHRhZ05hbWUsXG4gICAgICB0eXBlOiBcInR5cGVcIlxuICAgIH0pKS5jb25jYXQob3BlblRhZ3Moc3RhdGUuZG9jLCB0cmVlKS5tYXAoKHRhZywgaSkgPT4gKHtcbiAgICAgIGxhYmVsOiBcIi9cIiArIHRhZyxcbiAgICAgIGFwcGx5OiBcIi9cIiArIHRhZyArIGVuZCxcbiAgICAgIHR5cGU6IFwidHlwZVwiLFxuICAgICAgYm9vc3Q6IDk5IC0gaVxuICAgIH0pKSksXG4gICAgdmFsaWRGb3I6IC9eXFwvP1s6XFwtXFwuXFx3XFx1MDBiNy1cXHVmZmZmXSokL1xuICB9O1xufVxuZnVuY3Rpb24gY29tcGxldGVDbG9zZVRhZyhzdGF0ZSwgdHJlZSwgZnJvbSwgdG8pIHtcbiAgbGV0IGVuZCA9IC9cXHMqPi8udGVzdChzdGF0ZS5zbGljZURvYyh0bywgdG8gKyA1KSkgPyBcIlwiIDogXCI+XCI7XG4gIHJldHVybiB7XG4gICAgZnJvbSxcbiAgICB0byxcbiAgICBvcHRpb25zOiBvcGVuVGFncyhzdGF0ZS5kb2MsIHRyZWUpLm1hcCgodGFnLCBpKSA9PiAoe1xuICAgICAgbGFiZWw6IHRhZyxcbiAgICAgIGFwcGx5OiB0YWcgKyBlbmQsXG4gICAgICB0eXBlOiBcInR5cGVcIixcbiAgICAgIGJvb3N0OiA5OSAtIGlcbiAgICB9KSksXG4gICAgdmFsaWRGb3I6IGlkZW50aWZpZXJcbiAgfTtcbn1cbmZ1bmN0aW9uIGNvbXBsZXRlU3RhcnRUYWcoc3RhdGUsIHNjaGVtYSwgdHJlZSwgcG9zKSB7XG4gIGxldCBvcHRpb25zID0gW10sXG4gICAgbGV2ZWwgPSAwO1xuICBmb3IgKGxldCB0YWdOYW1lIG9mIGFsbG93ZWRDaGlsZHJlbihzdGF0ZS5kb2MsIHRyZWUsIHNjaGVtYSkpIG9wdGlvbnMucHVzaCh7XG4gICAgbGFiZWw6IFwiPFwiICsgdGFnTmFtZSxcbiAgICB0eXBlOiBcInR5cGVcIlxuICB9KTtcbiAgZm9yIChsZXQgb3BlbiBvZiBvcGVuVGFncyhzdGF0ZS5kb2MsIHRyZWUpKSBvcHRpb25zLnB1c2goe1xuICAgIGxhYmVsOiBcIjwvXCIgKyBvcGVuICsgXCI+XCIsXG4gICAgdHlwZTogXCJ0eXBlXCIsXG4gICAgYm9vc3Q6IDk5IC0gbGV2ZWwrK1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBmcm9tOiBwb3MsXG4gICAgdG86IHBvcyxcbiAgICBvcHRpb25zLFxuICAgIHZhbGlkRm9yOiAvXjxcXC8/WzpcXC1cXC5cXHdcXHUwMGI3LVxcdWZmZmZdKiQvXG4gIH07XG59XG5mdW5jdGlvbiBjb21wbGV0ZUF0dHJOYW1lKHN0YXRlLCBzY2hlbWEsIHRyZWUsIGZyb20sIHRvKSB7XG4gIGxldCBlbHQgPSBmaW5kUGFyZW50RWxlbWVudCh0cmVlKSxcbiAgICBpbmZvID0gZWx0ID8gc2NoZW1hLnRhZ3NbZWxlbWVudE5hbWUoc3RhdGUuZG9jLCBlbHQpXSA6IG51bGw7XG4gIGxldCBsb2NhbEF0dHJzID0gaW5mbyAmJiBpbmZvLmF0dHJzID8gT2JqZWN0LmtleXMoaW5mby5hdHRycykgOiBbXTtcbiAgbGV0IG5hbWVzID0gaW5mbyAmJiBpbmZvLmdsb2JhbEF0dHJzID09PSBmYWxzZSA/IGxvY2FsQXR0cnMgOiBsb2NhbEF0dHJzLmxlbmd0aCA/IGxvY2FsQXR0cnMuY29uY2F0KHNjaGVtYS5nbG9iYWxBdHRyTmFtZXMpIDogc2NoZW1hLmdsb2JhbEF0dHJOYW1lcztcbiAgcmV0dXJuIHtcbiAgICBmcm9tLFxuICAgIHRvLFxuICAgIG9wdGlvbnM6IG5hbWVzLm1hcChhdHRyTmFtZSA9PiAoe1xuICAgICAgbGFiZWw6IGF0dHJOYW1lLFxuICAgICAgdHlwZTogXCJwcm9wZXJ0eVwiXG4gICAgfSkpLFxuICAgIHZhbGlkRm9yOiBpZGVudGlmaWVyXG4gIH07XG59XG5mdW5jdGlvbiBjb21wbGV0ZUF0dHJWYWx1ZShzdGF0ZSwgc2NoZW1hLCB0cmVlLCBmcm9tLCB0bykge1xuICB2YXIgX2E7XG4gIGxldCBuYW1lTm9kZSA9IChfYSA9IHRyZWUucGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0Q2hpbGQoXCJBdHRyaWJ1dGVOYW1lXCIpO1xuICBsZXQgb3B0aW9ucyA9IFtdLFxuICAgIHRva2VuID0gdW5kZWZpbmVkO1xuICBpZiAobmFtZU5vZGUpIHtcbiAgICBsZXQgYXR0ck5hbWUgPSBzdGF0ZS5zbGljZURvYyhuYW1lTm9kZS5mcm9tLCBuYW1lTm9kZS50byk7XG4gICAgbGV0IGF0dHJzID0gc2NoZW1hLmdsb2JhbEF0dHJzW2F0dHJOYW1lXTtcbiAgICBpZiAoIWF0dHJzKSB7XG4gICAgICBsZXQgZWx0ID0gZmluZFBhcmVudEVsZW1lbnQodHJlZSksXG4gICAgICAgIGluZm8gPSBlbHQgPyBzY2hlbWEudGFnc1tlbGVtZW50TmFtZShzdGF0ZS5kb2MsIGVsdCldIDogbnVsbDtcbiAgICAgIGF0dHJzID0gKGluZm8gPT09IG51bGwgfHwgaW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5mby5hdHRycykgJiYgaW5mby5hdHRyc1thdHRyTmFtZV07XG4gICAgfVxuICAgIGlmIChhdHRycykge1xuICAgICAgbGV0IGJhc2UgPSBzdGF0ZS5zbGljZURvYyhmcm9tLCB0bykudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgcXVvdGVTdGFydCA9ICdcIicsXG4gICAgICAgIHF1b3RlRW5kID0gJ1wiJztcbiAgICAgIGlmICgvXlsnXCJdLy50ZXN0KGJhc2UpKSB7XG4gICAgICAgIHRva2VuID0gYmFzZVswXSA9PSAnXCInID8gL15bXlwiXSokLyA6IC9eW14nXSokLztcbiAgICAgICAgcXVvdGVTdGFydCA9IFwiXCI7XG4gICAgICAgIHF1b3RlRW5kID0gc3RhdGUuc2xpY2VEb2ModG8sIHRvICsgMSkgPT0gYmFzZVswXSA/IFwiXCIgOiBiYXNlWzBdO1xuICAgICAgICBiYXNlID0gYmFzZS5zbGljZSgxKTtcbiAgICAgICAgZnJvbSsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9rZW4gPSAvXlteXFxzPD49J1wiXSokLztcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IHZhbHVlIG9mIGF0dHJzKSBvcHRpb25zLnB1c2goe1xuICAgICAgICBsYWJlbDogdmFsdWUsXG4gICAgICAgIGFwcGx5OiBxdW90ZVN0YXJ0ICsgdmFsdWUgKyBxdW90ZUVuZCxcbiAgICAgICAgdHlwZTogXCJjb25zdGFudFwiXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBmcm9tLFxuICAgIHRvLFxuICAgIG9wdGlvbnMsXG4gICAgdmFsaWRGb3I6IHRva2VuXG4gIH07XG59XG5mdW5jdGlvbiBodG1sQ29tcGxldGlvbkZvcihzY2hlbWEsIGNvbnRleHQpIHtcbiAgbGV0IHtcbiAgICAgIHN0YXRlLFxuICAgICAgcG9zXG4gICAgfSA9IGNvbnRleHQsXG4gICAgdHJlZSA9IHN5bnRheFRyZWUoc3RhdGUpLnJlc29sdmVJbm5lcihwb3MsIC0xKSxcbiAgICBhcm91bmQgPSB0cmVlLnJlc29sdmUocG9zKTtcbiAgZm9yIChsZXQgc2NhbiA9IHBvcywgYmVmb3JlOyBhcm91bmQgPT0gdHJlZSAmJiAoYmVmb3JlID0gdHJlZS5jaGlsZEJlZm9yZShzY2FuKSk7KSB7XG4gICAgbGV0IGxhc3QgPSBiZWZvcmUubGFzdENoaWxkO1xuICAgIGlmICghbGFzdCB8fCAhbGFzdC50eXBlLmlzRXJyb3IgfHwgbGFzdC5mcm9tIDwgbGFzdC50bykgYnJlYWs7XG4gICAgYXJvdW5kID0gdHJlZSA9IGJlZm9yZTtcbiAgICBzY2FuID0gbGFzdC5mcm9tO1xuICB9XG4gIGlmICh0cmVlLm5hbWUgPT0gXCJUYWdOYW1lXCIpIHtcbiAgICByZXR1cm4gdHJlZS5wYXJlbnQgJiYgL0Nsb3NlVGFnJC8udGVzdCh0cmVlLnBhcmVudC5uYW1lKSA/IGNvbXBsZXRlQ2xvc2VUYWcoc3RhdGUsIHRyZWUsIHRyZWUuZnJvbSwgcG9zKSA6IGNvbXBsZXRlVGFnKHN0YXRlLCBzY2hlbWEsIHRyZWUsIHRyZWUuZnJvbSwgcG9zKTtcbiAgfSBlbHNlIGlmICh0cmVlLm5hbWUgPT0gXCJTdGFydFRhZ1wiIHx8IHRyZWUubmFtZSA9PSBcIkluY29tcGxldGVUYWdcIikge1xuICAgIHJldHVybiBjb21wbGV0ZVRhZyhzdGF0ZSwgc2NoZW1hLCB0cmVlLCBwb3MsIHBvcyk7XG4gIH0gZWxzZSBpZiAodHJlZS5uYW1lID09IFwiU3RhcnRDbG9zZVRhZ1wiIHx8IHRyZWUubmFtZSA9PSBcIkluY29tcGxldGVDbG9zZVRhZ1wiKSB7XG4gICAgcmV0dXJuIGNvbXBsZXRlQ2xvc2VUYWcoc3RhdGUsIHRyZWUsIHBvcywgcG9zKTtcbiAgfSBlbHNlIGlmICh0cmVlLm5hbWUgPT0gXCJPcGVuVGFnXCIgfHwgdHJlZS5uYW1lID09IFwiU2VsZkNsb3NpbmdUYWdcIiB8fCB0cmVlLm5hbWUgPT0gXCJBdHRyaWJ1dGVOYW1lXCIpIHtcbiAgICByZXR1cm4gY29tcGxldGVBdHRyTmFtZShzdGF0ZSwgc2NoZW1hLCB0cmVlLCB0cmVlLm5hbWUgPT0gXCJBdHRyaWJ1dGVOYW1lXCIgPyB0cmVlLmZyb20gOiBwb3MsIHBvcyk7XG4gIH0gZWxzZSBpZiAodHJlZS5uYW1lID09IFwiSXNcIiB8fCB0cmVlLm5hbWUgPT0gXCJBdHRyaWJ1dGVWYWx1ZVwiIHx8IHRyZWUubmFtZSA9PSBcIlVucXVvdGVkQXR0cmlidXRlVmFsdWVcIikge1xuICAgIHJldHVybiBjb21wbGV0ZUF0dHJWYWx1ZShzdGF0ZSwgc2NoZW1hLCB0cmVlLCB0cmVlLm5hbWUgPT0gXCJJc1wiID8gcG9zIDogdHJlZS5mcm9tLCBwb3MpO1xuICB9IGVsc2UgaWYgKGNvbnRleHQuZXhwbGljaXQgJiYgKGFyb3VuZC5uYW1lID09IFwiRWxlbWVudFwiIHx8IGFyb3VuZC5uYW1lID09IFwiVGV4dFwiIHx8IGFyb3VuZC5uYW1lID09IFwiRG9jdW1lbnRcIikpIHtcbiAgICByZXR1cm4gY29tcGxldGVTdGFydFRhZyhzdGF0ZSwgc2NoZW1hLCB0cmVlLCBwb3MpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4vKipcbkhUTUwgdGFnIGNvbXBsZXRpb24uIE9wZW5zIGFuZCBjbG9zZXMgdGFncyBhbmQgYXR0cmlidXRlcyBpbiBhXG5jb250ZXh0LWF3YXJlIHdheS5cbiovXG5mdW5jdGlvbiBodG1sQ29tcGxldGlvblNvdXJjZShjb250ZXh0KSB7XG4gIHJldHVybiBodG1sQ29tcGxldGlvbkZvcihTY2hlbWEuZGVmYXVsdCwgY29udGV4dCk7XG59XG4vKipcbkNyZWF0ZSBhIGNvbXBsZXRpb24gc291cmNlIGZvciBIVE1MIGV4dGVuZGVkIHdpdGggYWRkaXRpb25hbCB0YWdzXG5vciBhdHRyaWJ1dGVzLlxuKi9cbmZ1bmN0aW9uIGh0bWxDb21wbGV0aW9uU291cmNlV2l0aChjb25maWcpIHtcbiAgbGV0IHtcbiAgICBleHRyYVRhZ3MsXG4gICAgZXh0cmFHbG9iYWxBdHRyaWJ1dGVzOiBleHRyYUF0dHJzXG4gIH0gPSBjb25maWc7XG4gIGxldCBzY2hlbWEgPSBleHRyYUF0dHJzIHx8IGV4dHJhVGFncyA/IG5ldyBTY2hlbWEoZXh0cmFUYWdzLCBleHRyYUF0dHJzKSA6IFNjaGVtYS5kZWZhdWx0O1xuICByZXR1cm4gY29udGV4dCA9PiBodG1sQ29tcGxldGlvbkZvcihzY2hlbWEsIGNvbnRleHQpO1xufVxuY29uc3QganNvblBhcnNlciA9IC8qQF9fUFVSRV9fKi9qYXZhc2NyaXB0TGFuZ3VhZ2UucGFyc2VyLmNvbmZpZ3VyZSh7XG4gIHRvcDogXCJTaW5nbGVFeHByZXNzaW9uXCJcbn0pO1xuY29uc3QgZGVmYXVsdE5lc3RpbmcgPSBbe1xuICB0YWc6IFwic2NyaXB0XCIsXG4gIGF0dHJzOiBhdHRycyA9PiBhdHRycy50eXBlID09IFwidGV4dC90eXBlc2NyaXB0XCIgfHwgYXR0cnMubGFuZyA9PSBcInRzXCIsXG4gIHBhcnNlcjogdHlwZXNjcmlwdExhbmd1YWdlLnBhcnNlclxufSwge1xuICB0YWc6IFwic2NyaXB0XCIsXG4gIGF0dHJzOiBhdHRycyA9PiBhdHRycy50eXBlID09IFwidGV4dC9iYWJlbFwiIHx8IGF0dHJzLnR5cGUgPT0gXCJ0ZXh0L2pzeFwiLFxuICBwYXJzZXI6IGpzeExhbmd1YWdlLnBhcnNlclxufSwge1xuICB0YWc6IFwic2NyaXB0XCIsXG4gIGF0dHJzOiBhdHRycyA9PiBhdHRycy50eXBlID09IFwidGV4dC90eXBlc2NyaXB0LWpzeFwiLFxuICBwYXJzZXI6IHRzeExhbmd1YWdlLnBhcnNlclxufSwge1xuICB0YWc6IFwic2NyaXB0XCIsXG4gIGF0dHJzKGF0dHJzKSB7XG4gICAgcmV0dXJuIC9eKGltcG9ydG1hcHxzcGVjdWxhdGlvbnJ1bGVzfGFwcGxpY2F0aW9uXFwvKC4rXFwrKT9qc29uKSQvaS50ZXN0KGF0dHJzLnR5cGUpO1xuICB9LFxuICBwYXJzZXI6IGpzb25QYXJzZXJcbn0sIHtcbiAgdGFnOiBcInNjcmlwdFwiLFxuICBhdHRycyhhdHRycykge1xuICAgIHJldHVybiAhYXR0cnMudHlwZSB8fCAvXig/OnRleHR8YXBwbGljYXRpb24pXFwvKD86eC0pPyg/OmphdmF8ZWNtYSlzY3JpcHQkfF5tb2R1bGUkfF4kL2kudGVzdChhdHRycy50eXBlKTtcbiAgfSxcbiAgcGFyc2VyOiBqYXZhc2NyaXB0TGFuZ3VhZ2UucGFyc2VyXG59LCB7XG4gIHRhZzogXCJzdHlsZVwiLFxuICBhdHRycyhhdHRycykge1xuICAgIHJldHVybiAoIWF0dHJzLmxhbmcgfHwgYXR0cnMubGFuZyA9PSBcImNzc1wiKSAmJiAoIWF0dHJzLnR5cGUgfHwgL14odGV4dFxcLyk/KHgtKT8oc3R5bGVzaGVldHxjc3MpJC9pLnRlc3QoYXR0cnMudHlwZSkpO1xuICB9LFxuICBwYXJzZXI6IGNzc0xhbmd1YWdlLnBhcnNlclxufV07XG5jb25zdCBkZWZhdWx0QXR0cnMgPSAvKkBfX1BVUkVfXyovW3tcbiAgbmFtZTogXCJzdHlsZVwiLFxuICBwYXJzZXI6IC8qQF9fUFVSRV9fKi9jc3NMYW5ndWFnZS5wYXJzZXIuY29uZmlndXJlKHtcbiAgICB0b3A6IFwiU3R5bGVzXCJcbiAgfSlcbn1dLmNvbmNhdCgvKkBfX1BVUkVfXyovZXZlbnRBdHRyaWJ1dGVzLm1hcChuYW1lID0+ICh7XG4gIG5hbWUsXG4gIHBhcnNlcjogamF2YXNjcmlwdExhbmd1YWdlLnBhcnNlclxufSkpKTtcbmNvbnN0IGh0bWxQbGFpbiA9IC8qQF9fUFVSRV9fKi9MUkxhbmd1YWdlLmRlZmluZSh7XG4gIG5hbWU6IFwiaHRtbFwiLFxuICBwYXJzZXI6IC8qQF9fUFVSRV9fKi9wYXJzZXIuY29uZmlndXJlKHtcbiAgICBwcm9wczogWy8qQF9fUFVSRV9fKi9pbmRlbnROb2RlUHJvcC5hZGQoe1xuICAgICAgRWxlbWVudChjb250ZXh0KSB7XG4gICAgICAgIGxldCBhZnRlciA9IC9eKFxccyopKDxcXC8pPy8uZXhlYyhjb250ZXh0LnRleHRBZnRlcik7XG4gICAgICAgIGlmIChjb250ZXh0Lm5vZGUudG8gPD0gY29udGV4dC5wb3MgKyBhZnRlclswXS5sZW5ndGgpIHJldHVybiBjb250ZXh0LmNvbnRpbnVlKCk7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmxpbmVJbmRlbnQoY29udGV4dC5ub2RlLmZyb20pICsgKGFmdGVyWzJdID8gMCA6IGNvbnRleHQudW5pdCk7XG4gICAgICB9LFxuICAgICAgXCJPcGVuVGFnIENsb3NlVGFnIFNlbGZDbG9zaW5nVGFnXCIoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gY29udGV4dC5jb2x1bW4oY29udGV4dC5ub2RlLmZyb20pICsgY29udGV4dC51bml0O1xuICAgICAgfSxcbiAgICAgIERvY3VtZW50KGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQucG9zICsgL1xccyovLmV4ZWMoY29udGV4dC50ZXh0QWZ0ZXIpWzBdLmxlbmd0aCA8IGNvbnRleHQubm9kZS50bykgcmV0dXJuIGNvbnRleHQuY29udGludWUoKTtcbiAgICAgICAgbGV0IGVuZEVsdCA9IG51bGwsXG4gICAgICAgICAgY2xvc2U7XG4gICAgICAgIGZvciAobGV0IGN1ciA9IGNvbnRleHQubm9kZTs7KSB7XG4gICAgICAgICAgbGV0IGxhc3QgPSBjdXIubGFzdENoaWxkO1xuICAgICAgICAgIGlmICghbGFzdCB8fCBsYXN0Lm5hbWUgIT0gXCJFbGVtZW50XCIgfHwgbGFzdC50byAhPSBjdXIudG8pIGJyZWFrO1xuICAgICAgICAgIGVuZEVsdCA9IGN1ciA9IGxhc3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZEVsdCAmJiAhKChjbG9zZSA9IGVuZEVsdC5sYXN0Q2hpbGQpICYmIChjbG9zZS5uYW1lID09IFwiQ2xvc2VUYWdcIiB8fCBjbG9zZS5uYW1lID09IFwiU2VsZkNsb3NpbmdUYWdcIikpKSByZXR1cm4gY29udGV4dC5saW5lSW5kZW50KGVuZEVsdC5mcm9tKSArIGNvbnRleHQudW5pdDtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSksIC8qQF9fUFVSRV9fKi9mb2xkTm9kZVByb3AuYWRkKHtcbiAgICAgIEVsZW1lbnQobm9kZSkge1xuICAgICAgICBsZXQgZmlyc3QgPSBub2RlLmZpcnN0Q2hpbGQsXG4gICAgICAgICAgbGFzdCA9IG5vZGUubGFzdENoaWxkO1xuICAgICAgICBpZiAoIWZpcnN0IHx8IGZpcnN0Lm5hbWUgIT0gXCJPcGVuVGFnXCIpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGZyb206IGZpcnN0LnRvLFxuICAgICAgICAgIHRvOiBsYXN0Lm5hbWUgPT0gXCJDbG9zZVRhZ1wiID8gbGFzdC5mcm9tIDogbm9kZS50b1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pLCAvKkBfX1BVUkVfXyovYnJhY2tldE1hdGNoaW5nSGFuZGxlLmFkZCh7XG4gICAgICBcIk9wZW5UYWcgQ2xvc2VUYWdcIjogbm9kZSA9PiBub2RlLmdldENoaWxkKFwiVGFnTmFtZVwiKVxuICAgIH0pXVxuICB9KSxcbiAgbGFuZ3VhZ2VEYXRhOiB7XG4gICAgY29tbWVudFRva2Vuczoge1xuICAgICAgYmxvY2s6IHtcbiAgICAgICAgb3BlbjogXCI8IS0tXCIsXG4gICAgICAgIGNsb3NlOiBcIi0tPlwiXG4gICAgICB9XG4gICAgfSxcbiAgICBpbmRlbnRPbklucHV0OiAvXlxccyo8XFwvXFx3K1xcVyQvLFxuICAgIHdvcmRDaGFyczogXCItX1wiXG4gIH1cbn0pO1xuLyoqXG5BIGxhbmd1YWdlIHByb3ZpZGVyIGJhc2VkIG9uIHRoZSBbTGV6ZXIgSFRNTFxucGFyc2VyXShodHRwczovL2dpdGh1Yi5jb20vbGV6ZXItcGFyc2VyL2h0bWwpLCBleHRlbmRlZCB3aXRoIHRoZVxuSmF2YVNjcmlwdCBhbmQgQ1NTIHBhcnNlcnMgdG8gcGFyc2UgdGhlIGNvbnRlbnQgb2YgYDxzY3JpcHQ+YCBhbmRcbmA8c3R5bGU+YCB0YWdzLlxuKi9cbmNvbnN0IGh0bWxMYW5ndWFnZSA9IC8qQF9fUFVSRV9fKi9odG1sUGxhaW4uY29uZmlndXJlKHtcbiAgd3JhcDogLypAX19QVVJFX18qL2NvbmZpZ3VyZU5lc3RpbmcoZGVmYXVsdE5lc3RpbmcsIGRlZmF1bHRBdHRycylcbn0pO1xuLyoqXG5MYW5ndWFnZSBzdXBwb3J0IGZvciBIVE1MLCBpbmNsdWRpbmdcbltgaHRtbENvbXBsZXRpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmctaHRtbC5odG1sQ29tcGxldGlvbikgYW5kIEphdmFTY3JpcHQgYW5kXG5DU1Mgc3VwcG9ydCBleHRlbnNpb25zLlxuKi9cbmZ1bmN0aW9uIGh0bWwoY29uZmlnID0ge30pIHtcbiAgbGV0IGRpYWxlY3QgPSBcIlwiLFxuICAgIHdyYXA7XG4gIGlmIChjb25maWcubWF0Y2hDbG9zaW5nVGFncyA9PT0gZmFsc2UpIGRpYWxlY3QgPSBcIm5vTWF0Y2hcIjtcbiAgaWYgKGNvbmZpZy5zZWxmQ2xvc2luZ1RhZ3MgPT09IHRydWUpIGRpYWxlY3QgPSAoZGlhbGVjdCA/IGRpYWxlY3QgKyBcIiBcIiA6IFwiXCIpICsgXCJzZWxmQ2xvc2luZ1wiO1xuICBpZiAoY29uZmlnLm5lc3RlZExhbmd1YWdlcyAmJiBjb25maWcubmVzdGVkTGFuZ3VhZ2VzLmxlbmd0aCB8fCBjb25maWcubmVzdGVkQXR0cmlidXRlcyAmJiBjb25maWcubmVzdGVkQXR0cmlidXRlcy5sZW5ndGgpIHdyYXAgPSBjb25maWd1cmVOZXN0aW5nKChjb25maWcubmVzdGVkTGFuZ3VhZ2VzIHx8IFtdKS5jb25jYXQoZGVmYXVsdE5lc3RpbmcpLCAoY29uZmlnLm5lc3RlZEF0dHJpYnV0ZXMgfHwgW10pLmNvbmNhdChkZWZhdWx0QXR0cnMpKTtcbiAgbGV0IGxhbmcgPSB3cmFwID8gaHRtbFBsYWluLmNvbmZpZ3VyZSh7XG4gICAgd3JhcCxcbiAgICBkaWFsZWN0XG4gIH0pIDogZGlhbGVjdCA/IGh0bWxMYW5ndWFnZS5jb25maWd1cmUoe1xuICAgIGRpYWxlY3RcbiAgfSkgOiBodG1sTGFuZ3VhZ2U7XG4gIHJldHVybiBuZXcgTGFuZ3VhZ2VTdXBwb3J0KGxhbmcsIFtodG1sTGFuZ3VhZ2UuZGF0YS5vZih7XG4gICAgYXV0b2NvbXBsZXRlOiBodG1sQ29tcGxldGlvblNvdXJjZVdpdGgoY29uZmlnKVxuICB9KSwgY29uZmlnLmF1dG9DbG9zZVRhZ3MgIT09IGZhbHNlID8gYXV0b0Nsb3NlVGFncyA6IFtdLCBqYXZhc2NyaXB0KCkuc3VwcG9ydCwgY3NzKCkuc3VwcG9ydF0pO1xufVxuY29uc3Qgc2VsZkNsb3NlcnMgPSAvKkBfX1BVUkVfXyovbmV3IFNldCgvKkBfX1BVUkVfXyovXCJhcmVhIGJhc2UgYnIgY29sIGNvbW1hbmQgZW1iZWQgZnJhbWUgaHIgaW1nIGlucHV0IGtleWdlbiBsaW5rIG1ldGEgcGFyYW0gc291cmNlIHRyYWNrIHdiciBtZW51aXRlbVwiLnNwbGl0KFwiIFwiKSk7XG4vKipcbkV4dGVuc2lvbiB0aGF0IHdpbGwgYXV0b21hdGljYWxseSBpbnNlcnQgY2xvc2UgdGFncyB3aGVuIGEgYD5gIG9yXG5gL2AgaXMgdHlwZWQuXG4qL1xuY29uc3QgYXV0b0Nsb3NlVGFncyA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmlucHV0SGFuZGxlci5vZigodmlldywgZnJvbSwgdG8sIHRleHQsIGluc2VydFRyYW5zYWN0aW9uKSA9PiB7XG4gIGlmICh2aWV3LmNvbXBvc2luZyB8fCB2aWV3LnN0YXRlLnJlYWRPbmx5IHx8IGZyb20gIT0gdG8gfHwgdGV4dCAhPSBcIj5cIiAmJiB0ZXh0ICE9IFwiL1wiIHx8ICFodG1sTGFuZ3VhZ2UuaXNBY3RpdmVBdCh2aWV3LnN0YXRlLCBmcm9tLCAtMSkpIHJldHVybiBmYWxzZTtcbiAgbGV0IGJhc2UgPSBpbnNlcnRUcmFuc2FjdGlvbigpLFxuICAgIHtcbiAgICAgIHN0YXRlXG4gICAgfSA9IGJhc2U7XG4gIGxldCBjbG9zZVRhZ3MgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBsZXQgZGlkVHlwZSA9IHN0YXRlLmRvYy5zbGljZVN0cmluZyhyYW5nZS5mcm9tIC0gMSwgcmFuZ2UudG8pID09IHRleHQ7XG4gICAgbGV0IHtcbiAgICAgICAgaGVhZFxuICAgICAgfSA9IHJhbmdlLFxuICAgICAgYWZ0ZXIgPSBzeW50YXhUcmVlKHN0YXRlKS5yZXNvbHZlSW5uZXIoaGVhZCwgLTEpLFxuICAgICAgbmFtZTtcbiAgICBpZiAoZGlkVHlwZSAmJiB0ZXh0ID09IFwiPlwiICYmIGFmdGVyLm5hbWUgPT0gXCJFbmRUYWdcIikge1xuICAgICAgbGV0IHRhZyA9IGFmdGVyLnBhcmVudDtcbiAgICAgIGlmICgoKF9iID0gKF9hID0gdGFnLnBhcmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhc3RDaGlsZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm5hbWUpICE9IFwiQ2xvc2VUYWdcIiAmJiAobmFtZSA9IGVsZW1lbnROYW1lKHN0YXRlLmRvYywgdGFnLnBhcmVudCwgaGVhZCkpICYmICFzZWxmQ2xvc2Vycy5oYXMobmFtZSkpIHtcbiAgICAgICAgbGV0IHRvID0gaGVhZCArIChzdGF0ZS5kb2Muc2xpY2VTdHJpbmcoaGVhZCwgaGVhZCArIDEpID09PSBcIj5cIiA/IDEgOiAwKTtcbiAgICAgICAgbGV0IGluc2VydCA9IGA8LyR7bmFtZX0+YDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByYW5nZSxcbiAgICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgICBmcm9tOiBoZWFkLFxuICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICBpbnNlcnRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkaWRUeXBlICYmIHRleHQgPT0gXCIvXCIgJiYgYWZ0ZXIubmFtZSA9PSBcIkluY29tcGxldGVDbG9zZVRhZ1wiKSB7XG4gICAgICBsZXQgdGFnID0gYWZ0ZXIucGFyZW50O1xuICAgICAgaWYgKGFmdGVyLmZyb20gPT0gaGVhZCAtIDIgJiYgKChfYyA9IHRhZy5sYXN0Q2hpbGQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5uYW1lKSAhPSBcIkNsb3NlVGFnXCIgJiYgKG5hbWUgPSBlbGVtZW50TmFtZShzdGF0ZS5kb2MsIHRhZywgaGVhZCkpICYmICFzZWxmQ2xvc2Vycy5oYXMobmFtZSkpIHtcbiAgICAgICAgbGV0IHRvID0gaGVhZCArIChzdGF0ZS5kb2Muc2xpY2VTdHJpbmcoaGVhZCwgaGVhZCArIDEpID09PSBcIj5cIiA/IDEgOiAwKTtcbiAgICAgICAgbGV0IGluc2VydCA9IGAke25hbWV9PmA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoaGVhZCArIGluc2VydC5sZW5ndGgsIC0xKSxcbiAgICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgICBmcm9tOiBoZWFkLFxuICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICBpbnNlcnRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICByYW5nZVxuICAgIH07XG4gIH0pO1xuICBpZiAoY2xvc2VUYWdzLmNoYW5nZXMuZW1wdHkpIHJldHVybiBmYWxzZTtcbiAgdmlldy5kaXNwYXRjaChbYmFzZSwgc3RhdGUudXBkYXRlKGNsb3NlVGFncywge1xuICAgIHVzZXJFdmVudDogXCJpbnB1dC5jb21wbGV0ZVwiLFxuICAgIHNjcm9sbEludG9WaWV3OiB0cnVlXG4gIH0pXSk7XG4gIHJldHVybiB0cnVlO1xufSk7XG5leHBvcnQgeyBhdXRvQ2xvc2VUYWdzLCBodG1sLCBodG1sQ29tcGxldGlvblNvdXJjZSwgaHRtbENvbXBsZXRpb25Tb3VyY2VXaXRoLCBodG1sTGFuZ3VhZ2UgfTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9