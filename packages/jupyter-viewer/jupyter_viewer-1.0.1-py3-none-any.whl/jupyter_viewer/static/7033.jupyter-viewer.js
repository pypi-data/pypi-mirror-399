"use strict";
(self["webpackChunk_datalayer_jupyter_viewer"] = self["webpackChunk_datalayer_jupyter_viewer"] || []).push([[7033],{

/***/ 57033
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cobol: () => (/* binding */ cobol)
/* harmony export */ });
var BUILTIN = "builtin",
  COMMENT = "comment",
  STRING = "string",
  ATOM = "atom",
  NUMBER = "number",
  KEYWORD = "keyword",
  MODTAG = "header",
  COBOLLINENUM = "def",
  PERIOD = "link";
function makeKeywords(str) {
  var obj = {},
    words = str.split(" ");
  for (var i = 0; i < words.length; ++i) obj[words[i]] = true;
  return obj;
}
var atoms = makeKeywords("TRUE FALSE ZEROES ZEROS ZERO SPACES SPACE LOW-VALUE LOW-VALUES ");
var keywords = makeKeywords("ACCEPT ACCESS ACQUIRE ADD ADDRESS " + "ADVANCING AFTER ALIAS ALL ALPHABET " + "ALPHABETIC ALPHABETIC-LOWER ALPHABETIC-UPPER ALPHANUMERIC ALPHANUMERIC-EDITED " + "ALSO ALTER ALTERNATE AND ANY " + "ARE AREA AREAS ARITHMETIC ASCENDING " + "ASSIGN AT ATTRIBUTE AUTHOR AUTO " + "AUTO-SKIP AUTOMATIC B-AND B-EXOR B-LESS " + "B-NOT B-OR BACKGROUND-COLOR BACKGROUND-COLOUR BEEP " + "BEFORE BELL BINARY BIT BITS " + "BLANK BLINK BLOCK BOOLEAN BOTTOM " + "BY CALL CANCEL CD CF " + "CH CHARACTER CHARACTERS CLASS CLOCK-UNITS " + "CLOSE COBOL CODE CODE-SET COL " + "COLLATING COLUMN COMMA COMMIT COMMITMENT " + "COMMON COMMUNICATION COMP COMP-0 COMP-1 " + "COMP-2 COMP-3 COMP-4 COMP-5 COMP-6 " + "COMP-7 COMP-8 COMP-9 COMPUTATIONAL COMPUTATIONAL-0 " + "COMPUTATIONAL-1 COMPUTATIONAL-2 COMPUTATIONAL-3 COMPUTATIONAL-4 COMPUTATIONAL-5 " + "COMPUTATIONAL-6 COMPUTATIONAL-7 COMPUTATIONAL-8 COMPUTATIONAL-9 COMPUTE " + "CONFIGURATION CONNECT CONSOLE CONTAINED CONTAINS " + "CONTENT CONTINUE CONTROL CONTROL-AREA CONTROLS " + "CONVERTING COPY CORR CORRESPONDING COUNT " + "CRT CRT-UNDER CURRENCY CURRENT CURSOR " + "DATA DATE DATE-COMPILED DATE-WRITTEN DAY " + "DAY-OF-WEEK DB DB-ACCESS-CONTROL-KEY DB-DATA-NAME DB-EXCEPTION " + "DB-FORMAT-NAME DB-RECORD-NAME DB-SET-NAME DB-STATUS DBCS " + "DBCS-EDITED DE DEBUG-CONTENTS DEBUG-ITEM DEBUG-LINE " + "DEBUG-NAME DEBUG-SUB-1 DEBUG-SUB-2 DEBUG-SUB-3 DEBUGGING " + "DECIMAL-POINT DECLARATIVES DEFAULT DELETE DELIMITED " + "DELIMITER DEPENDING DESCENDING DESCRIBED DESTINATION " + "DETAIL DISABLE DISCONNECT DISPLAY DISPLAY-1 " + "DISPLAY-2 DISPLAY-3 DISPLAY-4 DISPLAY-5 DISPLAY-6 " + "DISPLAY-7 DISPLAY-8 DISPLAY-9 DIVIDE DIVISION " + "DOWN DROP DUPLICATE DUPLICATES DYNAMIC " + "EBCDIC EGI EJECT ELSE EMI " + "EMPTY EMPTY-CHECK ENABLE END END. END-ACCEPT END-ACCEPT. " + "END-ADD END-CALL END-COMPUTE END-DELETE END-DISPLAY " + "END-DIVIDE END-EVALUATE END-IF END-INVOKE END-MULTIPLY " + "END-OF-PAGE END-PERFORM END-READ END-RECEIVE END-RETURN " + "END-REWRITE END-SEARCH END-START END-STRING END-SUBTRACT " + "END-UNSTRING END-WRITE END-XML ENTER ENTRY " + "ENVIRONMENT EOP EQUAL EQUALS ERASE " + "ERROR ESI EVALUATE EVERY EXCEEDS " + "EXCEPTION EXCLUSIVE EXIT EXTEND EXTERNAL " + "EXTERNALLY-DESCRIBED-KEY FD FETCH FILE FILE-CONTROL " + "FILE-STREAM FILES FILLER FINAL FIND " + "FINISH FIRST FOOTING FOR FOREGROUND-COLOR " + "FOREGROUND-COLOUR FORMAT FREE FROM FULL " + "FUNCTION GENERATE GET GIVING GLOBAL " + "GO GOBACK GREATER GROUP HEADING " + "HIGH-VALUE HIGH-VALUES HIGHLIGHT I-O I-O-CONTROL " + "ID IDENTIFICATION IF IN INDEX " + "INDEX-1 INDEX-2 INDEX-3 INDEX-4 INDEX-5 " + "INDEX-6 INDEX-7 INDEX-8 INDEX-9 INDEXED " + "INDIC INDICATE INDICATOR INDICATORS INITIAL " + "INITIALIZE INITIATE INPUT INPUT-OUTPUT INSPECT " + "INSTALLATION INTO INVALID INVOKE IS " + "JUST JUSTIFIED KANJI KEEP KEY " + "LABEL LAST LD LEADING LEFT " + "LEFT-JUSTIFY LENGTH LENGTH-CHECK LESS LIBRARY " + "LIKE LIMIT LIMITS LINAGE LINAGE-COUNTER " + "LINE LINE-COUNTER LINES LINKAGE LOCAL-STORAGE " + "LOCALE LOCALLY LOCK " + "MEMBER MEMORY MERGE MESSAGE METACLASS " + "MODE MODIFIED MODIFY MODULES MOVE " + "MULTIPLE MULTIPLY NATIONAL NATIVE NEGATIVE " + "NEXT NO NO-ECHO NONE NOT " + "NULL NULL-KEY-MAP NULL-MAP NULLS NUMBER " + "NUMERIC NUMERIC-EDITED OBJECT OBJECT-COMPUTER OCCURS " + "OF OFF OMITTED ON ONLY " + "OPEN OPTIONAL OR ORDER ORGANIZATION " + "OTHER OUTPUT OVERFLOW OWNER PACKED-DECIMAL " + "PADDING PAGE PAGE-COUNTER PARSE PERFORM " + "PF PH PIC PICTURE PLUS " + "POINTER POSITION POSITIVE PREFIX PRESENT " + "PRINTING PRIOR PROCEDURE PROCEDURE-POINTER PROCEDURES " + "PROCEED PROCESS PROCESSING PROGRAM PROGRAM-ID " + "PROMPT PROTECTED PURGE QUEUE QUOTE " + "QUOTES RANDOM RD READ READY " + "REALM RECEIVE RECONNECT RECORD RECORD-NAME " + "RECORDS RECURSIVE REDEFINES REEL REFERENCE " + "REFERENCE-MONITOR REFERENCES RELATION RELATIVE RELEASE " + "REMAINDER REMOVAL RENAMES REPEATED REPLACE " + "REPLACING REPORT REPORTING REPORTS REPOSITORY " + "REQUIRED RERUN RESERVE RESET RETAINING " + "RETRIEVAL RETURN RETURN-CODE RETURNING REVERSE-VIDEO " + "REVERSED REWIND REWRITE RF RH " + "RIGHT RIGHT-JUSTIFY ROLLBACK ROLLING ROUNDED " + "RUN SAME SCREEN SD SEARCH " + "SECTION SECURE SECURITY SEGMENT SEGMENT-LIMIT " + "SELECT SEND SENTENCE SEPARATE SEQUENCE " + "SEQUENTIAL SET SHARED SIGN SIZE " + "SKIP1 SKIP2 SKIP3 SORT SORT-MERGE " + "SORT-RETURN SOURCE SOURCE-COMPUTER SPACE-FILL " + "SPECIAL-NAMES STANDARD STANDARD-1 STANDARD-2 " + "START STARTING STATUS STOP STORE " + "STRING SUB-QUEUE-1 SUB-QUEUE-2 SUB-QUEUE-3 SUB-SCHEMA " + "SUBFILE SUBSTITUTE SUBTRACT SUM SUPPRESS " + "SYMBOLIC SYNC SYNCHRONIZED SYSIN SYSOUT " + "TABLE TALLYING TAPE TENANT TERMINAL " + "TERMINATE TEST TEXT THAN THEN " + "THROUGH THRU TIME TIMES TITLE " + "TO TOP TRAILING TRAILING-SIGN TRANSACTION " + "TYPE TYPEDEF UNDERLINE UNEQUAL UNIT " + "UNSTRING UNTIL UP UPDATE UPON " + "USAGE USAGE-MODE USE USING VALID " + "VALIDATE VALUE VALUES VARYING VLR " + "WAIT WHEN WHEN-COMPILED WITH WITHIN " + "WORDS WORKING-STORAGE WRITE XML XML-CODE " + "XML-EVENT XML-NTEXT XML-TEXT ZERO ZERO-FILL ");
var builtins = makeKeywords("- * ** / + < <= = > >= ");
var tests = {
  digit: /\d/,
  digit_or_colon: /[\d:]/,
  hex: /[0-9a-f]/i,
  sign: /[+-]/,
  exponent: /e/i,
  keyword_char: /[^\s\(\[\;\)\]]/,
  symbol: /[\w*+\-]/
};
function isNumber(ch, stream) {
  // hex
  if (ch === '0' && stream.eat(/x/i)) {
    stream.eatWhile(tests.hex);
    return true;
  }
  // leading sign
  if ((ch == '+' || ch == '-') && tests.digit.test(stream.peek())) {
    stream.eat(tests.sign);
    ch = stream.next();
  }
  if (tests.digit.test(ch)) {
    stream.eat(ch);
    stream.eatWhile(tests.digit);
    if ('.' == stream.peek()) {
      stream.eat('.');
      stream.eatWhile(tests.digit);
    }
    if (stream.eat(tests.exponent)) {
      stream.eat(tests.sign);
      stream.eatWhile(tests.digit);
    }
    return true;
  }
  return false;
}
const cobol = {
  name: "cobol",
  startState: function () {
    return {
      indentStack: null,
      indentation: 0,
      mode: false
    };
  },
  token: function (stream, state) {
    if (state.indentStack == null && stream.sol()) {
      // update indentation, but only if indentStack is empty
      state.indentation = 6; //stream.indentation();
    }
    // skip spaces
    if (stream.eatSpace()) {
      return null;
    }
    var returnType = null;
    switch (state.mode) {
      case "string":
        // multi-line string parsing mode
        var next = false;
        while ((next = stream.next()) != null) {
          if ((next == "\"" || next == "\'") && !stream.match(/['"]/, false)) {
            state.mode = false;
            break;
          }
        }
        returnType = STRING; // continue on in string mode
        break;
      default:
        // default parsing mode
        var ch = stream.next();
        var col = stream.column();
        if (col >= 0 && col <= 5) {
          returnType = COBOLLINENUM;
        } else if (col >= 72 && col <= 79) {
          stream.skipToEnd();
          returnType = MODTAG;
        } else if (ch == "*" && col == 6) {
          // comment
          stream.skipToEnd(); // rest of the line is a comment
          returnType = COMMENT;
        } else if (ch == "\"" || ch == "\'") {
          state.mode = "string";
          returnType = STRING;
        } else if (ch == "'" && !tests.digit_or_colon.test(stream.peek())) {
          returnType = ATOM;
        } else if (ch == ".") {
          returnType = PERIOD;
        } else if (isNumber(ch, stream)) {
          returnType = NUMBER;
        } else {
          if (stream.current().match(tests.symbol)) {
            while (col < 71) {
              if (stream.eat(tests.symbol) === undefined) {
                break;
              } else {
                col++;
              }
            }
          }
          if (keywords && keywords.propertyIsEnumerable(stream.current().toUpperCase())) {
            returnType = KEYWORD;
          } else if (builtins && builtins.propertyIsEnumerable(stream.current().toUpperCase())) {
            returnType = BUILTIN;
          } else if (atoms && atoms.propertyIsEnumerable(stream.current().toUpperCase())) {
            returnType = ATOM;
          } else returnType = null;
        }
    }
    return returnType;
  },
  indent: function (state) {
    if (state.indentStack == null) return state.indentation;
    return state.indentStack.indent;
  }
};

/***/ }

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzAzMy5qdXB5dGVyLXZpZXdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGF0YWxheWVyL2p1cHl0ZXItdmlld2VyLy4vbm9kZV9tb2R1bGVzL0Bjb2RlbWlycm9yL2xlZ2FjeS1tb2Rlcy9tb2RlL2NvYm9sLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBCVUlMVElOID0gXCJidWlsdGluXCIsXG4gIENPTU1FTlQgPSBcImNvbW1lbnRcIixcbiAgU1RSSU5HID0gXCJzdHJpbmdcIixcbiAgQVRPTSA9IFwiYXRvbVwiLFxuICBOVU1CRVIgPSBcIm51bWJlclwiLFxuICBLRVlXT1JEID0gXCJrZXl3b3JkXCIsXG4gIE1PRFRBRyA9IFwiaGVhZGVyXCIsXG4gIENPQk9MTElORU5VTSA9IFwiZGVmXCIsXG4gIFBFUklPRCA9IFwibGlua1wiO1xuZnVuY3Rpb24gbWFrZUtleXdvcmRzKHN0cikge1xuICB2YXIgb2JqID0ge30sXG4gICAgd29yZHMgPSBzdHIuc3BsaXQoXCIgXCIpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgKytpKSBvYmpbd29yZHNbaV1dID0gdHJ1ZTtcbiAgcmV0dXJuIG9iajtcbn1cbnZhciBhdG9tcyA9IG1ha2VLZXl3b3JkcyhcIlRSVUUgRkFMU0UgWkVST0VTIFpFUk9TIFpFUk8gU1BBQ0VTIFNQQUNFIExPVy1WQUxVRSBMT1ctVkFMVUVTIFwiKTtcbnZhciBrZXl3b3JkcyA9IG1ha2VLZXl3b3JkcyhcIkFDQ0VQVCBBQ0NFU1MgQUNRVUlSRSBBREQgQUREUkVTUyBcIiArIFwiQURWQU5DSU5HIEFGVEVSIEFMSUFTIEFMTCBBTFBIQUJFVCBcIiArIFwiQUxQSEFCRVRJQyBBTFBIQUJFVElDLUxPV0VSIEFMUEhBQkVUSUMtVVBQRVIgQUxQSEFOVU1FUklDIEFMUEhBTlVNRVJJQy1FRElURUQgXCIgKyBcIkFMU08gQUxURVIgQUxURVJOQVRFIEFORCBBTlkgXCIgKyBcIkFSRSBBUkVBIEFSRUFTIEFSSVRITUVUSUMgQVNDRU5ESU5HIFwiICsgXCJBU1NJR04gQVQgQVRUUklCVVRFIEFVVEhPUiBBVVRPIFwiICsgXCJBVVRPLVNLSVAgQVVUT01BVElDIEItQU5EIEItRVhPUiBCLUxFU1MgXCIgKyBcIkItTk9UIEItT1IgQkFDS0dST1VORC1DT0xPUiBCQUNLR1JPVU5ELUNPTE9VUiBCRUVQIFwiICsgXCJCRUZPUkUgQkVMTCBCSU5BUlkgQklUIEJJVFMgXCIgKyBcIkJMQU5LIEJMSU5LIEJMT0NLIEJPT0xFQU4gQk9UVE9NIFwiICsgXCJCWSBDQUxMIENBTkNFTCBDRCBDRiBcIiArIFwiQ0ggQ0hBUkFDVEVSIENIQVJBQ1RFUlMgQ0xBU1MgQ0xPQ0stVU5JVFMgXCIgKyBcIkNMT1NFIENPQk9MIENPREUgQ09ERS1TRVQgQ09MIFwiICsgXCJDT0xMQVRJTkcgQ09MVU1OIENPTU1BIENPTU1JVCBDT01NSVRNRU5UIFwiICsgXCJDT01NT04gQ09NTVVOSUNBVElPTiBDT01QIENPTVAtMCBDT01QLTEgXCIgKyBcIkNPTVAtMiBDT01QLTMgQ09NUC00IENPTVAtNSBDT01QLTYgXCIgKyBcIkNPTVAtNyBDT01QLTggQ09NUC05IENPTVBVVEFUSU9OQUwgQ09NUFVUQVRJT05BTC0wIFwiICsgXCJDT01QVVRBVElPTkFMLTEgQ09NUFVUQVRJT05BTC0yIENPTVBVVEFUSU9OQUwtMyBDT01QVVRBVElPTkFMLTQgQ09NUFVUQVRJT05BTC01IFwiICsgXCJDT01QVVRBVElPTkFMLTYgQ09NUFVUQVRJT05BTC03IENPTVBVVEFUSU9OQUwtOCBDT01QVVRBVElPTkFMLTkgQ09NUFVURSBcIiArIFwiQ09ORklHVVJBVElPTiBDT05ORUNUIENPTlNPTEUgQ09OVEFJTkVEIENPTlRBSU5TIFwiICsgXCJDT05URU5UIENPTlRJTlVFIENPTlRST0wgQ09OVFJPTC1BUkVBIENPTlRST0xTIFwiICsgXCJDT05WRVJUSU5HIENPUFkgQ09SUiBDT1JSRVNQT05ESU5HIENPVU5UIFwiICsgXCJDUlQgQ1JULVVOREVSIENVUlJFTkNZIENVUlJFTlQgQ1VSU09SIFwiICsgXCJEQVRBIERBVEUgREFURS1DT01QSUxFRCBEQVRFLVdSSVRURU4gREFZIFwiICsgXCJEQVktT0YtV0VFSyBEQiBEQi1BQ0NFU1MtQ09OVFJPTC1LRVkgREItREFUQS1OQU1FIERCLUVYQ0VQVElPTiBcIiArIFwiREItRk9STUFULU5BTUUgREItUkVDT1JELU5BTUUgREItU0VULU5BTUUgREItU1RBVFVTIERCQ1MgXCIgKyBcIkRCQ1MtRURJVEVEIERFIERFQlVHLUNPTlRFTlRTIERFQlVHLUlURU0gREVCVUctTElORSBcIiArIFwiREVCVUctTkFNRSBERUJVRy1TVUItMSBERUJVRy1TVUItMiBERUJVRy1TVUItMyBERUJVR0dJTkcgXCIgKyBcIkRFQ0lNQUwtUE9JTlQgREVDTEFSQVRJVkVTIERFRkFVTFQgREVMRVRFIERFTElNSVRFRCBcIiArIFwiREVMSU1JVEVSIERFUEVORElORyBERVNDRU5ESU5HIERFU0NSSUJFRCBERVNUSU5BVElPTiBcIiArIFwiREVUQUlMIERJU0FCTEUgRElTQ09OTkVDVCBESVNQTEFZIERJU1BMQVktMSBcIiArIFwiRElTUExBWS0yIERJU1BMQVktMyBESVNQTEFZLTQgRElTUExBWS01IERJU1BMQVktNiBcIiArIFwiRElTUExBWS03IERJU1BMQVktOCBESVNQTEFZLTkgRElWSURFIERJVklTSU9OIFwiICsgXCJET1dOIERST1AgRFVQTElDQVRFIERVUExJQ0FURVMgRFlOQU1JQyBcIiArIFwiRUJDRElDIEVHSSBFSkVDVCBFTFNFIEVNSSBcIiArIFwiRU1QVFkgRU1QVFktQ0hFQ0sgRU5BQkxFIEVORCBFTkQuIEVORC1BQ0NFUFQgRU5ELUFDQ0VQVC4gXCIgKyBcIkVORC1BREQgRU5ELUNBTEwgRU5ELUNPTVBVVEUgRU5ELURFTEVURSBFTkQtRElTUExBWSBcIiArIFwiRU5ELURJVklERSBFTkQtRVZBTFVBVEUgRU5ELUlGIEVORC1JTlZPS0UgRU5ELU1VTFRJUExZIFwiICsgXCJFTkQtT0YtUEFHRSBFTkQtUEVSRk9STSBFTkQtUkVBRCBFTkQtUkVDRUlWRSBFTkQtUkVUVVJOIFwiICsgXCJFTkQtUkVXUklURSBFTkQtU0VBUkNIIEVORC1TVEFSVCBFTkQtU1RSSU5HIEVORC1TVUJUUkFDVCBcIiArIFwiRU5ELVVOU1RSSU5HIEVORC1XUklURSBFTkQtWE1MIEVOVEVSIEVOVFJZIFwiICsgXCJFTlZJUk9OTUVOVCBFT1AgRVFVQUwgRVFVQUxTIEVSQVNFIFwiICsgXCJFUlJPUiBFU0kgRVZBTFVBVEUgRVZFUlkgRVhDRUVEUyBcIiArIFwiRVhDRVBUSU9OIEVYQ0xVU0lWRSBFWElUIEVYVEVORCBFWFRFUk5BTCBcIiArIFwiRVhURVJOQUxMWS1ERVNDUklCRUQtS0VZIEZEIEZFVENIIEZJTEUgRklMRS1DT05UUk9MIFwiICsgXCJGSUxFLVNUUkVBTSBGSUxFUyBGSUxMRVIgRklOQUwgRklORCBcIiArIFwiRklOSVNIIEZJUlNUIEZPT1RJTkcgRk9SIEZPUkVHUk9VTkQtQ09MT1IgXCIgKyBcIkZPUkVHUk9VTkQtQ09MT1VSIEZPUk1BVCBGUkVFIEZST00gRlVMTCBcIiArIFwiRlVOQ1RJT04gR0VORVJBVEUgR0VUIEdJVklORyBHTE9CQUwgXCIgKyBcIkdPIEdPQkFDSyBHUkVBVEVSIEdST1VQIEhFQURJTkcgXCIgKyBcIkhJR0gtVkFMVUUgSElHSC1WQUxVRVMgSElHSExJR0hUIEktTyBJLU8tQ09OVFJPTCBcIiArIFwiSUQgSURFTlRJRklDQVRJT04gSUYgSU4gSU5ERVggXCIgKyBcIklOREVYLTEgSU5ERVgtMiBJTkRFWC0zIElOREVYLTQgSU5ERVgtNSBcIiArIFwiSU5ERVgtNiBJTkRFWC03IElOREVYLTggSU5ERVgtOSBJTkRFWEVEIFwiICsgXCJJTkRJQyBJTkRJQ0FURSBJTkRJQ0FUT1IgSU5ESUNBVE9SUyBJTklUSUFMIFwiICsgXCJJTklUSUFMSVpFIElOSVRJQVRFIElOUFVUIElOUFVULU9VVFBVVCBJTlNQRUNUIFwiICsgXCJJTlNUQUxMQVRJT04gSU5UTyBJTlZBTElEIElOVk9LRSBJUyBcIiArIFwiSlVTVCBKVVNUSUZJRUQgS0FOSkkgS0VFUCBLRVkgXCIgKyBcIkxBQkVMIExBU1QgTEQgTEVBRElORyBMRUZUIFwiICsgXCJMRUZULUpVU1RJRlkgTEVOR1RIIExFTkdUSC1DSEVDSyBMRVNTIExJQlJBUlkgXCIgKyBcIkxJS0UgTElNSVQgTElNSVRTIExJTkFHRSBMSU5BR0UtQ09VTlRFUiBcIiArIFwiTElORSBMSU5FLUNPVU5URVIgTElORVMgTElOS0FHRSBMT0NBTC1TVE9SQUdFIFwiICsgXCJMT0NBTEUgTE9DQUxMWSBMT0NLIFwiICsgXCJNRU1CRVIgTUVNT1JZIE1FUkdFIE1FU1NBR0UgTUVUQUNMQVNTIFwiICsgXCJNT0RFIE1PRElGSUVEIE1PRElGWSBNT0RVTEVTIE1PVkUgXCIgKyBcIk1VTFRJUExFIE1VTFRJUExZIE5BVElPTkFMIE5BVElWRSBORUdBVElWRSBcIiArIFwiTkVYVCBOTyBOTy1FQ0hPIE5PTkUgTk9UIFwiICsgXCJOVUxMIE5VTEwtS0VZLU1BUCBOVUxMLU1BUCBOVUxMUyBOVU1CRVIgXCIgKyBcIk5VTUVSSUMgTlVNRVJJQy1FRElURUQgT0JKRUNUIE9CSkVDVC1DT01QVVRFUiBPQ0NVUlMgXCIgKyBcIk9GIE9GRiBPTUlUVEVEIE9OIE9OTFkgXCIgKyBcIk9QRU4gT1BUSU9OQUwgT1IgT1JERVIgT1JHQU5JWkFUSU9OIFwiICsgXCJPVEhFUiBPVVRQVVQgT1ZFUkZMT1cgT1dORVIgUEFDS0VELURFQ0lNQUwgXCIgKyBcIlBBRERJTkcgUEFHRSBQQUdFLUNPVU5URVIgUEFSU0UgUEVSRk9STSBcIiArIFwiUEYgUEggUElDIFBJQ1RVUkUgUExVUyBcIiArIFwiUE9JTlRFUiBQT1NJVElPTiBQT1NJVElWRSBQUkVGSVggUFJFU0VOVCBcIiArIFwiUFJJTlRJTkcgUFJJT1IgUFJPQ0VEVVJFIFBST0NFRFVSRS1QT0lOVEVSIFBST0NFRFVSRVMgXCIgKyBcIlBST0NFRUQgUFJPQ0VTUyBQUk9DRVNTSU5HIFBST0dSQU0gUFJPR1JBTS1JRCBcIiArIFwiUFJPTVBUIFBST1RFQ1RFRCBQVVJHRSBRVUVVRSBRVU9URSBcIiArIFwiUVVPVEVTIFJBTkRPTSBSRCBSRUFEIFJFQURZIFwiICsgXCJSRUFMTSBSRUNFSVZFIFJFQ09OTkVDVCBSRUNPUkQgUkVDT1JELU5BTUUgXCIgKyBcIlJFQ09SRFMgUkVDVVJTSVZFIFJFREVGSU5FUyBSRUVMIFJFRkVSRU5DRSBcIiArIFwiUkVGRVJFTkNFLU1PTklUT1IgUkVGRVJFTkNFUyBSRUxBVElPTiBSRUxBVElWRSBSRUxFQVNFIFwiICsgXCJSRU1BSU5ERVIgUkVNT1ZBTCBSRU5BTUVTIFJFUEVBVEVEIFJFUExBQ0UgXCIgKyBcIlJFUExBQ0lORyBSRVBPUlQgUkVQT1JUSU5HIFJFUE9SVFMgUkVQT1NJVE9SWSBcIiArIFwiUkVRVUlSRUQgUkVSVU4gUkVTRVJWRSBSRVNFVCBSRVRBSU5JTkcgXCIgKyBcIlJFVFJJRVZBTCBSRVRVUk4gUkVUVVJOLUNPREUgUkVUVVJOSU5HIFJFVkVSU0UtVklERU8gXCIgKyBcIlJFVkVSU0VEIFJFV0lORCBSRVdSSVRFIFJGIFJIIFwiICsgXCJSSUdIVCBSSUdIVC1KVVNUSUZZIFJPTExCQUNLIFJPTExJTkcgUk9VTkRFRCBcIiArIFwiUlVOIFNBTUUgU0NSRUVOIFNEIFNFQVJDSCBcIiArIFwiU0VDVElPTiBTRUNVUkUgU0VDVVJJVFkgU0VHTUVOVCBTRUdNRU5ULUxJTUlUIFwiICsgXCJTRUxFQ1QgU0VORCBTRU5URU5DRSBTRVBBUkFURSBTRVFVRU5DRSBcIiArIFwiU0VRVUVOVElBTCBTRVQgU0hBUkVEIFNJR04gU0laRSBcIiArIFwiU0tJUDEgU0tJUDIgU0tJUDMgU09SVCBTT1JULU1FUkdFIFwiICsgXCJTT1JULVJFVFVSTiBTT1VSQ0UgU09VUkNFLUNPTVBVVEVSIFNQQUNFLUZJTEwgXCIgKyBcIlNQRUNJQUwtTkFNRVMgU1RBTkRBUkQgU1RBTkRBUkQtMSBTVEFOREFSRC0yIFwiICsgXCJTVEFSVCBTVEFSVElORyBTVEFUVVMgU1RPUCBTVE9SRSBcIiArIFwiU1RSSU5HIFNVQi1RVUVVRS0xIFNVQi1RVUVVRS0yIFNVQi1RVUVVRS0zIFNVQi1TQ0hFTUEgXCIgKyBcIlNVQkZJTEUgU1VCU1RJVFVURSBTVUJUUkFDVCBTVU0gU1VQUFJFU1MgXCIgKyBcIlNZTUJPTElDIFNZTkMgU1lOQ0hST05JWkVEIFNZU0lOIFNZU09VVCBcIiArIFwiVEFCTEUgVEFMTFlJTkcgVEFQRSBURU5BTlQgVEVSTUlOQUwgXCIgKyBcIlRFUk1JTkFURSBURVNUIFRFWFQgVEhBTiBUSEVOIFwiICsgXCJUSFJPVUdIIFRIUlUgVElNRSBUSU1FUyBUSVRMRSBcIiArIFwiVE8gVE9QIFRSQUlMSU5HIFRSQUlMSU5HLVNJR04gVFJBTlNBQ1RJT04gXCIgKyBcIlRZUEUgVFlQRURFRiBVTkRFUkxJTkUgVU5FUVVBTCBVTklUIFwiICsgXCJVTlNUUklORyBVTlRJTCBVUCBVUERBVEUgVVBPTiBcIiArIFwiVVNBR0UgVVNBR0UtTU9ERSBVU0UgVVNJTkcgVkFMSUQgXCIgKyBcIlZBTElEQVRFIFZBTFVFIFZBTFVFUyBWQVJZSU5HIFZMUiBcIiArIFwiV0FJVCBXSEVOIFdIRU4tQ09NUElMRUQgV0lUSCBXSVRISU4gXCIgKyBcIldPUkRTIFdPUktJTkctU1RPUkFHRSBXUklURSBYTUwgWE1MLUNPREUgXCIgKyBcIlhNTC1FVkVOVCBYTUwtTlRFWFQgWE1MLVRFWFQgWkVSTyBaRVJPLUZJTEwgXCIpO1xudmFyIGJ1aWx0aW5zID0gbWFrZUtleXdvcmRzKFwiLSAqICoqIC8gKyA8IDw9ID0gPiA+PSBcIik7XG52YXIgdGVzdHMgPSB7XG4gIGRpZ2l0OiAvXFxkLyxcbiAgZGlnaXRfb3JfY29sb246IC9bXFxkOl0vLFxuICBoZXg6IC9bMC05YS1mXS9pLFxuICBzaWduOiAvWystXS8sXG4gIGV4cG9uZW50OiAvZS9pLFxuICBrZXl3b3JkX2NoYXI6IC9bXlxcc1xcKFxcW1xcO1xcKVxcXV0vLFxuICBzeW1ib2w6IC9bXFx3KitcXC1dL1xufTtcbmZ1bmN0aW9uIGlzTnVtYmVyKGNoLCBzdHJlYW0pIHtcbiAgLy8gaGV4XG4gIGlmIChjaCA9PT0gJzAnICYmIHN0cmVhbS5lYXQoL3gvaSkpIHtcbiAgICBzdHJlYW0uZWF0V2hpbGUodGVzdHMuaGV4KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvLyBsZWFkaW5nIHNpZ25cbiAgaWYgKChjaCA9PSAnKycgfHwgY2ggPT0gJy0nKSAmJiB0ZXN0cy5kaWdpdC50ZXN0KHN0cmVhbS5wZWVrKCkpKSB7XG4gICAgc3RyZWFtLmVhdCh0ZXN0cy5zaWduKTtcbiAgICBjaCA9IHN0cmVhbS5uZXh0KCk7XG4gIH1cbiAgaWYgKHRlc3RzLmRpZ2l0LnRlc3QoY2gpKSB7XG4gICAgc3RyZWFtLmVhdChjaCk7XG4gICAgc3RyZWFtLmVhdFdoaWxlKHRlc3RzLmRpZ2l0KTtcbiAgICBpZiAoJy4nID09IHN0cmVhbS5wZWVrKCkpIHtcbiAgICAgIHN0cmVhbS5lYXQoJy4nKTtcbiAgICAgIHN0cmVhbS5lYXRXaGlsZSh0ZXN0cy5kaWdpdCk7XG4gICAgfVxuICAgIGlmIChzdHJlYW0uZWF0KHRlc3RzLmV4cG9uZW50KSkge1xuICAgICAgc3RyZWFtLmVhdCh0ZXN0cy5zaWduKTtcbiAgICAgIHN0cmVhbS5lYXRXaGlsZSh0ZXN0cy5kaWdpdCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBjb25zdCBjb2JvbCA9IHtcbiAgbmFtZTogXCJjb2JvbFwiLFxuICBzdGFydFN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGVudFN0YWNrOiBudWxsLFxuICAgICAgaW5kZW50YXRpb246IDAsXG4gICAgICBtb2RlOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIHRva2VuOiBmdW5jdGlvbiAoc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5pbmRlbnRTdGFjayA9PSBudWxsICYmIHN0cmVhbS5zb2woKSkge1xuICAgICAgLy8gdXBkYXRlIGluZGVudGF0aW9uLCBidXQgb25seSBpZiBpbmRlbnRTdGFjayBpcyBlbXB0eVxuICAgICAgc3RhdGUuaW5kZW50YXRpb24gPSA2OyAvL3N0cmVhbS5pbmRlbnRhdGlvbigpO1xuICAgIH1cbiAgICAvLyBza2lwIHNwYWNlc1xuICAgIGlmIChzdHJlYW0uZWF0U3BhY2UoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciByZXR1cm5UeXBlID0gbnVsbDtcbiAgICBzd2l0Y2ggKHN0YXRlLm1vZGUpIHtcbiAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgLy8gbXVsdGktbGluZSBzdHJpbmcgcGFyc2luZyBtb2RlXG4gICAgICAgIHZhciBuZXh0ID0gZmFsc2U7XG4gICAgICAgIHdoaWxlICgobmV4dCA9IHN0cmVhbS5uZXh0KCkpICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoKG5leHQgPT0gXCJcXFwiXCIgfHwgbmV4dCA9PSBcIlxcJ1wiKSAmJiAhc3RyZWFtLm1hdGNoKC9bJ1wiXS8sIGZhbHNlKSkge1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVyblR5cGUgPSBTVFJJTkc7IC8vIGNvbnRpbnVlIG9uIGluIHN0cmluZyBtb2RlXG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gZGVmYXVsdCBwYXJzaW5nIG1vZGVcbiAgICAgICAgdmFyIGNoID0gc3RyZWFtLm5leHQoKTtcbiAgICAgICAgdmFyIGNvbCA9IHN0cmVhbS5jb2x1bW4oKTtcbiAgICAgICAgaWYgKGNvbCA+PSAwICYmIGNvbCA8PSA1KSB7XG4gICAgICAgICAgcmV0dXJuVHlwZSA9IENPQk9MTElORU5VTTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2wgPj0gNzIgJiYgY29sIDw9IDc5KSB7XG4gICAgICAgICAgc3RyZWFtLnNraXBUb0VuZCgpO1xuICAgICAgICAgIHJldHVyblR5cGUgPSBNT0RUQUc7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIqXCIgJiYgY29sID09IDYpIHtcbiAgICAgICAgICAvLyBjb21tZW50XG4gICAgICAgICAgc3RyZWFtLnNraXBUb0VuZCgpOyAvLyByZXN0IG9mIHRoZSBsaW5lIGlzIGEgY29tbWVudFxuICAgICAgICAgIHJldHVyblR5cGUgPSBDT01NRU5UO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09IFwiXFxcIlwiIHx8IGNoID09IFwiXFwnXCIpIHtcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICByZXR1cm5UeXBlID0gU1RSSU5HO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09IFwiJ1wiICYmICF0ZXN0cy5kaWdpdF9vcl9jb2xvbi50ZXN0KHN0cmVhbS5wZWVrKCkpKSB7XG4gICAgICAgICAgcmV0dXJuVHlwZSA9IEFUT007XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIuXCIpIHtcbiAgICAgICAgICByZXR1cm5UeXBlID0gUEVSSU9EO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGNoLCBzdHJlYW0pKSB7XG4gICAgICAgICAgcmV0dXJuVHlwZSA9IE5VTUJFUjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoc3RyZWFtLmN1cnJlbnQoKS5tYXRjaCh0ZXN0cy5zeW1ib2wpKSB7XG4gICAgICAgICAgICB3aGlsZSAoY29sIDwgNzEpIHtcbiAgICAgICAgICAgICAgaWYgKHN0cmVhbS5lYXQodGVzdHMuc3ltYm9sKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29sKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGtleXdvcmRzICYmIGtleXdvcmRzLnByb3BlcnR5SXNFbnVtZXJhYmxlKHN0cmVhbS5jdXJyZW50KCkudG9VcHBlckNhc2UoKSkpIHtcbiAgICAgICAgICAgIHJldHVyblR5cGUgPSBLRVlXT1JEO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYnVpbHRpbnMgJiYgYnVpbHRpbnMucHJvcGVydHlJc0VudW1lcmFibGUoc3RyZWFtLmN1cnJlbnQoKS50b1VwcGVyQ2FzZSgpKSkge1xuICAgICAgICAgICAgcmV0dXJuVHlwZSA9IEJVSUxUSU47XG4gICAgICAgICAgfSBlbHNlIGlmIChhdG9tcyAmJiBhdG9tcy5wcm9wZXJ0eUlzRW51bWVyYWJsZShzdHJlYW0uY3VycmVudCgpLnRvVXBwZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICByZXR1cm5UeXBlID0gQVRPTTtcbiAgICAgICAgICB9IGVsc2UgcmV0dXJuVHlwZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldHVyblR5cGU7XG4gIH0sXG4gIGluZGVudDogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmluZGVudFN0YWNrID09IG51bGwpIHJldHVybiBzdGF0ZS5pbmRlbnRhdGlvbjtcbiAgICByZXR1cm4gc3RhdGUuaW5kZW50U3RhY2suaW5kZW50O1xuICB9XG59OyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=