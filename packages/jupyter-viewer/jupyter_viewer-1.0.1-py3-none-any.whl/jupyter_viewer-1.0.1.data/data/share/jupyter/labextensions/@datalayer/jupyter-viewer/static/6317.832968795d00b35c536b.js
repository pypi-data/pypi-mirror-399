"use strict";(self.webpackChunk_datalayer_jupyter_viewer=self.webpackChunk_datalayer_jupyter_viewer||[]).push([[6317],{6317(e,t,n){n.d(t,{A:()=>f});var i,r=n(67262),s=n(74602),o=n(93345),l=n.n(o),a=n(5338),c=n(21326);!function(e){const t={breadCrumb:{container:{$nest:{"&:first-child svg":{bottom:"1px",marginLeft:"0px",position:"relative"},"&:hover":{backgroundColor:"var(--jp-layout-color2)"},".jp-mod-dropTarget&":{backgroundColor:"var(--jp-brand-color2)",opacity:.7}}},element:{borderRadius:"var(--jp-border-radius)",cursor:"pointer",margin:"0px 2px",padding:"0px 2px",height:"16px",width:"16px",verticalAlign:"middle"}},commandPaletteHeader:{container:{height:"14px",margin:"0 14px 0 auto"},element:{height:"14px",width:"14px"},options:{elementPosition:"center"}},commandPaletteItem:{element:{height:"16px",width:"16px"},options:{elementPosition:"center"}},launcherCard:{container:{height:"52px",width:"52px"},element:{height:"52px",width:"52px"},options:{elementPosition:"center"}},launcherSection:{container:{boxSizing:"border-box",marginRight:"12px",height:"32px",width:"32px"},element:{height:"32px",width:"32px"},options:{elementPosition:"center"}},listing:{container:{flex:"0 0 20px",marginRight:"4px",position:"relative"},element:{height:"16px",width:"16px"},options:{elementPosition:"center"}},listingHeaderItem:{container:{display:"inline",height:"16px",width:"16px"},element:{height:"auto",margin:"-2px 0 0 0",width:"20px"},options:{elementPosition:"center"}},mainAreaTab:{container:{$nest:{".lm-DockPanel-tabBar &":{marginRight:"4px"}}},element:{$nest:{".lm-DockPanel-tabBar &":{height:"14px",width:"14px"}}},options:{elementPosition:"center"}},menuItem:{container:{display:"inline-block",verticalAlign:"middle"},element:{height:"16px",width:"16px"},options:{elementPosition:"center"}},runningItem:{container:{margin:"0px 4px 0px 4px"},element:{height:"16px",width:"16px"},options:{elementPosition:"center"}},select:{container:{pointerEvents:"none"},element:{position:"absolute",height:"auto",width:"16px"}},settingsEditor:{container:{display:"flex",flex:"0 0 20px",margin:"0 3px 0 0",position:"relative",height:"20px",width:"20px"},element:{height:"16px",width:"16px"},options:{elementPosition:"center"}},sideBar:{element:{height:"auto",width:"20px"},options:{elementPosition:"center"}},splash:{container:{animation:"0.3s fade-in linear forwards",height:"100%",width:"100%",zIndex:1},element:{width:"100px"},options:{elementPosition:"center"}},statusBar:{element:{left:"0px",top:"0px",height:"18px",width:"20px",position:"relative"}},toolbarButton:{container:{display:"inline-block",verticalAlign:"middle"},element:{height:"16px",width:"16px"},options:{elementPosition:"center"}}};function n(e){return{container:{alignItems:"center",display:"flex"},element:{display:"block",...e}}}const i={center:n({margin:"0 auto",width:"100%"}),top:n({margin:"0 0 auto 0"}),right:n({margin:"0 0 0 auto"}),bottom:n({margin:"auto 0 0 0"}),left:n({margin:"0 auto 0 0"}),"top right":n({margin:"0 0 auto auto"}),"bottom right":n({margin:"auto 0 0 auto"}),"bottom left":n({margin:"auto auto 0 0"}),"top left":n({margin:"0 auto 0 auto"})};function r(e){return{element:{height:e,width:e}}}const s={small:r("14px"),normal:r("16px"),large:r("20px"),xlarge:r("24px")};const o=new Map;e.styleClass=function(e){if(!e||0===Object.keys(e).length)return"";let{elementPosition:n,elementSize:r,stylesheet:l,...a}=e;const h={...n&&{elementPosition:n},...r&&{elementSize:r}},d="string"==typeof l&&0===Object.keys(a).length,u=d?[l,n,r].join(","):"";if(d&&o.has(u))return o.get(u);const g=function(e){return e?(Array.isArray(e)||(e=[e]),e.map(e=>"string"==typeof e?t[e]:e)):[]}(l);g.push({element:a,options:h});const m=function(e){var t;return(0,c.iF)({...e.container,$nest:{...null===(t=e.container)||void 0===t?void 0:t.$nest,svg:e.element}})}(function(e){const t=Object.assign({},...e.map(e=>e.options));return t.elementPosition&&e.unshift(i[t.elementPosition]),t.elementSize&&e.unshift(s[t.elementSize]),function(e){return{container:Object.assign({},...e.map(e=>e.container)),element:Object.assign({},...e.map(e=>e.element))}}(e)}(g));return d&&o.set(u,m),m}}(i||(i={}));var h,d=n(63343);function u(...e){return function(e){return e.map(e=>e&&"object"==typeof e?Object.keys(e).map(t=>!!e[t]&&t):"string"==typeof e?e.split(/\s+/):[]).reduce((e,t)=>e.concat(t),[]).filter(e=>!!e)}(e).join(" ")}class g{static remove(e){for(;e.firstChild;)e.firstChild.remove();return e.className="",e}static resolve({icon:e}){if(e instanceof g)return e;if("string"==typeof e){return g._instances.get(e)||(g._debug&&console.warn(`Lookup failed for icon, creating loading icon. icon: ${e}`),new g({name:e,svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 18 18">\n  <path fill="#616161" d="M9 13.5c-2.49 0-4.5-2.01-4.5-4.5S6.51 4.5 9 4.5c1.24 0 2.36.52 3.17 1.33L10 8h5V3l-1.76 1.76A6 6 0 0 0 9 3C5.69 3 3.01 5.69 3.01 9S5.69 15 9 15a5.98 5.98 0 0 0 5.9-5h-1.52c-.46 2-2.24 3.5-4.38 3.5" class="jp-icon3"/>\n</svg>\n',_loading:!0}))}return new g(e)}static resolveElement({icon:e,iconClass:t,fallback:n,...i}){return h.isResolvable(e)?g.resolve({icon:e}).element(i):!t&&n?n.element(i):(i.className=u(t,i.className),h.blankElement(i))}static resolveReact({icon:e,iconClass:t,fallback:n,...i}){if(!h.isResolvable(e))return!t&&n?l().createElement(n.react,{...i}):(i.className=u(t,i.className),l().createElement(h.blankReact,{...i}));const r=g.resolve({icon:e});return l().createElement(r.react,{...i})}static resolveSvg({name:e,svgstr:t}){const n=(new DOMParser).parseFromString(h.svgstrShim(t),"image/svg+xml"),i=n.querySelector("parsererror");if(i){const n=`SVG HTML was malformed for LabIcon instance.\nname: ${e}, svgstr: ${t}`;return g._debug?(console.error(n),i):(console.warn(n),null)}return n.documentElement}static toggleDebug(e){g._debug=null!=e?e:!g._debug}constructor({name:e,svgstr:t,render:n,unrender:i,_loading:r=!1}){if(this._props={},this._svgReplaced=new s.Signal(this),this._svgElement=void 0,this._svgInnerHTML=void 0,this._svgReactAttrs=void 0,!e||!t)return console.error(`When defining a new LabIcon, name and svgstr must both be non-empty strings. name: ${e}, svgstr: ${t}`),m;if(this._loading=r,g._instances.has(e)){const n=g._instances.get(e);return this._loading?(n.svgstr=t,this._loading=!1,n):(g._debug&&console.warn(`Redefining previously loaded icon svgstr. name: ${e}, svgstrOld: ${n.svgstr}, svgstr: ${t}`),n.svgstr=t,n)}this.name=e,this.react=this._initReact(e),this.svgstr=t,this._initRender({render:n,unrender:i}),g._instances.set(this.name,this)}bindprops(e){const t=Object.create(this);return t._props=e,t.react=t._initReact(t.name+"_bind"),t}element(e={}){var t;let{className:n,container:i,label:r,title:s,tag:o="div",...l}={...this._props,...e};const a=null==i?void 0:i.firstChild;if((null===(t=null==a?void 0:a.dataset)||void 0===t?void 0:t.iconId)===this._uuid)return a;if(!this.svgElement)return document.createElement("div");if(i)for(;i.firstChild;)i.firstChild.remove();else o&&(i=document.createElement(o));const c=this.svgElement.cloneNode(!0);return i?(null!=r&&(i.textContent=r),h.initContainer({container:i,className:n,styleProps:l,title:s}),i.appendChild(c),i):(r&&console.warn(),c)}render(e,t){var n;let i=null===(n=null==t?void 0:t.children)||void 0===n?void 0:n[0];"string"!=typeof i&&(i=void 0),this.element({container:e,label:i,...null==t?void 0:t.props})}get svgElement(){return void 0===this._svgElement&&(this._svgElement=this._initSvg({uuid:this._uuid})),this._svgElement}get svgInnerHTML(){return void 0===this._svgInnerHTML&&(null===this.svgElement?this._svgInnerHTML=null:this._svgInnerHTML=this.svgElement.innerHTML),this._svgInnerHTML}get svgReactAttrs(){return void 0===this._svgReactAttrs&&(null===this.svgElement?this._svgReactAttrs=null:this._svgReactAttrs=function(e,{ignore:t=[]}={}){return e.getAttributeNames().reduce((n,i)=>("style"===i||t.includes(i)||(i.startsWith("data")||i.startsWith("aria")?n[i]=e.getAttribute(i):n[d.Text.camelCase(i)]=e.getAttribute(i)),n),{})}(this.svgElement,{ignore:["data-icon-id"]})),this._svgReactAttrs}get svgstr(){return this._svgstr}set svgstr(e){this._svgstr=e;const t=r.UUID.uuid4(),n=this._uuid;this._uuid=t,this._svgElement=void 0,this._svgInnerHTML=void 0,this._svgReactAttrs=void 0,document.querySelectorAll(`[data-icon-id="${n}"]`).forEach(e=>{this.svgElement&&e.replaceWith(this.svgElement.cloneNode(!0))}),this._svgReplaced.emit()}_initReact(e){const t=l().forwardRef((e={},t)=>{const{className:n,container:r,label:s,title:o,slot:a,tag:c="div",...d}={...this._props,...e},[,g]=l().useState(this._uuid);l().useEffect(()=>{const e=()=>{g(this._uuid)};return this._svgReplaced.connect(e),()=>{this._svgReplaced.disconnect(e)}});const m=null!=c?c:l().Fragment;if(!this.svgInnerHTML||!this.svgReactAttrs)return l().createElement(l().Fragment,null);const p={...this.svgReactAttrs};c||Object.assign(p,{className:n||d?u(n,i.styleClass(d)):void 0,title:o,slot:a});const f=l().createElement("svg",{...p,...this.svgReactAttrs,dangerouslySetInnerHTML:{__html:this.svgInnerHTML},ref:t});if(r)return h.initContainer({container:r,className:n,styleProps:d,title:o}),l().createElement(l().Fragment,null,f,s);{let e={};return m!==l().Fragment&&(e={className:n||d?u(n,i.styleClass(d)):void 0,title:o,slot:a}),l().createElement(m,{...e},f,s)}});return t.displayName=`LabIcon_${e}`,t}_initRender({render:e,unrender:t}){e?(this.render=e,t&&(this.unrender=t)):t&&console.warn("In _initRender, ignoring unrender arg since render is undefined")}_initSvg({title:e,uuid:t}={}){const n=g.resolveSvg(this);return n?("parsererror"!==n.tagName&&(n.dataset.icon=this.name,t&&(n.dataset.iconId=t),e?h.setTitleSvg(n,e):n.setAttribute("aria-hidden","true")),n):n}}g._debug=!1,g._instances=new Map,function(e){function t({container:e,className:t,styleProps:n,title:r}){null!=r&&(e.title=r);const s=i.styleClass(n);if(null!=t){const n=u(t,s);return e.className=n,n}return s?(e.classList.add(s),s):""}e.blankElement=function({className:t="",container:n,label:i,title:r,tag:s="div",slot:o,...l}){if((null==n?void 0:n.className)===t)return n;if(n)for(;n.firstChild;)n.firstChild.remove();else n=document.createElement(null!=s?s:"div");return null!=i&&(n.textContent=i),e.initContainer({container:n,className:t,styleProps:l,title:r}),n},e.blankReact=l().forwardRef(({className:e="",container:n,label:r,title:s,tag:o="div",...a},c)=>{const h=null!=o?o:"div";return n?(t({container:n,className:e,styleProps:a,title:s}),l().createElement(l().Fragment,null)):l().createElement(h,{className:u(e,i.styleClass(a))},c&&p.react({ref:c}),r)}),e.blankReact.displayName="BlankReact",e.initContainer=t,e.isResolvable=function(e){return!(!e||!("string"==typeof e||e.name&&e.svgstr))},e.setTitleSvg=function(e,t){const n=e.getElementsByTagName("title");if(n.length)n[0].textContent=t;else{const n=document.createElement("title");n.textContent=t,e.appendChild(n)}},e.svgstrShim=function(e,t=!0){const[,n,i]=decodeURIComponent(e).replace(/>\s*\n\s*</g,"><").replace(/\s*\n\s*/g," ").match(t?/^(?:data:.*?(;base64)?,)?(.*)/:/(?:(base64).*)?(<svg.*)/);return n?atob(i):i};class n{constructor(e,t){this._icon=e,this._rendererOptions=t}render(e,t){}}e.Renderer=n,e.ElementRenderer=class extends n{render(e,t){var n,i;let r=null===(n=null==t?void 0:t.children)||void 0===n?void 0:n[0];"string"!=typeof r&&(r=void 0),this._icon.element({container:e,label:r,...null===(i=this._rendererOptions)||void 0===i?void 0:i.props,...null==t?void 0:t.props})}},e.ReactRenderer=class extends n{constructor(){super(...arguments),this._rootDOM=null}render(e,t){var n,i;let r=null===(n=null==t?void 0:t.children)||void 0===n?void 0:n[0];"string"!=typeof r&&(r=void 0);const s=this._icon;null!==this._rootDOM&&this._rootDOM.unmount(),this._rootDOM=(0,a.H)(e),this._rootDOM.render(l().createElement(s.react,{container:e,label:r,...null===(i=this._rendererOptions)||void 0===i?void 0:i.props,...null==t?void 0:t.props}))}unrender(e){null!==this._rootDOM&&(this._rootDOM.unmount(),this._rootDOM=null)}}}(h||(h={}));const m=new g({name:"ui-components:bad",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path\n        class="jp-icon0"\n        fill="#000"\n        d="M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"\n    />\n</svg>\n'}),p=new g({name:"ui-components:blank",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path\n        fill="#000"\n        fill-opacity="0.0"\n        d="M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"\n    />\n</svg>\n'}),f=new g({name:"@datalayer/icons:eyes",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 72" fill="currentColor" aria-hidden="true">\n  <ellipse cx="19.548" cy="35.958" fill="#FFF" rx="14.469" ry="24.655"/>\n  <ellipse cx="52.452" cy="35.958" fill="#FFF" rx="14.469" ry="24.655"/>\n  <ellipse cx="52.452" cy="35.958" fill="#FFF" rx="14.469" ry="24.655"/>\n  <circle cx="46.01" cy="37.817" r="8.027" fill="#A57939"/>\n  <ellipse cx="19.548" cy="35.958" fill="#FFF" rx="14.469" ry="24.655"/>\n  <circle cx="13.106" cy="37.817" r="8.027" fill="#A57939"/>\n  <g>\n    <ellipse cx="19.548" cy="35.958" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" rx="14.469" ry="24.655"/>\n    <ellipse cx="52.452" cy="35.958" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" rx="14.469" ry="24.655"/>\n    <circle cx="13.106" cy="37.817" r="3.623"/>\n    <circle cx="46.01" cy="37.817" r="3.623"/>\n    <circle cx="13.106" cy="37.817" r="3.623" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"/>\n    <circle cx="13.106" cy="37.817" r="8.027" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"/>\n    <circle cx="46.01" cy="37.817" r="3.623" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"/>\n    <circle cx="46.01" cy="37.817" r="8.027" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"/>\n  </g>\n</svg>\n'})},12451(e,t){Object.defineProperty(t,"__esModule",{value:!0})},14798(e,t){function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i={},r=0,s=e;r<s.length;r++){var o=s[r];if(null!=o&&!1!==o)for(var l in o){var a=o[l];(a||0===a)&&("$nest"===l&&a?i[l]=i.$nest?n(i.$nest,a):a:-1!==l.indexOf("&")||0===l.indexOf("@media")?i[l]=i[l]?n(i[l],a):a:i[l]=a)}}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.raf="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window),t.classes=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map(function(e){return e&&"object"==typeof e?Object.keys(e).map(function(t){return!!e[t]&&t}):[e]}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return!!e}).join(" ")},t.extend=n,t.media=function(e){for(var t,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var o=[];return e.type&&o.push(e.type),e.orientation&&o.push("(orientation: "+e.orientation+")"),e.minWidth&&o.push("(min-width: "+i(e.minWidth)+")"),e.maxWidth&&o.push("(max-width: "+i(e.maxWidth)+")"),e.minHeight&&o.push("(min-height: "+i(e.minHeight)+")"),e.maxHeight&&o.push("(max-height: "+i(e.maxHeight)+")"),e.prefersColorScheme&&o.push("(prefers-color-scheme: "+e.prefersColorScheme+")"),{$nest:(t={},t["@media "+o.join(" and ")]=n.apply(void 0,r),t)}};var i=function(e){return"string"==typeof e?e:e+"px"}},21326(e,t,n){var i=n(46379);i.TypeStyle,n(12451);var r=n(14798);r.extend,r.classes,r.media;var s=new i.TypeStyle({autoGenerateTag:!0});s.setStylesTarget,s.cssRaw,s.cssRule,s.forceRenderStyles,s.fontFace,s.getStyles,s.keyframes,s.reinit,t.iF=s.style,s.stylesheet},46379(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(78510),r=n(64591),s=n(14798),o=function(){return i.create()},l=function(){function e(e){var t=this,n=e.autoGenerateTag;this.cssRaw=function(e){e&&(t._raw+=e||"",t._pendingRawChange=!0,t._styleUpdated())},this.cssRule=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=r.convertToStyles(s.extend.apply(void 0,n));t._freeStyle.registerRule(e,o),t._styleUpdated()},this.forceRenderStyles=function(){var e=t._getTag();e&&(e.textContent=t.getStyles())},this.fontFace=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=t._freeStyle,r=0,s=e;r<s.length;r++){var o=s[r];i.registerRule("@font-face",o)}t._styleUpdated()},this.getStyles=function(){return(t._raw||"")+t._freeStyle.getStyles()},this.keyframes=function(e){var n=r.convertToKeyframes(e),i=t._freeStyle.registerKeyframes(n);return t._styleUpdated(),i},this.reinit=function(){var e=o();t._freeStyle=e,t._lastFreeStyleChangeId=e.changeId,t._raw="",t._pendingRawChange=!1;var n=t._getTag();n&&(n.textContent="")},this.setStylesTarget=function(e){t._tag&&(t._tag.textContent=""),t._tag=e,t.forceRenderStyles()},this.stylesheet=function(e){for(var n={},i=0,r=Object.getOwnPropertyNames(e);i<r.length;i++){var s=r[i],o=e[s];o&&(o.$debugName=s,n[s]=t.style(o))}return n};var i=o();this._autoGenerateTag=n,this._freeStyle=i,this._lastFreeStyleChangeId=i.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0,this.style=this.style.bind(this)}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;s.raf(function(){n===t._pending&&e()})},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync(function(){return e.forceRenderStyles()}))},e.prototype.style=function(){var e=this._freeStyle.registerStyle(r.convertToStyles(s.extend.apply(void 0,arguments)));return this._styleUpdated(),e},e}();t.TypeStyle=l},64591(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertToStyles=function e(t){var n={};for(var i in t){var r=t[i];if("$nest"===i){var s=r;for(var o in s){var l=s[o];n[o]=e(l)}}else"$debugName"===i?n.$displayName=r:n[i]=r}return n},t.convertToKeyframes=function(e){var t={};for(var n in e)"$debugName"!==n&&(t[n]=e[n]);return e.$debugName&&(t.$displayName=e.$debugName),t}},78510(e,t,n){n.r(t),n.d(t,{Cache:()=>p,FreeStyle:()=>x,Rule:()=>y,Selector:()=>f,Style:()=>v,create:()=>w});let i=0;const r=Object.create(null),s=["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","columns","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","flex-order","font-weight","grid-area","grid-column","grid-column-end","grid-column-span","grid-column-start","grid-row","grid-row-end","grid-row-span","grid-row-start","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","flood-opacity","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width"];for(const e of s)for(const t of["-webkit-","-ms-","-moz-","-o-",""])r[t+e]=!0;function o(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace(/^ms-/,"-ms-")}function l(e,t){return t&&"number"==typeof t&&!r[e]?`${e}:${t}px`:`${e}:${t}`}function a(e){return e.sort((e,t)=>e[0]>t[0]?1:-1)}function c(e){return e.map(([e,t])=>Array.isArray(t)?t.map(t=>l(e,t)).join(";"):l(e,t)).join(";")}function h(e,t){return-1===e.indexOf("&")?`${t} ${e}`:e.replace(/&/g,t)}function d(e,t,n,i,r){const{style:s,nested:l,isUnique:u}=function(e,t){const n=[],i=[];for(const t of Object.keys(e)){const r=t.trim(),s=e[t];36!==r.charCodeAt(0)&&null!=s&&("object"!=typeof s||Array.isArray(s)?n.push([o(r),s]):i.push([r,s]))}return{style:c(a(n)),nested:t?i:a(i),isUnique:!!e.$unique}}(t,""!==e);let g=s;if(64===e.charCodeAt(0)){const t={selector:e,styles:[],rules:[],style:r?"":s};n.push(t),s&&r&&t.styles.push({selector:r,style:s,isUnique:u});for(const[e,n]of l)g+=e+d(e,n,t.rules,t.styles,r)}else{const t=r?h(e,r):e;s&&i.push({selector:t,style:s,isUnique:u});for(const[e,r]of l)g+=e+d(e,r,n,i,t)}return g}function u(e,t,n,r,s,o){for(const{selector:n,style:l,isUnique:a}of r){const r=o?h(n,s):n,c=a?`u\0${(++i).toString(36)}`:`s\0${t}\0${l}`,d=new v(l,c);d.add(new f(r,`k\0${t}\0${r}`)),e.add(d)}for(const{selector:i,style:r,rules:l,styles:a}of n){const n=new y(i,r,`r\0${t}\0${i}\0${r}`);u(n,t,l,a,s,o),e.add(n)}}function g(e){let t="";for(let n=0;n<e.length;n++)t+=e[n];return t}const m={add:()=>{},change:()=>{},remove:()=>{}};class p{constructor(e=m){this.changes=e,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}add(e){const t=this._counters[e.id]||0,n=this._children[e.id]||e.clone();if(this._counters[e.id]=t+1,0===t)this._children[n.id]=n,this._keys.push(n.id),this.sheet.push(n.getStyles()),this.changeId++,this.changes.add(n,this._keys.length-1);else if(n instanceof p&&e instanceof p){const t=this._keys.indexOf(e.id),i=n.changeId;n.merge(e),n.changeId!==i&&(this.sheet.splice(t,1,n.getStyles()),this.changeId++,this.changes.change(n,t,t))}}remove(e){const t=this._counters[e.id];if(t){this._counters[e.id]=t-1;const n=this._children[e.id],i=this._keys.indexOf(n.id);if(1===t)delete this._counters[e.id],delete this._children[e.id],this._keys.splice(i,1),this.sheet.splice(i,1),this.changeId++,this.changes.remove(n,i);else if(n instanceof p&&e instanceof p){const t=n.changeId;n.unmerge(e),n.changeId!==t&&(this.sheet.splice(i,1,n.getStyles()),this.changeId++,this.changes.change(n,i,i))}}}values(){return this._keys.map(e=>this._children[e])}merge(e){for(const t of e.values())this.add(t);return this}unmerge(e){for(const t of e.values())this.remove(t);return this}clone(){return(new p).merge(this)}}class f{constructor(e,t){this.selector=e,this.id=t}getStyles(){return this.selector}clone(){return this}}class v extends p{constructor(e,t){super(),this.style=e,this.id=t}getStyles(){return`${this.sheet.join(",")}{${this.style}}`}clone(){return new v(this.style,this.id).merge(this)}}class y extends p{constructor(e,t,n){super(),this.rule=e,this.style=t,this.id=n}getStyles(){return`${this.rule}{${this.style}${g(this.sheet)}}`}clone(){return new y(this.rule,this.style,this.id).merge(this)}}function _(e,t){return`f${function(e){let t=5381,n=e.length;for(;n--;)t=33*t^e.charCodeAt(n);return(t>>>0).toString(36)}(e)}`}class x extends p{constructor(e,t){super(t),this.id=e}registerStyle(e){const t=[],n=[],i=d("&",e,t,n),r=_(i);return u(this,i,t,n,`.${r}`,!0),r}registerKeyframes(e){return this.registerHashRule("@keyframes",e)}registerHashRule(e,t){const n=[],i=[],r=d("",t,n,i),s=_(r),o=new y(`${e} ${s}`,"",`h\0${r}\0${e}`);return u(o,r,n,i,"",!1),this.add(o),s}registerRule(e,t){const n=[],i=[];u(this,d(e,t,n,i),n,i,"",!1)}registerCss(e){return this.registerRule("",e)}getStyles(){return g(this.sheet)}clone(){return new x(this.id,this.changes).merge(this)}}function w(e){return new x(`f${(++i).toString(36)}`,e)}}}]);