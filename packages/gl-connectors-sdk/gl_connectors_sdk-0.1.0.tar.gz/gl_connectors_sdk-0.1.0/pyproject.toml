[project]
name = "gl-connectors-sdk"
version = "0.1.0"
description = "GL Connectors SDK"
authors = [{name = "GL Connectors Team", email="bosa-eng@gdplabs.id"}]
readme = "README.md"
requires-python = ">=3.11,<3.14"
dependencies = [
    # Core dependencies
    "pydantic-settings>=2.7.1,<3.0.0",
    "pydantic>=2.9.2,<3.0.0",

    "requests>=2.31.0,<3.0.0",
    "langchain-core>=0.3.65,<1.0.0",

    # NOTE: gllm-agents-binary requires python >=3.13, to support python <3.13 we use langchain-core instead.
    # gllm-agents-binary = "0.2.6"

    "legacy-cgi>=2.6.3,<3.0.0",
    "urllib3>=2.5.0,<3.0.0",
    "gllm-core-binary (>=0.3.10,<0.4.0)",
]

[project.optional-dependencies]
dev = [
    "pytest>=8.1.1,<9.0.0",
    "pre-commit>=3.6.2,<4.0.0",
    "pytest-cov>=5.0.0,<6.0.0",
    "pytest-asyncio>=0.23.6,<1.0.0",
    "pydocstyle>=6.3.0,<7.0.0",
    "ruff>=0.9.9,<1.0.0",
    "mypy>=1.11.2,<2.0.0",
    "coverage (>=7.10.2,<8.0.0)",
]
all = []

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.build]
# Packages configuration for both regular and editable installs
# When installed in editable mode, hatchling creates a .pth file pointing to the source directory
packages = ["gl_connectors_sdk", "bosa_connectors"]

[tool.hatch.build.targets.wheel]
# Wheel-specific configuration (only used for building wheels, not editable installs)
packages = ["gl_connectors_sdk", "bosa_connectors"]
include = [
    "*.bin",                           # In case you have a Linux/MacOS CLI executable
    "*.exe",                           # In case you have a Windows CLI executable
    "*.pyd",                           # The compiled binary extension for Windows
    "gl_connectors_sdk/**/*.py",                            # The compiled binary extension for Linux/MacOS
    "*.pyi",                           # Python interface stub files (aids autocomplete, interface inspection)
    "gl_connectors_sdk/**/*.pyi",      # Python interface stub files (aids autocomplete, interface inspection)
    "gl_connectors_sdk/**/*.html",     # Example of a static filetype you may want to include
]
exclude = [
    "**/__pycache__/**",
    "**/*.pyc",
    "**/tests/**",
    "**/test_*.py",
    "**/.pytest_cache/**",
]

[[tool.uv.index]]
name = "pypi"
url = "https://pypi.org/simple/"
priority = "primary"

[[tool.uv.index]]
name = "gen-ai"
url = "https://glsdk.gdplabs.id/gen-ai/simple/"
priority = "supplemental"

[[tool.uv.index]]
name = "gen-ai-publication"
url = "https://glsdk.gdplabs.id/gen-ai/"
priority = "explicit"

[[tool.uv.index]]
name = "gen-ai-internal"
url = "https://glsdk.gdplabs.id/gen-ai-internal/simple/"
priority = "supplemental"

[[tool.uv.index]]
name = "gen-ai-internal-publication"
url = "https://glsdk.gdplabs.id/gen-ai-internal/"
priority = "explicit"

[tool.pytest.ini_options]
testpaths = ["tests"]

[tool.coverage.run]
source = ["gl_connectors_sdk", "bosa_connectors"]

[tool.coverage.report]
exclude_lines = [
    "pragma: no cover",
    "def __repr__",
    "raise AssertionError",
    "raise NotImplementedError",
]
[tool.ruff]
line-length = 120

[tool.ruff.lint]
ignore = ["C901", "E266"]
select = ["B", "B9", "C", "D", "E", "F", "I", "PL", "W"]

[tool.ruff.lint.per-file-ignores]
"tests/*" = ["D", "PLR"]

[tool.ruff.lint.pydocstyle]
convention = "google"

[tool.pydocstyle]
convention = "google"
