{"version":3,"mappings":"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","names":["BuilderBlueprintLibraryPanel","defineAsyncComponentWithLoader","pushToast","useToasts","isAutogenModalShown","inject","injectionKeys","ref","showAutogen","isBlueprintLibraryModalShown","showBlueprintLibrary","wf","wfbm","tracking","useWriterTracking","removeComponentsSubtree","useComponentActions","removeInsertionCandidacy","useDragDropComponent","query","isSharedBlueprintsEnabled","computed","isBlueprintLibraryEnabled","rootComponentId","sharedBlueprintsFromTree","c","isSharedBlueprint","RESTRICTED_BLOCKS_IN_SHARED_BLUEPRINT","isEditingSharedBlueprint","activePageId","activePage","displayedCategories","activeToolkit","categories","categoriesWithTools","categoryId","getRelevantToolsInCategory","tools","searchCount","acc","v","placeholder","enriched","blueprint","name","_a","description","_b","q","queryApplied","tool","a","b","getSupportedComponentTypes","type","def","getComponentDefinition","category","handleDragStart","ev","sourceBlueprintId","mimeType","handleDragEnd","getToolIcons","p","convertAbsolutePathtoFullURL","handleDeleteSharedBlueprint","blueprintId","blueprintName","error","watch"],"ignoreList":[],"sources":["../../../ui/src/builder/sidebar/BuilderSidebarToolkit.vue"],"sourcesContent":["<template>\n\t<BuilderSidebarPanel\n\t\tv-model=\"query\"\n\t\tclass=\"BuilderSidebarToolkit\"\n\t\t:placeholder=\"placeholder\"\n\t\t:search-count=\"searchCount\"\n\t>\n\t\t<div v-if=\"isEditingSharedBlueprint\" class=\"sharedBlueprintNotice\">\n\t\t\t<WdsIcon name=\"info\" />\n\t\t\t<span\n\t\t\t\t>Some blocks are hidden because they can't be used in shared\n\t\t\t\tblueprints.</span\n\t\t\t>\n\t\t</div>\n\t\t<div\n\t\t\tv-for=\"(tools, categoryId) in categories\"\n\t\t\t:key=\"categoryId\"\n\t\t\tclass=\"category\"\n\t\t>\n\t\t\t<div class=\"header\">\n\t\t\t\t<span>{{ categoryId }}</span>\n\t\t\t\t<!-- Blueprint Library button for Shared Blueprints category -->\n\t\t\t\t<button\n\t\t\t\t\tv-if=\"\n\t\t\t\t\t\tcategoryId === 'Shared Blueprints' &&\n\t\t\t\t\t\trootComponentId == 'blueprints_root' &&\n\t\t\t\t\t\tisBlueprintLibraryEnabled\n\t\t\t\t\t\"\n\t\t\t\t\tclass=\"header__library-btn\"\n\t\t\t\t\tdata-writer-tooltip=\"Blueprint Library\"\n\t\t\t\t\tdata-writer-tooltip-placement=\"right\"\n\t\t\t\t\t@click=\"showBlueprintLibrary\"\n\t\t\t\t>\n\t\t\t\t\t<WdsIcon name=\"layout-grid\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class=\"tools\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"tool in tools\"\n\t\t\t\t\t:key=\"tool.type\"\n\t\t\t\t\tclass=\"tool\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'tool--shared':\n\t\t\t\t\t\t\tcategoryId === 'Shared Blueprints' &&\n\t\t\t\t\t\t\tisSharedBlueprintsEnabled,\n\t\t\t\t\t}\"\n\t\t\t\t\t:data-writer-tooltip=\"tool.description\"\n\t\t\t\t\tdata-writer-tooltip-placement=\"right\"\n\t\t\t\t\tdata-writer-tooltip-gap=\"8\"\n\t\t\t\t\tdraggable=\"true\"\n\t\t\t\t\t:data-component-type=\"tool.type\"\n\t\t\t\t\t@dragend=\"handleDragEnd($event)\"\n\t\t\t\t\t@dragstart=\"\n\t\t\t\t\t\thandleDragStart(\n\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\ttool.type,\n\t\t\t\t\t\t\ttool.sourceBlueprintId,\n\t\t\t\t\t\t)\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\t<SharedImgWithFallback\n\t\t\t\t\t\t:alt=\"`(Icon for ${tool.name})`\"\n\t\t\t\t\t\tdraggable=\"false\"\n\t\t\t\t\t\t:urls=\"getToolIcons(tool)\"\n\t\t\t\t\t\t:loader-max-width-px=\"18\"\n\t\t\t\t\t\t:loader-max-height-px=\"18\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div class=\"name\">{{ tool.name }}</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t\tcategoryId === 'Shared Blueprints' &&\n\t\t\t\t\t\t\tisSharedBlueprintsEnabled &&\n\t\t\t\t\t\t\ttool.sourceBlueprintId\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tclass=\"tool__delete\"\n\t\t\t\t\t\t:data-writer-tooltip=\"`Delete ${tool.name}`\"\n\t\t\t\t\t\tdata-writer-tooltip-placement=\"right\"\n\t\t\t\t\t\t@click.stop=\"\n\t\t\t\t\t\t\thandleDeleteSharedBlueprint(\n\t\t\t\t\t\t\t\ttool.sourceBlueprintId,\n\t\t\t\t\t\t\t\ttool.name,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<WdsIcon name=\"trash\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<template v-if=\"rootComponentId == 'blueprints_root'\" #footer>\n\t\t\t<div class=\"BuilderSidebarPanel__footer__actions\">\n\t\t\t\t<WdsButton\n\t\t\t\t\tvariant=\"special\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tclass=\"BuilderSidebarPanel__footer__btn\"\n\t\t\t\t\t@click=\"showAutogen\"\n\t\t\t\t>\n\t\t\t\t\t<WdsIcon name=\"wand-sparkles\" />\n\t\t\t\t\tAutogenerate\n\t\t\t\t</WdsButton>\n\t\t\t</div>\n\t\t</template>\n\t</BuilderSidebarPanel>\n\t<BuilderBlueprintLibraryPanel\n\t\tv-if=\"isBlueprintLibraryEnabled\"\n\t\tv-model=\"isBlueprintLibraryModalShown\"\n\t/>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, inject, ref, watch } from \"vue\";\nimport BuilderSidebarPanel from \"./BuilderSidebarPanel.vue\";\nimport WdsButton from \"@/wds/WdsButton.vue\";\nimport WdsIcon from \"@/wds/WdsIcon.vue\";\nimport {\n\tgetComponentDefinition,\n\tgetSupportedComponentTypes,\n} from \"@/core/templateMap\";\nimport injectionKeys from \"@/injectionKeys\";\nimport { useDragDropComponent } from \"../useDragDropComponent\";\nimport { Component } from \"@/writerTypes\";\nimport SharedImgWithFallback from \"@/components/shared/SharedImgWithFallback.vue\";\nimport { convertAbsolutePathtoFullURL } from \"@/utils/url\";\nimport { useToasts } from \"../useToast\";\nimport { useComponentActions } from \"../useComponentActions\";\nimport { useWriterTracking } from \"@/composables/useWriterTracking\";\nimport { isSharedBlueprint } from \"@/utils/sharedBlueprint\";\nimport { defineAsyncComponentWithLoader } from \"@/utils/defineAsyncComponentWithLoader\";\n\nconst BuilderBlueprintLibraryPanel = defineAsyncComponentWithLoader({\n\tloader: () => import(\"../panels/BuilderBlueprintLibraryPanel.vue\"),\n});\n\nconst { pushToast } = useToasts();\n\nconst isAutogenModalShown = inject(\n\tinjectionKeys.isAutogenModalShown,\n\tref(false),\n);\nfunction showAutogen() {\n\tisAutogenModalShown.value = true;\n}\n\nconst isBlueprintLibraryModalShown = ref(false);\nfunction showBlueprintLibrary() {\n\tisBlueprintLibraryModalShown.value = true;\n}\n\nconst wf = inject(injectionKeys.core);\nconst wfbm = inject(injectionKeys.builderManager);\nconst tracking = useWriterTracking(wf);\nconst { removeComponentsSubtree } = useComponentActions(wf, wfbm, tracking);\nconst { removeInsertionCandidacy } = useDragDropComponent(wf);\nconst query = ref(\"\");\n\nconst isSharedBlueprintsEnabled = computed(\n\t() =>\n\t\tArray.isArray(wf.featureFlags.value) &&\n\t\twf.featureFlags.value.includes(\"shared_blueprints\"),\n);\n\nconst isBlueprintLibraryEnabled = computed(\n\t() =>\n\t\tArray.isArray(wf.featureFlags.value) &&\n\t\twf.featureFlags.value.includes(\"blueprint_library\"),\n);\n\nconst rootComponentId = wfbm.activeRootId;\n\n// Get shared blueprints directly from component tree\nconst sharedBlueprintsFromTree = computed(() => {\n\tif (!isSharedBlueprintsEnabled.value) return [];\n\tconst allBlueprints = wf.getComponents(\"blueprints_root\", {\n\t\tsortedByPosition: true,\n\t});\n\treturn allBlueprints.filter((c) => isSharedBlueprint(c));\n});\n\n// Block types that should not be available when editing a shared blueprint\nconst RESTRICTED_BLOCKS_IN_SHARED_BLUEPRINT = new Set([\n\t\"blueprints_runblueprint\",\n\t\"blueprints_apitrigger\",\n\t\"blueprints_uieventtrigger\",\n\t\"blueprints_crontrigger\",\n]);\n\n// Check if we're currently editing a shared blueprint\nconst isEditingSharedBlueprint = computed(() => {\n\tif (rootComponentId.value !== \"blueprints_root\") return false;\n\tconst activePageId = wf.activePageId.value;\n\tif (!activePageId) return false;\n\tconst activePage = wf.getComponentById(activePageId);\n\treturn isSharedBlueprint(activePage);\n});\n\nconst displayedCategories = [\n\t\"Layout\",\n\t\"Content\",\n\t\"Input\",\n\t\"Embed\",\n\t\"Writer\",\n\t\"Logic\",\n\t\"Triggers\",\n\t\"Other\",\n\t\"Shared Blueprints\",\n];\n\nconst activeToolkit = computed(() => {\n\tif (wfbm.mode.value == \"blueprints\") {\n\t\treturn \"blueprints\";\n\t}\n\treturn \"core\";\n});\n\nconst categories = computed<\n\tRecord<string, ReturnType<typeof getRelevantToolsInCategory>>\n>(() => {\n\tconst categoriesWithTools = displayedCategories\n\t\t.map((categoryId) => [\n\t\t\tcategoryId,\n\t\t\tgetRelevantToolsInCategory(categoryId),\n\t\t])\n\t\t.filter(\n\t\t\t([categoryId, tools]) =>\n\t\t\t\ttools.length > 0 ||\n\t\t\t\t(categoryId === \"Shared Blueprints\" &&\n\t\t\t\t\trootComponentId.value == \"blueprints_root\" &&\n\t\t\t\t\tisSharedBlueprintsEnabled.value &&\n\t\t\t\t\t!isEditingSharedBlueprint.value),\n\t\t);\n\n\treturn Object.fromEntries(categoriesWithTools);\n});\n\nconst searchCount = computed(() => {\n\tif (!query.value) return undefined;\n\treturn Object.values(categories.value).reduce(\n\t\t(acc, v) => acc + v.length,\n\t\t0,\n\t);\n});\n\nconst placeholder = computed(() => {\n\tif (activeToolkit.value == \"core\") return \"Interface toolkit\";\n\tif (activeToolkit.value == \"blueprints\") return \"Blueprints toolkit\";\n\treturn \"Toolkit\";\n});\n\nfunction getRelevantToolsInCategory(categoryId: string) {\n\tif (categoryId === \"Shared Blueprints\") {\n\t\t// Don't show shared blueprints when editing a shared blueprint (no nesting for now)\n\t\tif (\n\t\t\t!isSharedBlueprintsEnabled.value ||\n\t\t\tisEditingSharedBlueprint.value\n\t\t) {\n\t\t\treturn [];\n\t\t}\n\t\t// Read shared blueprints directly from component tree\n\t\tconst enriched = sharedBlueprintsFromTree.value.map((blueprint) => {\n\t\t\tconst name = blueprint.content?.key || \"Untitled Blueprint\";\n\t\t\tconst description =\n\t\t\t\tblueprint.content?.description || \"A shared blueprint\";\n\t\t\treturn {\n\t\t\t\ttype: `blueprints_shared:${blueprint.id}`,\n\t\t\t\tname,\n\t\t\t\tdescription,\n\t\t\t\tcategory: \"Shared Blueprints\",\n\t\t\t\tsourceBlueprintId: blueprint.id,\n\t\t\t};\n\t\t});\n\t\tconst q = query.value.toLocaleLowerCase();\n\t\tconst queryApplied = enriched\n\t\t\t.filter((tool) => !q || tool.name.toLocaleLowerCase().includes(q))\n\t\t\t.sort((a, b) =>\n\t\t\t\ta.name.localeCompare(b.name, undefined, {\n\t\t\t\t\tsensitivity: \"base\",\n\t\t\t\t}),\n\t\t\t);\n\n\t\treturn queryApplied;\n\t}\n\n\tconst typeList = getSupportedComponentTypes().filter((type) => {\n\t\tconst def = getComponentDefinition(type);\n\t\tif (type.startsWith(\"shared_\")) return false;\n\t\tif (def.category != categoryId) return false;\n\t\tif (!def.toolkit && activeToolkit.value !== \"core\") return false;\n\t\tif (def.toolkit && def.toolkit !== activeToolkit.value) return false;\n\t\tif (def.deprecated) return false;\n\t\t// Filter out restricted blocks when editing a shared blueprint\n\t\tif (\n\t\t\tisEditingSharedBlueprint.value &&\n\t\t\tRESTRICTED_BLOCKS_IN_SHARED_BLUEPRINT.has(type)\n\t\t)\n\t\t\treturn false;\n\t\treturn true;\n\t});\n\tconst enriched = typeList.map((type) => {\n\t\tconst { name, description, category } = getComponentDefinition(type);\n\t\treturn { type, name, description, category: category ?? \"Other\" };\n\t});\n\tconst q = query.value.toLocaleLowerCase();\n\tconst queryApplied = enriched\n\t\t.filter((tool) => !q || tool.name.toLocaleLowerCase().includes(q))\n\t\t.sort((a, b) =>\n\t\t\ta.name.localeCompare(b.name, undefined, { sensitivity: \"base\" }),\n\t\t);\n\n\treturn queryApplied;\n}\n\nfunction handleDragStart(\n\tev: DragEvent,\n\ttype: Component[\"type\"],\n\tsourceBlueprintId?: string,\n) {\n\twfbm.setSelection(null);\n\t// Embed sourceBlueprintId in the MIME type for shared blueprints\n\tconst mimeType = sourceBlueprintId\n\t\t? `application/json;writer=blueprints_shared,${sourceBlueprintId}`\n\t\t: `application/json;writer=${type},`;\n\tev.dataTransfer.setData(mimeType, \"{}\");\n}\n\nfunction handleDragEnd(ev: DragEvent) {\n\tremoveInsertionCandidacy(ev);\n}\n\nfunction getToolIcons(tool: ReturnType<typeof getRelevantToolsInCategory>[0]) {\n\t// For shared blueprints from tree, use the Logic category icon\n\tif (tool.sourceBlueprintId) {\n\t\treturn [`/components/blueprints_category_Logic.svg`].map((p) =>\n\t\t\tconvertAbsolutePathtoFullURL(p),\n\t\t);\n\t}\n\treturn [\n\t\t`/components/${tool.type}.svg`,\n\t\t`/components/${activeToolkit.value == \"blueprints\" ? \"blueprints_\" : \"\"}category_${tool.category}.svg`,\n\t].map((p) => convertAbsolutePathtoFullURL(p));\n}\n\nfunction handleDeleteSharedBlueprint(\n\tblueprintId: string,\n\tblueprintName: string,\n) {\n\tif (\n\t\t!confirm(\n\t\t\t`Are you sure you want to delete the shared blueprint \"${blueprintName}\"?`,\n\t\t)\n\t) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\t// Use removeComponentsSubtree for proper cleanup of dependencies and connections\n\t\tremoveComponentsSubtree(blueprintId);\n\t\tpushToast({\n\t\t\ttype: \"success\",\n\t\t\tmessage: `Shared blueprint '${blueprintName}' deleted.`,\n\t\t});\n\t} catch (error) {\n\t\tpushToast({\n\t\t\ttype: \"error\",\n\t\t\tmessage: `Failed to delete shared blueprint: ${error instanceof Error ? error.message : String(error)}`,\n\t\t});\n\t}\n}\n\nwatch(activeToolkit, () => {\n\tquery.value = \"\";\n});\n</script>\n\n<style scoped>\n.sharedBlueprintNotice {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tgap: 8px;\n\tpadding: 12px;\n\tmargin-bottom: 12px;\n\tbackground: var(--builderSubtleBackgroundColor, #f8fafc);\n\tborder-radius: 6px;\n\tfont-size: 12px;\n\tline-height: 1.4;\n\tcolor: var(--builderSecondaryTextColor);\n}\n\n.sharedBlueprintNotice :deep(svg) {\n\tflex-shrink: 0;\n\tmargin-top: 1px;\n}\n\n.category .header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tfont-size: 12px;\n\tfont-weight: 500;\n\tline-height: 12px; /* 100% */\n\tletter-spacing: 1.3px;\n\ttext-transform: uppercase;\n\tcolor: var(--builderSecondaryTextColor);\n\tmargin-bottom: 8px;\n}\n\n.header__library-btn {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 20px;\n\theight: 20px;\n\tpadding: 0;\n\tborder: none;\n\tbackground: transparent;\n\tcursor: pointer;\n\tcolor: var(--builderSecondaryTextColor);\n\tborder-radius: 4px;\n\topacity: 0.7;\n\ttransition:\n\t\topacity 0.2s,\n\t\tbackground 0.2s;\n}\n\n.header__library-btn:hover {\n\topacity: 1;\n\tbackground: var(--builderSubtleSeparatorColor);\n}\n\n.header__library-btn :deep(svg) {\n\twidth: 14px;\n\theight: 14px;\n}\n\n.tools {\n\tdisplay: grid;\n\tgrid-template-columns: 1fr;\n\tgrid-template-rows: auto;\n}\n\n.tool {\n\tdisplay: grid;\n\tgrid-template-columns: 18px 1fr auto;\n\tgrid-template-rows: 1fr;\n\tcolumn-gap: 8px;\n\tpadding: 8px;\n\tborder-radius: 4px;\n\tcursor: grab;\n\tposition: relative;\n}\n\n.tool--shared {\n\tgrid-template-columns: 18px 1fr auto;\n}\n\n.tool img {\n\tmax-width: 18px;\n\tmax-height: 18px;\n\taspect-ratio: 1 / 1;\n}\n\n.tool:hover {\n\tbackground: var(--builderSubtleSeparatorColor);\n}\n\n.tool__delete {\n\tdisplay: none;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 20px;\n\theight: 20px;\n\tpadding: 0;\n\tborder: none;\n\tbackground: transparent;\n\tcursor: pointer;\n\tcolor: var(--builderSecondaryTextColor);\n\tborder-radius: 4px;\n\topacity: 0.6;\n\ttransition:\n\t\topacity 0.2s,\n\t\tbackground 0.2s;\n}\n\n.tool--shared:hover .tool__delete {\n\tdisplay: flex;\n}\n\n.tool__delete:hover {\n\topacity: 1;\n\tbackground: var(--builderSubtleSeparatorColor);\n\tcolor: var(--builderErrorColor);\n}\n\n.tool__delete:active {\n\topacity: 0.8;\n}\n\n.BuilderSidebarPanel__footer__actions {\n\tflex: 0 0 var(--builderPanelSwitcherHeight);\n\tbottom: 0;\n\theight: var(--builderPanelSwitcherHeight);\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tgap: 8px;\n\tborder-top: 1px solid var(--builderSeparatorColor);\n\tbackground: var(--builderBackgroundColor);\n\tpadding: 8px;\n}\n\n.BuilderSidebarPanel__footer__btn {\n\tfont-size: 12px;\n\tfont-weight: 500;\n\tline-height: 180%;\n\tmin-width: 190px;\n}\n</style>\n"],"file":"assets/BuilderSidebarToolkit-DrxnwV01.js"}