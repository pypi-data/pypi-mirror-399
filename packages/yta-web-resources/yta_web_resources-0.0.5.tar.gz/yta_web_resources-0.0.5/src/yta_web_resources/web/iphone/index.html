<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>iOS Notification Renderer</title>

  <style>
    :root {
      --scale: 1.5;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      background: transparent;
      font-family: -apple-system, BlinkMacSystemFont,
                   "SF Pro Text", "SF Pro Display",
                   Helvetica, Arial, sans-serif;
    }

    body {
      padding: calc(24px * var(--scale));
    }

    .layout {
      display: flex;
      gap: calc(32px * var(--scale));
      align-items: flex-start;
    }

    /* =========================
       FORM
       ========================= */
    .form {
      width: calc(320px * var(--scale));
      padding: calc(16px * var(--scale));
      background: #f5f5f5;
      border-radius: calc(8px * var(--scale));
    }

    .form h2 {
      font-size: calc(16px * var(--scale));
      margin-bottom: calc(12px * var(--scale));
      color: #333;
    }

    .field {
      margin-bottom: calc(12px * var(--scale));
    }

    .field label {
      display: block;
      font-size: calc(12px * var(--scale));
      font-weight: 600;
      color: #555;
      margin-bottom: calc(4px * var(--scale));
    }

    .field input,
    .field textarea {
      width: 100%;
      font-size: calc(13px * var(--scale));
      padding: calc(6px * var(--scale)) calc(8px * var(--scale));
      border-radius: calc(4px * var(--scale));
      border: 1px solid #ccc;
      font-family: inherit;
    }

    .field textarea {
      resize: vertical;
      min-height: calc(60px * var(--scale));
    }

    /* =========================
       iOS NOTIFICATION
       ========================= */
    #ios-notification {
        width: calc(360px * var(--scale));
        padding: calc(12px * var(--scale));
        /* background: #f2f2f7; */
        background-color: rgba(242, 242, 247, 1);
        background-clip: padding-box;
        isolation: isolate;
        border-radius: calc(20px * var(--scale));
        color: #000;
    }


    .notification {
      display: flex;
      gap: calc(12px * var(--scale));
      align-items: flex-start;
    }

    .app-icon {
      width: calc(40px * var(--scale));
      height: calc(40px * var(--scale));
      border-radius: calc(10px * var(--scale));
      /*background: #007aff;*/
      color: #fff;
      font-weight: 700;
      font-size: calc(18px * var(--scale));
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      background-size: cover;
      background-position: center;
    }

    .content {
      flex: 1;
    }

    .top {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: calc(2px * var(--scale));
    }

    .app-name {
      font-size: calc(13px * var(--scale));
      font-weight: 600;
      color: #3a3a3c;
    }

    .time {
      font-size: calc(12px * var(--scale));
      color: #8e8e93;
    }

    .title {
      font-size: calc(14px * var(--scale));
      font-weight: 600;
      margin-bottom: calc(2px * var(--scale));
      color: #000;
    }

    .message {
      font-size: calc(14px * var(--scale));
      line-height: 1.3;
      color: #3a3a3c;
      white-space: pre-wrap;
    }
  </style>
</head>

<body>

<div class="layout">

  <!-- =========================
       FORM
       ========================= -->
  <div class="form">
    <h2>ParÃ¡metros</h2>

    <div class="field">
      <label>Nombre de la app</label>
      <input id="f-app-name">
    </div>

    <div class="field">
      <label>Icono de la app (URL, opcional)</label>
      <input id="f-app-icon-url">
    </div>

    <div class="field">
      <label>TÃ­tulo</label>
      <input id="f-title">
    </div>

    <div class="field">
      <label>Mensaje</label>
      <textarea id="f-message"></textarea>
    </div>

    <div class="field">
      <label>Hora</label>
      <input id="f-time">
    </div>
  </div>

  <!-- =========================
       iOS NOTIFICATION
       ========================= -->
  <div id="ios-notification">
    <div class="notification">
      <div class="app-icon" id="app-icon-url">ðŸ””</div>

      <div class="content">
        <div class="top">
          <span class="app-name" id="app-name"></span>
          <span class="time" id="time"></span>
        </div>

        <div class="title" id="title"></div>
        <div class="message" id="message"></div>
      </div>
    </div>
  </div>

</div>

<script>
  const params = new URLSearchParams(window.location.search);

  const fields = {
    app_name: ["f-app-name", "app-name"],
    app_icon_url: ["f-app-icon-url", "app-icon-url"],
    title: ["f-title", "title"],
    message: ["f-message", "message"],
    time: ["f-time", "time"]
  };

  function setValue(key, value) {
    const [inputId, targetId] = fields[key];
    document.getElementById(inputId).value = value;

    if (key === "app_icon_url") {
      const icon = document.getElementById("app-icon-url");
      if (value) {
        icon.style.backgroundImage = `url(${value})`;
        icon.textContent = "";
      } else {
        icon.style.backgroundImage = "";
      }
      return;
    }

    document.getElementById(targetId).textContent = value;
  }

  // Init from query
  for (const key in fields) {
    if (params.has(key)) {
      setValue(key, params.get(key));
    }
  }

  // Live binding
  for (const key in fields) {
    const [inputId] = fields[key];
    document.getElementById(inputId).addEventListener("input", e => {
      setValue(key, e.target.value);
    });
  }

  // Defaults
  if (!params.toString()) {
    setValue("app-name", "Booking");
    setValue("title", "Hotel excelente");
    setValue(
      "message",
      "Muy cÃ³modo y perfectamente ubicado."
    );
    setValue("time", "ahora");
  }
</script>

</body>
</html>
