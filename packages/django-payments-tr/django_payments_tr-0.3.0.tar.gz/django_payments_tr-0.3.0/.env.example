# Django Payments TR - Environment Configuration Example
# Copy this file to .env and update with your actual credentials

# ============================================================================
# DJANGO SETTINGS
# ============================================================================
DEBUG=True
SECRET_KEY=your-secret-key-here

# ============================================================================
# PAYMENTS_TR CONFIGURATION
# ============================================================================

# Default payment provider (stripe, iyzico)
PAYMENTS_TR_DEFAULT_PROVIDER=stripe

# ============================================================================
# STRIPE CONFIGURATION
# ============================================================================

# Stripe API keys
# Get your keys from: https://dashboard.stripe.com/apikeys
STRIPE_API_KEY=sk_test_your_stripe_test_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here

# Stripe webhook secret
# Get this from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================================================
# IYZICO CONFIGURATION
# ============================================================================

# iyzico API credentials
# Get your credentials from: https://merchant.iyzipay.com/
IYZICO_API_KEY=your_iyzico_api_key_here
IYZICO_SECRET_KEY=your_iyzico_secret_key_here
IYZICO_BASE_URL=https://sandbox-api.iyzipay.com  # or https://api.iyzipay.com for production

# iyzico webhook secret (for signature verification)
IYZICO_WEBHOOK_SECRET=your_iyzico_webhook_secret_here

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# Enable webhook signature verification (recommended: True)
PAYMENTS_TR_VERIFY_WEBHOOKS=True

# Rate limiting for webhook endpoints
PAYMENTS_TR_RATE_LIMIT_ENABLED=True
PAYMENTS_TR_RATE_LIMIT_REQUESTS=100  # requests per window
PAYMENTS_TR_RATE_LIMIT_WINDOW=60    # seconds

# Audit logging
PAYMENTS_TR_AUDIT_LOG_ENABLED=True
PAYMENTS_TR_AUDIT_LOG_SENSITIVE_DATA=False  # Set to True only in development

# ============================================================================
# LOGGING SETTINGS
# ============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
PAYMENTS_TR_LOG_LEVEL=INFO

# Log to file (optional)
PAYMENTS_TR_LOG_FILE=/var/log/django/payments.log

# Filter sensitive data from logs
PAYMENTS_TR_FILTER_SENSITIVE_DATA=True

# ============================================================================
# WEBHOOK SETTINGS
# ============================================================================

# Webhook model for storing events (format: app_label.ModelName)
# Configure in settings.py as: PAYMENTS_TR = {"WEBHOOK_MODEL": "myapp.WebhookEvent"}
# Or as environment variable (if using django-environ or similar):
# PAYMENTS_TR_WEBHOOK_MODEL=myapp.WebhookEvent

# Maximum webhook retries
PAYMENTS_TR_WEBHOOK_MAX_RETRIES=3

# ============================================================================
# DATABASE (if using separate webhook database)
# ============================================================================

# DATABASE_URL=postgresql://user:password@localhost:5432/payments_db

# ============================================================================
# CELERY (for background webhook processing - optional)
# ============================================================================

# CELERY_BROKER_URL=redis://localhost:6379/0
# CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ============================================================================
# CACHE (for rate limiting and idempotency)
# ============================================================================

# CACHE_URL=redis://localhost:6379/1
# Or for memcached:
# CACHE_URL=memcached://127.0.0.1:11211

# ============================================================================
# MONITORING (optional)
# ============================================================================

# Sentry DSN for error tracking
# SENTRY_DSN=https://your-sentry-dsn-here

# ============================================================================
# DEVELOPMENT/TESTING
# ============================================================================

# Use test mode for providers
PAYMENTS_TR_TEST_MODE=True

# Mock payment providers in tests
PAYMENTS_TR_MOCK_PROVIDERS=False
