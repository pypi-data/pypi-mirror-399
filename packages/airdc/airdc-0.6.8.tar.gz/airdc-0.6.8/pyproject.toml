[build-system]
requires = ["setuptools>=64", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "airdc"
version = "0.6.8"
description = "AIRDC: Collecting Multimodal Data For Your Robots"
authors = [{ name = "OpenGHz", email = "latent-shimmer@qq.com" }]
readme = "README.md"
license = { text = "MIT" }
requires-python = ">=3.9"
dependencies = [
    "pydantic",
    "numpy",
    "more-itertools",
    "typing-extensions",
    "setproctitle",
    "mcap-data-loader ==0.1.0",
    "inflection",
]
urls = { repository = "https://github.com/OpenGHz/AIRBOT-Data-Collection" }

[project.optional-dependencies]
airbot = ["ruamel.yaml"]
cv2 = ["opencv-python"]
rs = ["pyrealsense2"]
web = ["fastapi", "uvicorn"]
v4l2 = ["linuxpy", "PyTurboJPEG"]
udev = ["pyudev"]
# mcap = ["mcap-data-loader ==0.1.0"]
mcap_ros1 = ["mcap-ros1-support"]
image = ["PyTurboJPEG", "av"]
# no hardware support, such as
# opencv, linuxpy, udev, pynput
# but pyav is included
soft = [
    "pydantic-settings",
    "omegaconf >=2.3.0",
    "hydra-zen",
    "transitions",
    "bidict",
    "tqdm",
    "send2trash >=1.8.3",
]
hard = [
    "pynput >=1.8.1",
    "linuxpy",
    "PyTurboJPEG",
    "pyudev",
]
ml = ["torch", "torchvision"]
plt = ["ipykernel", "holoviews"]
cfg = [
    "pydantic-settings",
    "omegaconf >=2.3.0",
    "hydra-zen",
]
basic = [
    "bidict",
    "tqdm",
    "send2trash >=1.8.3",
    "flatten-dict",
]
all = [
    "airdc[basic]",
    "airdc[cfg]",
    "airdc[soft]",
    "airdc[hard]",
    "airdc[cv2]",
]

[tool.setuptools.packages.find]
where = ["."]
include = ["airbot_data_collection*", "airbot_ie*"]

[project.scripts]
airdc = "airbot_data_collection.main:main"
