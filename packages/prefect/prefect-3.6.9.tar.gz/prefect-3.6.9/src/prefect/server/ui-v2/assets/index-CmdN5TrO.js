import{r as c,j as e,D as h}from"./vendor-tanstack-zpsXWFxg.js";import{a2 as j,N as b,O as v,S,a as A,b as C,c as N,e as T,I as x,D as y,B as k,g as E,h as D,E as I,k as M,l as V,m as L,n as B,bs as p,bt as w,bu as R}from"./index-4D6ue93A.js";import{u as _}from"./use-local-storage-DWQ-EDf-.js";import{A as G}from"./artifact-card-BgJUcQUi.js";import{T as Q,a as f}from"./toggle-group-CtVLGj1O.js";import{u as F}from"./use-debounce-callback-B3PwORIA.js";import"./vendor-react-Bce9NwRC.js";import"./vendor-radix-CrLZvj36.js";import"./vendor-recharts-C8e6QlQ9.js";import"./vendor-codemirror-KWel9Npa.js";import"./vendor-forms-DEIP3aGx.js";import"./vendor-date-ByQxM3Xh.js";import"./vendor-markdown-dkNYO1DR.js";const H=[{value:"all",label:"All Types"},{value:"markdown",label:"Markdown"},{value:"progress",label:"Progress"},{value:"image",label:"Image"},{value:"table",label:"Table"}],O=({filters:t,onFilterChange:s,totalCount:i,displayMode:o,setDisplayMode:r})=>{const l=c.useCallback(a=>{s([...t.filter(u=>u.id!=="name"),{id:"name",label:"Name",value:a}])},[t,s]),d=c.useCallback(a=>{s([...t.filter(u=>u.id!=="type"),{id:"type",label:"Type",value:a}])},[t,s]),m=c.useMemo(()=>t.find(a=>a.id==="type")?.value,[t]),n=c.useMemo(()=>t.find(a=>a.id==="name")?.value,[t]);return e.jsxs("div",{"data-testid":"artifact-filter",className:"flex justify-between items-center",children:[e.jsx("div",{children:e.jsxs(j,{variant:"body",className:"text-sm text-muted-foreground",children:[i," ",b(i,"artifact")]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(v,{"data-testid":"search-input",defaultValue:n,placeholder:"Search artifacts",onChange:a=>l(a.target.value)}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(S,{"data-testid":"type-select",value:m,onValueChange:d,children:[e.jsx(A,{"aria-label":"Artifact type",children:e.jsx(C,{placeholder:"Type"})}),e.jsx(N,{children:H.map(({value:a,label:u})=>e.jsx(T,{value:a,children:u},a))})]}),e.jsx("div",{children:e.jsxs(Q,{type:"single",defaultValue:o,onValueChange:a=>r(a),children:[e.jsx(f,{"data-testid":"grid-layout",value:"grid",children:e.jsx(x,{id:"LayoutGrid"})}),e.jsx(f,{"data-testid":"list-layout",value:"list",children:e.jsx(x,{id:"AlignJustify"})})]})})]})]})]})},P=()=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(q,{}),e.jsx(y,{id:"artifacts-guide",label:"Documentation"})]}),q=()=>e.jsx("div",{className:"flex items-center ",children:e.jsx(k,{children:e.jsx(E,{children:e.jsx(D,{className:"text-xl font-bold text-foreground",children:"Artifacts"})})})}),z=()=>e.jsxs(I,{children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(M,{id:"Image"})}),e.jsx(V,{children:"Create an artifact to get started"}),e.jsx(L,{children:"Artifacts are byproducts of your runs; they can be anything from a markdown string to a table."}),e.jsx(B,{children:e.jsx(y,{id:"artifacts-guide"})})]}),J=({filters:t,onFilterChange:s,artifactsList:i,artifactsCount:o})=>{const[r,l]=_("artifacts-grid-style","grid"),d=c.useMemo(()=>r==="grid"?"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4":"grid-cols-1",[r]),m=c.useMemo(()=>i.reduce((n,a)=>(n.find(u=>u.key===a.key)||n.push(a),n),[]),[i]);return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(P,{}),e.jsx(O,{filters:t,onFilterChange:s,totalCount:o,setDisplayMode:l,displayMode:r}),m.length===0?e.jsx(z,{}):e.jsx("div",{className:d,children:m.map(n=>e.jsx(G,{artifact:n},n.id))})]})},g=t=>({artifacts:{operator:"and_",type:{any_:t?.type&&t?.type!=="all"?[t.type]:void 0},key:{like_:t?.name??""}},sort:"CREATED_DESC",offset:0}),K=()=>{const t=p.useSearch(),s=p.useNavigate(),i=c.useMemo(()=>[{id:"type",label:"Type",value:t.type??"all"},{id:"name",label:"Name",value:t.name}],[t.type,t.name]),o=F(c.useCallback(r=>{r&&s({to:".",search:()=>r.filter(l=>l.value).reduce((l,d)=>(d.value&&(l[d.id]=d.value),l),{}),replace:!0})},[s]),400);return{filters:i,onFilterChange:o}};function ne(){const t=p.useSearch(),{filters:s,onFilterChange:i}=K(),[{data:o},{data:r}]=h({queries:[w(g(t)),R(g(t))]});return e.jsx(J,{filters:s,onFilterChange:i,artifactsCount:o,artifactsList:r})}export{ne as component};
//# sourceMappingURL=index-CmdN5TrO.js.map
