import{j as e,L as g,G as D}from"./vendor-tanstack-zpsXWFxg.js";import{p as f,q as x,o as w,I as y,r as j,s as C,t as m,u as s,c_ as B}from"./index-4D6ue93A.js";import{u as A}from"./use-delete-confirmation-dialog-D3RwBW_o.js";const N=({blockDocument:n,onDelete:a})=>{const t=u=>{navigator.clipboard.writeText(u),s.success("Copied to clipboard!")},{id:c,name:r}=n;return e.jsxs(f,{children:[e.jsx(x,{asChild:!0,children:e.jsxs(w,{variant:"outline",className:"size-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(y,{id:"MoreVertical",className:"size-4"})]})}),e.jsxs(j,{align:"end",children:[e.jsx(C,{children:"Actions"}),r&&e.jsx(m,{onClick:()=>t(r),children:"Copy Name"}),e.jsx(g,{to:"/blocks/block/$id/edit",params:{id:c},children:e.jsx(m,{children:"Edit"})}),e.jsx(m,{onClick:a,children:"Delete"})]})]})},E=()=>{const n=D(),[a,t]=A(),{deleteBlockDocument:c,mutateAsync:r}=B();return[a,(o,{shouldNavigate:p=!1,onSuccess:h=()=>{}}={})=>{if(Array.isArray(o)){const d=async()=>{try{await Promise.all(o.map(l=>r(l))),s.success("Blocks deleted"),p&&n({to:"/blocks"})}catch(l){const k=l instanceof Error?l.message:"Unknown error while deleting block.";s.error(k),console.error(k)}},i=o.length>1?`Are you sure you want to delete these ${o.length} selected blocks?`:"Are you sure you want to delete this selected block?";t({title:"Delete Blocks",description:i,onConfirm:()=>{d(),h()}})}else t({title:"Delete Block",description:`Are you sure you want to delete ${o.name?o.name:"this block"}?`,onConfirm:()=>{c(o.id,{onSuccess:()=>{s.success("Block deleted"),p&&n({to:"/blocks"}),h()},onError:d=>{const i=d.message||"Unknown error while deleting block.";s.error(i),console.error(i)}})}})}]};export{N as B,E as u};
//# sourceMappingURL=use-delete-block-document-confirmation-dialog-BgncIKdV.js.map
