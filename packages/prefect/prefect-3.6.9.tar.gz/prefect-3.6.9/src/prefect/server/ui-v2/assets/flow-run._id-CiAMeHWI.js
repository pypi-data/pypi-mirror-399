const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/flow-run-graph-BR06Wti3.js","assets/vendor-tanstack-zpsXWFxg.js","assets/vendor-react-Bce9NwRC.js","assets/vendor-graphs-DzwXylWd.js","assets/index-4D6ue93A.js","assets/vendor-radix-CrLZvj36.js","assets/vendor-recharts-C8e6QlQ9.js","assets/vendor-codemirror-KWel9Npa.js","assets/vendor-forms-DEIP3aGx.js","assets/vendor-date-ByQxM3Xh.js","assets/index-uEjrcbNU.css"])))=>i.map(i=>d[i]);
import{j as e,r as l,s as R,I as ge,e as J,t as G,F as je,G as fe}from"./vendor-tanstack-zpsXWFxg.js";import{bH as ve,b6 as i,cd as le,o as T,bu as ye,C as re,H as ne,c7 as be,aT as oe,I,u as N,bM as $,c6 as Ne,c9 as Se,S as ie,a as ce,c as de,e as q,b as _e,bN as ue,aC as Ce,ay as H,T as we,a2 as k,O as xe,ce as W,p as me,q as he,r as pe,t as F,a1 as Q,cf as V,a8 as B,aD as ke,az as K,ar as Fe,a5 as Te,cg as De,ch as Ee,ci as Ae,cj as Le,ck as Pe,cl as Ie,B as Re,g as Me,h as X,br as ze,bB as Oe,bD as Qe,bQ as Ve,as as Ge,at as qe,au as S,av as _,cm as Y}from"./index-4D6ue93A.js";import{R as Be,a as Je,u as Ue,C as $e}from"./index-BlBlLmi-.js";import{D as He}from"./delete-confirmation-dialog-CyYzB0GU.js";import{u as We}from"./use-delete-confirmation-dialog-D3RwBW_o.js";import{A as Ke}from"./artifact-card-BgJUcQUi.js";import{T as Xe,a as Z}from"./toggle-group-CtVLGj1O.js";import{S as Ye}from"./sort-filter-CXIm-Was.js";import{S as Ze,a as es,F as ss}from"./flow-runs-pagination-D80ghJOr.js";import{T as as,b as ts,a as ls}from"./task-runs-pagination-DaTKsUEw.js";import{b as rs,f as ns}from"./vendor-forms-DEIP3aGx.js";import"./vendor-react-Bce9NwRC.js";import"./vendor-radix-CrLZvj36.js";import"./vendor-recharts-C8e6QlQ9.js";import"./vendor-codemirror-KWel9Npa.js";import"./vendor-date-ByQxM3Xh.js";import"./index-Dij7UGkG.js";import"./vendor-markdown-dkNYO1DR.js";const os=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],is=ve("circle-alert",os),cs=l.lazy(()=>le(()=>import("./flow-run-graph-BR06Wti3.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(s=>({default:s.FlowRunGraph})));function ds(s){return e.jsx(l.Suspense,{fallback:e.jsx(i,{className:"h-[500px] w-full"}),children:e.jsx(cs,{...s})})}class L extends l.Component{constructor(a){super(a),this.state={hasError:!1,error:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}render(){if(this.state.hasError){const{fallback:a}=this.props;return typeof a=="function"?a(this.state.error??new Error("Unknown error")):a}return this.props.children}}const us=l.lazy(()=>le(()=>import("./index-4D6ue93A.js").then(s=>s.dZ),__vite__mapDeps([4,1,2,5,6,7,8,9,10])).then(s=>({default:s.JsonInput})));function ee({className:s,...a}){return e.jsx(l.Suspense,{fallback:e.jsx(i,{className:`min-h-[200px] ${s??""}`}),children:e.jsx(us,{className:s,...a})})}function P({message:s="Failed to load content",onRetry:a}){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(is,{className:"size-8 text-destructive mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s}),a&&e.jsx(T,{variant:"outline",size:"sm",onClick:a,children:"Retry"})]})}const xs=({flowRun:s})=>{const[a,r]=l.useState("grid"),{data:h}=R(ye({artifacts:{operator:"and_",flow_run_id:{any_:[s.id]},type:{not_any_:["result"]}},sort:"ID_DESC",offset:0}));return h.length===0?e.jsx(re,{children:e.jsx(ne,{className:"text-center",children:e.jsxs("p",{children:["This flow run did not produce any artifacts; for more information on creating artifacts, see the"," ",e.jsx("a",{href:"https://docs.prefect.io/v3/develop/artifacts",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500",children:"documentation"}),"."]})})}):e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(Xe,{type:"single",variant:"outline",value:a,onValueChange:n=>r(n),children:[e.jsx(Z,{value:"grid","aria-label":"Grid view",children:e.jsx(be,{className:"w-4 h-4"})}),e.jsx(Z,{value:"list","aria-label":"List view",children:e.jsx(Be,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:oe("grid",a==="grid"?"grid-cols-1 lg:grid-cols-2 xl:grid-cols-3":"grid-cols-1","gap-4"),"data-testid":"flow-run-artifacts-grid",children:h.map(n=>e.jsx(Ke,{artifact:n,compact:a==="list"},n.id))})]})};function b({label:s,value:a,copyable:r,copyValue:h}){const n=()=>{const u=h??(typeof a=="string"?a:"");navigator.clipboard.writeText(u),N.success(`${s} copied`)};return e.jsxs("dl",{className:"flex flex-col gap-1",children:[e.jsx("dt",{className:"text-muted-foreground text-sm",children:s}),e.jsxs("dd",{className:"text-sm flex items-center gap-2",children:[a,r&&e.jsx(T,{variant:"ghost",size:"icon",onClick:n,children:e.jsx(I,{id:"Copy",className:"size-4"})})]})]})}function se({flowRun:s}){return s?e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{label:"Run Count",value:s.run_count}),e.jsx(b,{label:"Created",value:e.jsx($,{date:s.created})}),s.created_by?.display_value&&e.jsx(b,{label:"Created By",value:s.created_by.display_value}),e.jsx(b,{label:"Last Updated",value:e.jsx($,{date:s.updated})}),s.idempotency_key&&e.jsx(b,{label:"Idempotency Key",value:s.idempotency_key}),s.tags&&s.tags.length>0&&e.jsx(b,{label:"Tags",value:e.jsx(Ne,{tags:s.tags})}),e.jsx(b,{label:"Flow Run ID",value:s.id,copyable:!0}),s.state?.message&&e.jsx(b,{label:"State Message",value:s.state.message}),s.flow_version&&e.jsx(b,{label:"Flow Version",value:s.flow_version}),s.empirical_policy?.retries!=null&&e.jsxs(e.Fragment,{children:[e.jsx(b,{label:"Retries",value:s.empirical_policy.retries}),e.jsx(b,{label:"Retry Delay",value:s.empirical_policy.retry_delay})]})]}):e.jsx("div",{className:"flex flex-col gap-2 bg-gray-100 p-4 rounded-md",children:e.jsx("span",{className:"text-gray-500",children:"No flow run details available"})})}const ms=({flowRun:s,virtualize:a=!0})=>{const[r,h]=l.useState(0),[n,u]=l.useState("TIMESTAMP_ASC"),g=l.useMemo(()=>({...Se({limit:50,sort:n,logs:{operator:"and_",level:{ge_:r},flow_run_id:{any_:[s.id]}}}),refetchInterval:s.state_type==="RUNNING"?5e3:!1}),[r,n,s.id,s.state_type]),{data:x,hasNextPage:o,fetchNextPage:v,isFetchingNextPage:t}=ge(g),c=x.pages.length===1&&x.pages[0].length===0;let m="This run did not produce any logs.";return c&&(r>0?m="No logs match your filter criteria":s.state_type==="SCHEDULED"&&s.state_name==="Scheduled"?m="Run has not yet started. Check back soon for logs.":s.state_type==="RUNNING"&&(m="Waiting for logs...")),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-row gap-2 justify-end",children:[e.jsx(hs,{levelFilter:r,setLevelFilter:h}),e.jsx(ps,{sortOrder:n,setSortOrder:u})]}),c?e.jsx("div",{className:"flex flex-col gap-2 text-center bg-muted p-2 rounded-md",children:e.jsx("span",{className:"text-muted-foreground",children:m})}):e.jsx("div",{className:"rounded-md",children:e.jsx(Je,{logs:x.pages.flat(),onBottomReached:()=>{o&&!t&&v().catch(y=>{console.error(y)})},className:"max-h-[85vh]",virtualize:a})})]})},ae=[{label:"All",value:0},{label:"Critical only",value:50},{label:"Error and above",value:40},{label:"Warning and above",value:30},{label:"Info and above",value:20},{label:"Debug and above",value:10}],hs=({levelFilter:s,setLevelFilter:a})=>e.jsxs(ie,{value:s.toString(),onValueChange:r=>a(Number(r)),children:[e.jsx(ce,{"aria-label":"log level filter",children:e.jsx("span",{children:`Level:
							${ae.find(r=>r.value===s)?.label}`})}),e.jsx(de,{children:ae.map(r=>e.jsx(q,{value:r.value.toString(),children:r.label},r.value))})]}),ps=({sortOrder:s,setSortOrder:a})=>e.jsxs(ie,{value:s,onValueChange:r=>a(r),children:[e.jsx(ce,{"aria-label":"log sort order",children:e.jsx(_e,{placeholder:"Sort log order"})}),e.jsxs(de,{children:[e.jsx(q,{value:"TIMESTAMP_ASC",children:"Oldest to newest"}),e.jsx(q,{value:"TIMESTAMP_DESC",children:"Newest to oldest"})]})]}),gs=({parentFlowRunId:s})=>{const a=J(),[r,h]=l.useState(""),[n,u]=l.useState(new Set),[g,x]=l.useState("START_TIME_DESC"),[o,v]=l.useState({page:1,limit:10}),t=ue(r,300),c=l.useMemo(()=>({flow_runs:{operator:"and_",parent_flow_run_id:{operator:"and_",any_:[s]}}}),[s]),{data:m}=R(Ce(c,3e4)),y=l.useMemo(()=>({page:o.page,limit:o.limit,sort:g,flow_runs:{operator:"and_",parent_flow_run_id:{operator:"and_",any_:[s]},name:t?{like_:t}:void 0,state:n.size>0?{operator:"and_",name:{any_:Array.from(n)}}:void 0}}),[s,o,g,t,n]),{data:j}=G(H(y,3e4)),C=l.useMemo(()=>[...new Set((j?.results??[]).map(d=>d.flow_id))],[j?.results]),{data:w}=G(we({flows:{operator:"and_",id:{any_:C}},offset:0,sort:"NAME_ASC"},{enabled:C.length>0})),D=l.useMemo(()=>{if(!j?.results)return[];const d=new Map(w?.map(p=>[p.id,p])??[]);return j.results.map(p=>{const U=d.get(p.flow_id);return U?{...p,flow:U}:{...p,flow:void 0}}).filter(p=>p!==null)},[j?.results,w]),E=d=>{h(d.target.value),v(p=>({...p,page:1}))},M=d=>{u(d),v(p=>({...p,page:1}))},z=d=>{x(d),v(p=>({...p,page:1}))},O=()=>{h(""),u(new Set),v(d=>({...d,page:1}))},A=d=>{a.prefetchQuery(H({...y,page:d},3e4))},f=r||n.size>0;return m===0?e.jsx("div",{className:"flex items-center justify-center h-48 border rounded-lg bg-muted/50",children:e.jsx(k,{className:"text-muted-foreground",children:"No subflow runs found for this flow run."})}):e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"grid grid-cols-12 items-center gap-2",children:[e.jsx("div",{className:"flex flex-col gap-1 xl:col-span-3 md:col-span-12 col-span-6 md:order-0 order-2",children:e.jsxs(k,{variant:"bodySmall",className:"text-muted-foreground",children:[m," Subflow run",m!==1?"s":""]})}),e.jsx("div",{className:"xl:col-span-4 col-span-12 md:order-1 order-0",children:e.jsx(xe,{value:r,onChange:E,placeholder:"Search by run name","aria-label":"Search by run name",debounceMs:300})}),e.jsx("div",{className:"xl:col-span-3 md:col-span-6 col-span-12 md:order-2 order-1",children:e.jsx(Ze,{selectedFilters:n,onSelectFilter:M})}),e.jsx("div",{className:"xl:border-l xl:border-border xl:pl-2 xl:col-span-2 md:col-span-6 col-span-6 md:order-3 order-3",children:e.jsx(Ye,{value:g,onSelect:z})})]}),e.jsx(es,{flowRuns:D,onClearFilters:f?O:void 0}),j&&j.pages>0&&e.jsx(ss,{pagination:o,onChangePagination:v,count:j.count,pages:j.pages,onPrefetchPage:A})]})},te=2,js=({selectedFilters:s,onSelectFilter:a,className:r})=>{const[h,n]=l.useState(!1),u=l.useMemo(()=>{const t=new Set(W);return s.has("Scheduled")||t.size!==s.size?!1:Array.from(s).every(c=>t.has(c))},[s]),g=()=>{a(new Set(W))},x=()=>{a(new Set)},o=t=>{if(u){a(new Set([t]));return}const c=new Set(s);s.has(t)?c.delete(t):c.add(t),a(c)},v=()=>{if(s.size===0)return"All run states";if(u)return"All except scheduled";const t=Array.from(s),c=t.slice(0,te),m=t.length-te;return e.jsxs("div",{className:"flex flex-1 min-w-0 items-center gap-2",children:[e.jsx("div",{className:"flex flex-1 min-w-0 items-center gap-2 overflow-hidden",children:c.map(y=>e.jsx(B,{name:y,type:V[y]},y))}),m>0&&e.jsxs(k,{variant:"bodySmall",className:"shrink-0",children:["+ ",m]})]})};return e.jsxs(me,{open:h,onOpenChange:n,children:[e.jsx(he,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:oe("justify-between w-full",r),children:[e.jsx("span",{className:"flex-1 min-w-0",children:v()}),e.jsx(I,{id:"ChevronDown",className:"ml-2 size-4 shrink-0"})]})}),e.jsxs(pe,{className:"max-h-96 overflow-x-hidden overflow-y-auto",children:[e.jsxs(F,{onSelect:t=>{t.preventDefault(),g()},children:[e.jsx(Q,{checked:u,className:"mr-2"}),"All except scheduled"]}),e.jsxs(F,{onSelect:t=>{t.preventDefault(),x()},children:[e.jsx(Q,{checked:s.size===0,className:"mr-2"}),"All run states"]}),Object.keys(V).map(t=>e.jsxs(F,{"aria-label":t,onSelect:c=>{c.preventDefault(),o(t)},children:[e.jsx(Q,{"aria-label":t,className:"mr-2",checked:!u&&s.has(t)}),e.jsx(B,{name:t,type:V[t]})]},t))]})]})},fs=({flowRunId:s})=>{const a=J(),[r,h]=l.useState(""),[n,u]=l.useState(new Set),[g,x]=l.useState(new Set),[o,v]=l.useState("EXPECTED_START_TIME_DESC"),[t,c]=l.useState({page:1,limit:20}),m=ue(r,300),{data:y}=R(ke({task_runs:{operator:"and_",flow_run_id:{operator:"and_",any_:[s],is_null_:!1},subflow_runs:{exists_:!1}}},3e4)),{data:j}=G(K({task_runs:{operator:"and_",flow_run_id:{operator:"and_",any_:[s],is_null_:!1},subflow_runs:{exists_:!1},name:m?{like_:m}:void 0,state:n.size>0?{operator:"and_",name:{any_:Array.from(n)}}:void 0,tags:g.size>0?{operator:"and_",all_:Array.from(g)}:void 0},sort:o,page:t.page,limit:t.limit},3e4)),C=f=>{h(f.target.value),c(d=>({...d,page:1}))},w=f=>{u(f),c(d=>({...d,page:1}))},D=f=>{v(f),c(d=>({...d,page:1}))},E=f=>{const d=Array.isArray(f)?f:[];x(new Set(d)),c(p=>({...p,page:1}))},M=()=>{h(""),u(new Set),x(new Set),c(f=>({...f,page:1}))},z=f=>{a.prefetchQuery(K({task_runs:{operator:"and_",flow_run_id:{operator:"and_",any_:[s],is_null_:!1},subflow_runs:{exists_:!1},name:m?{like_:m}:void 0,state:n.size>0?{operator:"and_",name:{any_:Array.from(n)}}:void 0,tags:g.size>0?{operator:"and_",all_:Array.from(g)}:void 0},sort:o,page:f,limit:t.limit},3e4))},O=r||n.size>0||g.size>0,A=l.useMemo(()=>{if(!j?.results)return null;const f=new Map;for(const d of j.results){const p=String(d.state?.name??"Unknown");f.set(p,(f.get(p)??0)+1)}return Array.from(f.entries()).map(([d,p])=>`${p} ${d}`).join(", ")},[j?.results]);return y===0?e.jsx("div",{className:"flex items-center justify-center h-48 border rounded-lg bg-muted/50",children:e.jsx(k,{className:"text-muted-foreground",children:"No task runs found for this flow run."})}):e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"grid grid-cols-12 items-center gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-1 xl:col-span-3 md:col-span-12 col-span-6 md:order-0 order-3",children:[e.jsxs(k,{variant:"bodySmall",className:"text-muted-foreground",children:[y," Task run",y!==1?"s":""]}),A&&e.jsxs(k,{variant:"bodySmall",className:"text-muted-foreground text-xs capitalize",children:["(",A,")"]})]}),e.jsx("div",{className:"xl:col-span-3 md:col-span-6 col-span-12 md:order-1 order-0",children:e.jsx(xe,{value:r,onChange:C,placeholder:"Search by run name","aria-label":"Search by run name",debounceMs:300})}),e.jsx("div",{className:"xl:col-span-2 md:col-span-6 col-span-12 md:order-2 order-1",children:e.jsx(js,{selectedFilters:n,onSelectFilter:w})}),e.jsx("div",{className:"xl:col-span-2 md:col-span-6 col-span-12 md:order-3 order-2",children:e.jsx(Fe,{value:Array.from(g),onChange:E,placeholder:"All tags"})}),e.jsx("div",{className:"xl:border-l xl:border-border xl:pl-2 xl:col-span-2 md:col-span-6 col-span-6 md:order-4 order-4",children:e.jsx(as,{value:o,onSelect:D})})]}),e.jsx(ts,{taskRuns:j?.results,onClearFilters:O?M:void 0}),j&&j.pages>0&&e.jsx(ls,{pagination:t,onChangePagination:c,count:j.count,pages:j.pages,onPrefetchPage:z})]})},vs=({id:s,tab:a,onTabChange:r})=>{const[h,n]=l.useState(!1),[u,g]=l.useState(!1),x=J(),{data:o}=R({...Te(s),refetchInterval:h}),{deleteFlowRun:v}=De(),{navigate:t}=je(),c=o.state_type==="PENDING";l.useEffect(()=>{o.state_type==="RUNNING"||o.state_type==="PENDING"?n(5e3):n(!1)},[o]);const m=()=>{v(o.id,{onSuccess:()=>{n(!1),N.success("Flow run deleted"),t({to:"/runs",replace:!0})},onError:D=>{const E=D.message||"Unknown error while deleting flow run.";N.error(E)}})},y=l.useCallback(()=>{x.invalidateQueries({queryKey:Ee.all()})},[x]),j=l.useCallback(()=>{x.invalidateQueries({queryKey:Ae.all()})},[x]),C=l.useCallback(()=>{x.invalidateQueries({queryKey:Le.lists()})},[x]),w=l.useCallback(()=>{x.invalidateQueries({queryKey:Pe.all()})},[x]);return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex flex-col gap-2",children:e.jsx(ys,{flowRun:o,onDeleteRunClicked:m})}),!c&&e.jsx(re,{children:e.jsx(ne,{className:"p-0",children:e.jsx(ds,{flowRunId:o.id,fullscreen:u,onFullscreenChange:g})})}),e.jsxs("div",{className:"grid lg:grid-cols-[1fr_250px] grid-cols-[1fr] gap-4",children:[e.jsx(bs,{currentTab:a,onTabChange:r,flowRun:o,logsContent:e.jsx(L,{fallback:e.jsx(P,{message:"Failed to load logs",onRetry:y}),children:e.jsx(l.Suspense,{fallback:e.jsx(Ns,{}),children:e.jsx(ms,{flowRun:o})})}),taskRunsContent:e.jsx(L,{fallback:e.jsx(P,{message:"Failed to load task runs",onRetry:j}),children:e.jsx(l.Suspense,{fallback:e.jsx(Ss,{}),children:e.jsx(fs,{flowRunId:s})})}),subflowRunsContent:e.jsx(L,{fallback:e.jsx(P,{message:"Failed to load subflow runs",onRetry:C}),children:e.jsx(l.Suspense,{fallback:e.jsx(Cs,{}),children:e.jsx(gs,{parentFlowRunId:s})})}),artifactsContent:e.jsx(L,{fallback:e.jsx(P,{message:"Failed to load artifacts",onRetry:w}),children:e.jsx(l.Suspense,{fallback:e.jsx(_s,{}),children:e.jsx(xs,{flowRun:o})})}),detailsContent:e.jsx(l.Suspense,{fallback:e.jsx(ws,{}),children:e.jsx(se,{flowRun:o})}),parametersContent:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>{N.success("Copied parameters to clipboard"),navigator.clipboard.writeText(JSON.stringify(o.parameters??{},null,2))},children:[e.jsx(I,{id:"Copy",className:"size-4 mr-2"}),"Copy parameters"]})}),e.jsx(ee,{value:JSON.stringify(o.parameters??{},null,2),disabled:!0,className:"min-h-[200px]"})]}),jobVariablesContent:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>{N.success("Copied job variables to clipboard"),navigator.clipboard.writeText(JSON.stringify(o.job_variables??{},null,2))},children:[e.jsx(I,{id:"Copy",className:"size-4 mr-2"}),"Copy job variables"]})}),e.jsx(ee,{value:JSON.stringify(o.job_variables??{},null,2),disabled:!0,className:"min-h-[200px]"})]})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(se,{flowRun:o})})]})]})},ys=({flowRun:s,onDeleteRunClicked:a})=>{const[r,h]=We(),{open:n,onOpenChange:u,openDialog:g}=Ue(),{setFlowRunState:x,isPending:o}=Ie(),v=s.state_type&&["COMPLETED","FAILED","CANCELLED","CRASHED"].includes(s.state_type),t=c=>{x({id:s.id,state:{type:c.type,name:c.type.charAt(0)+c.type.slice(1).toLowerCase(),message:c.message},force:!0},{onSuccess:()=>{N.success("Flow run state changed"),u(!1)},onError:m=>{N.error(m.message||"Failed to change state")}})};return e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx(Re,{children:e.jsxs(Me,{children:[e.jsx(X,{children:e.jsx(ze,{to:"/runs",className:"text-xl font-semibold",children:"Runs"})}),e.jsx(Oe,{}),e.jsxs(X,{className:"text-xl",children:[e.jsx(Qe,{className:"font-semibold",children:s.name}),s.state&&e.jsx(B,{type:s.state.type,name:s.state.name,className:"ml-2"})]})]})}),e.jsxs(me,{children:[e.jsx(he,{asChild:!0,children:e.jsx(T,{variant:"outline",className:"p-2",children:e.jsx(Ve,{className:"w-4 h-4"})})}),e.jsxs(pe,{children:[v&&e.jsx(F,{onClick:g,children:"Change state"}),e.jsx(F,{onClick:()=>{N.success("Copied flow run ID to clipboard"),navigator.clipboard.writeText(s.id)},children:"Copy ID"}),e.jsx(F,{onClick:()=>h({title:"Delete Flow Run",description:`Are you sure you want to delete flow run ${s.name}?`,onConfirm:a}),children:"Delete"})]})]}),e.jsx(He,{...r}),e.jsx($e,{open:n,onOpenChange:u,currentState:s.state?{type:s.state.type,name:s.state.name??s.state.type.charAt(0)+s.state.type.slice(1).toLowerCase()}:null,label:"Flow Run",onConfirm:t,isLoading:o})]})},bs=({currentTab:s,onTabChange:a,flowRun:r,logsContent:h,taskRunsContent:n,subflowRunsContent:u,artifactsContent:g,detailsContent:x,parametersContent:o,jobVariablesContent:v})=>(l.useEffect(()=>{const t=getComputedStyle(document.documentElement).getPropertyValue("--breakpoint-lg").trim(),c=window.matchMedia(`(max-width: ${t})`),m=()=>{s==="Details"&&a("Logs")};return c.addEventListener("change",m),()=>c.removeEventListener("change",m)},[s,a]),e.jsxs(Ge,{value:s,onValueChange:t=>a(t),children:[e.jsxs(qe,{children:[e.jsx(S,{value:"Details",className:"lg:hidden",children:"Details"}),e.jsx(S,{value:"Logs",children:"Logs"}),r.state_type!=="PENDING"&&e.jsx(S,{value:"TaskRuns",children:"Task Runs"}),r.state_type!=="PENDING"&&e.jsx(S,{value:"SubflowRuns",children:"Subflow Runs"}),e.jsx(S,{value:"Artifacts",children:"Artifacts"}),e.jsx(S,{value:"Parameters",children:"Parameters"}),e.jsx(S,{value:"JobVariables",children:"Job Variables"})]}),e.jsx(_,{value:"Details",children:x}),e.jsx(_,{value:"Logs",children:h}),e.jsx(_,{value:"TaskRuns",children:n}),e.jsx(_,{value:"SubflowRuns",children:u}),e.jsx(_,{value:"Artifacts",children:g}),e.jsx(_,{value:"Parameters",children:o}),e.jsx(_,{value:"JobVariables",children:v})]})),Ns=()=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-row gap-2 justify-end",children:[e.jsx(i,{className:"h-8 w-25"}),e.jsx(i,{className:"h-8 w-32"})]}),e.jsx(i,{className:"h-32"})]}),Ss=()=>e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(i,{className:"h-4 w-24"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(i,{className:"h-9 flex-1"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{className:"h-9 w-48"}),e.jsx(i,{className:"h-9 w-40"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{className:"h-24"}),e.jsx(i,{className:"h-24"}),e.jsx(i,{className:"h-24"})]})]}),_s=()=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex flex-row justify-end",children:e.jsx(i,{className:"h-8 w-12"})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 xl:grid-cols-3",children:[e.jsx(i,{className:"h-40"}),e.jsx(i,{className:"h-40"}),e.jsx(i,{className:"h-40"}),e.jsx(i,{className:"h-40"})]})]}),Cs=()=>e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(i,{className:"h-4 w-24"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(i,{className:"h-9 flex-1"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{className:"h-9 w-48"}),e.jsx(i,{className:"h-9 w-40"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{className:"h-24"}),e.jsx(i,{className:"h-24"}),e.jsx(i,{className:"h-24"})]})]}),ws=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(i,{className:"h-4 w-20"}),e.jsx(i,{className:"h-5 w-12"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(i,{className:"h-4 w-16"}),e.jsx(i,{className:"h-5 w-32"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(i,{className:"h-4 w-24"}),e.jsx(i,{className:"h-5 w-32"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(i,{className:"h-4 w-24"}),e.jsx(i,{className:"h-5 w-64"})]})]});rs({tab:ns(["Logs","TaskRuns","SubflowRuns","Artifacts","Details","Parameters","JobVariables"]).default("Logs").catch("Logs")});function Js(){const{id:s}=Y.useParams(),{tab:a}=Y.useSearch(),r=fe(),h=n=>{r({to:".",search:u=>({...u,tab:n})})};return e.jsx(vs,{id:s,tab:a,onTabChange:h})}export{Js as component};
//# sourceMappingURL=flow-run._id-CiAMeHWI.js.map
