import{r as u,j as e}from"./vendor-tanstack-zpsXWFxg.js";import{c as m}from"./cronstrue-Ceqsf2vJ.js";import{cA as j,aT as f,cB as p,cC as g,y as c,cD as v,bU as i,bR as l,bS as o,bT as d,a9 as T,f as $}from"./index-4D6ue93A.js";import{f as y,$ as S}from"./vendor-date-ByQxM3Xh.js";const x=({schedule:a,...r})=>{const{schedule:n}=a;if("cron"in n)return e.jsx(w,{schedule:n,active:a.active,...r});if("interval"in n)return e.jsx(N,{schedule:n,active:a.active,...r});if("rrule"in n)return e.jsx(B,{schedule:n,active:a.active,...r})},w=({active:a,schedule:r,...n})=>{const t=m.toString(r.cron),s=`${a?"":"(Paused)"} ${t} (${r.timezone})`;return e.jsx(i,{children:e.jsxs(l,{children:[e.jsx(o,{children:e.jsx(c,{variant:"secondary",className:`${a?"":"opacity-50"}`,...n,children:e.jsx("span",{className:"truncate",children:t})})}),e.jsx(d,{children:s})]})})},N=({active:a,schedule:r,...n})=>{const t=`Every ${T(r.interval*1e3)}`;let s=`${a?"":"(Paused)"} ${t}`;return r.anchor_date&&(s+=` using ${y(new Date(r.anchor_date),"MMM do, yyyy 'at' hh:mm:ss aa")} (${r.timezone}) as the anchor date`),e.jsx(i,{children:e.jsxs(l,{children:[e.jsx(o,{children:e.jsx(c,{variant:"secondary",className:`${a?"":"opacity-50"}`,...n,children:e.jsx("span",{className:"truncate",children:t})})}),e.jsx(d,{children:s})]})})},B=({active:a,schedule:r,...n})=>{const t=S(r.rrule).toText(),s=$(t),h=`${a?"":"(Paused)"} ${s} (${r.timezone})`;return e.jsx(i,{children:e.jsxs(l,{children:[e.jsx(o,{children:e.jsx(c,{variant:"secondary",className:`${a?"":"opacity-50"}`,...n,children:e.jsx("span",{className:"truncate",children:s})})}),e.jsx(d,{children:h})]})})},P=({schedules:a,className:r})=>{const n=u.useRef(null),t=j(n);return!a||a.length===0?null:t?e.jsx("div",{className:f("flex flex-row gap-2 items-center no-wrap",r),children:e.jsxs(p,{children:[e.jsx(g,{children:e.jsxs(c,{variant:"secondary",className:"whitespace-nowrap",children:[a.length," schedules"]})}),e.jsx(v,{className:"flex flex-col flex-wrap gap-1 w-fit",children:a.map(s=>e.jsx(x,{schedule:s},s.id))})]})}):e.jsx("div",{className:"flex flex-row gap-2 items-center no-wrap",ref:n,children:a.map(s=>e.jsx(x,{schedule:s,className:"max-w-28"},s.id))})};export{P as S};
//# sourceMappingURL=index-Dy1OPYb3.js.map
