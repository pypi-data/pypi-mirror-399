<button id="{{ id }}" type="button" class="btn btn-{{ variant }}{% if size %} btn-{{ size }}{% endif %}" data-copy-text="{{ text_to_copy }}">
    <i class="bi {{ icon }}" id="{{ id }}-icon"></i>
    <span id="{{ id }}-text">{{ button_text }}</span>
</button>

<script type="text/javascript">
(function() {
    var btn = document.getElementById('{{ id }}');
    var icon = document.getElementById('{{ id }}-icon');
    var text = document.getElementById('{{ id }}-text');

    btn.addEventListener('click', function() {
        var copyText = btn.getAttribute('data-copy-text');
        navigator.clipboard.writeText(copyText).then(function() {
            // Success feedback
            icon.className = 'bi {{ success_icon }}';
            text.textContent = '{{ success_text }}';

            // Reset after 2 seconds
            setTimeout(function() {
                icon.className = 'bi {{ icon }}';
                text.textContent = '{{ button_text }}';
            }, 2000);
        }).catch(function(err) {
            console.error('Failed to copy:', err);
        });
    });
})();
</script>
