[project]
name = "starlette-templates"
description = "Extends Starlette with support for template-driven routing, form handling, and reusable UI components, built on Jinja2 and Pydantic."
readme = "README.md"
dynamic = ["version"]
authors = [{ name = "Tycho Engineering", email = "tychoengr@gmail.com" }]
keywords = ["web", "starlette", "jinja2"]
requires-python = ">=3.10"
classifiers = [
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.10",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent",
    "Environment :: Web Environment",
    "Topic :: Internet :: WWW/HTTP",
]
dependencies = [
    "starlette>=0.48.0",
    "jinja2>=3.1.6",
    "pydantic>=2.11.9",
    "xxhash>=3.5.0",
    "python-multipart>=0.0.20",
    "aiofiles>=25.1.0",
    "Markdown>=3.10",
    "pymdown-extensions>=10.19.1",
    "Pygments>=2.19.2"
]

[project.optional-dependencies]
dev = [
    "ruff",
    "ipykernel",
    "pytest",
    "pytest-cov",
    "nbformat",
    "setuptools",
    "wheel",
    "twine",
    "build",
    "uvicorn>=0.37.0",
    "httpx>=0.28.1",
    "mypy>=1.17.1",
    "pytest-asyncio>=1.1.0",
    "mkdocs",
    "mkdocs-material",
    "mkdocstrings-python",
    "mkdocs-redirects",
    "mkdocs-awesome-pages-plugin",
    "mkdocs-autorefs",
    "mkdocs-llmstxt",
]

# Read the version from the package
[tool.setuptools.dynamic]
version = { attr = "starlette_templates.__version__" }

[tool.setuptools]

[tool.setuptools.packages.find]
# where tells setuptools which directory to search in
where = ["src"]
# include tells setuptools which packages to include once it's searching in that directory
include = ["starlette_templates*"]
# exclude tells setuptools to not include any packages matching tests* inside src/ when building distribution
exclude = ["tests*"]

# Include the dashboard files in the package directory
[tool.setuptools.package-data]
starlette_templates = ["templates/**/*", "static/**/*"]

# Linting configuration
[tool.ruff]
line-length = 120
target-version = "py310"

# Pytest configuration
[tool.pytest.ini_options]
asyncio_mode = "auto"
asyncio_default_fixture_loop_scope = "function"

# Use the setuptools build system
[build-system]
requires = ["setuptools", "wheel", "pip"]
build-backend = "setuptools.build_meta"
