<div id="{{ id }}-wrapper" class="mb-3">
    {% if label %}
    <label for="{{ id }}" class="form-label">{{ label }}{% if required %} <span class="text-danger">*</span>{% endif %}</label>
    {% endif %}
    <input type="text" id="{{ id }}" name="{{ name }}" class="form-control"{% if value %} value="{{ value }}"{% endif %}{% if placeholder %} placeholder="{{ placeholder }}"{% endif %}{% if required %} required{% endif %}{% if disabled %} disabled{% endif %}>
    {% if help_text %}
    <div class="form-text">{{ help_text }}</div>
    {% endif %}
</div>

<script type="text/javascript">
(function() {
    flatpickr("#{{ id }}", {
        enableTime: true,
        dateFormat: "{{ date_format }}",
        time_24hr: {{ 'true' if time_24hr else 'false' }},
        {% if min_date %}
        minDate: "{{ min_date }}",
        {% endif %}
        {% if max_date %}
        maxDate: "{{ max_date }}",
        {% endif %}
        {% if disabled %}
        clickOpens: false,
        {% endif %}
    });
})();
</script>
