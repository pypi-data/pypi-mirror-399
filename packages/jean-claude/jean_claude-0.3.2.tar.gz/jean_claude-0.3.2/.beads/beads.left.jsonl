{"id":"jean_claude-0p1","title":"Replace subprocess with Claude Agent SDK","description":"Replace subprocess-based Claude execution with claude_code_sdk. Enables streaming responses, proper async handling, hooks integration, and better error handling. Core foundation for all other Phase 2 features.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-21T15:18:06.932951-08:00","updated_at":"2025-12-21T15:54:00.972617-08:00","closed_at":"2025-12-21T15:54:00.972617-08:00","close_reason":"SDK integration complete with dual backend (SDK + subprocess fallback). Async execution with claude_code_sdk.query(), proper streaming, retry logic. Dogfooded via jc prompt agent."}
{"id":"jean_claude-29n","title":"Agent mailbox communication system","description":"## Agent Mailbox Communication System\n\nEnable inter-agent communication through a persistent mailbox system integrated with SDK hooks.\n\n### Storage Architecture\n- `agents/{workflow_id}/mailbox/inbox.jsonl` - Append-only incoming messages\n- `agents/{workflow_id}/mailbox/outbox.jsonl` - Append-only sent messages  \n- `agents/{workflow_id}/mailbox/inbox_count.json` - Quick unread check: {\"unread\": N, \"last_checked\": \"...\"}\n\n### Message Format (JSONL line)\n```json\n{\"id\": \"msg-001\", \"from\": \"beads-xyz\", \"to\": \"coordinator\", \"type\": \"help_request\", \"subject\": \"...\", \"body\": \"...\", \"priority\": \"urgent|normal|low\", \"created_at\": \"...\", \"awaiting_response\": true}\n```\n\n### SDK Hook Integration\n1. **SubagentStop hook** - Detects help requests when agent stops, notifies orchestrator via systemMessage\n2. **UserPromptSubmit hook** - Injects unread messages as additionalContext when agent resumes\n3. **PostToolUse hook** - Updates inbox_count when messages are written to mailbox paths\n\n### Priority Levels\n- `urgent`: Agent blocked, immediate attention needed\n- `normal`: Question/FYI, process at natural breakpoints  \n- `low`: Optional feedback, review when convenient\n\n### Agent Waiting Pattern\n1. Agent writes to outbox with awaiting_response=true\n2. Sets state.waiting_for_response=true\n3. Agent stops (SubagentStop hook fires, notifies coordinator)\n4. Coordinator reads message, writes response to agent inbox\n5. Agent resumes, UserPromptSubmit hook injects response\n\n---\n\n## Implementation Context\n\n### Files to Create\n- `src/jean_claude/core/mailbox.py` - Mailbox, Message Pydantic models, read/write helpers\n- `src/jean_claude/orchestration/mailbox_hooks.py` - SDK hook callbacks\n\n### Files to Modify  \n- `src/jean_claude/core/sdk_executor.py` - Register hooks in ClaudeAgentOptions\n- `src/jean_claude/orchestration/workflow_state.py` - Add waiting_for_response fields\n\n### Dependencies\n- Uses existing JSONL pattern from agent output logging\n- Integrates with WorkflowState for persistence\n- Hooks use claude_agent_sdk HookMatcher pattern\n\n### Error Handling\n- Gracefully handle missing/corrupted mailbox files\n- Create mailbox directory on first write\n- Log but don't fail if hook cannot read mailbox\n\n---\n\n## Acceptance Criteria\n- [ ] Agents can send messages to coordinator or other agents\n- [ ] Orchestrator receives notification when help is requested (via SubagentStop hook)\n- [ ] Agents see unread messages automatically on resume (via UserPromptSubmit hook)\n- [ ] Priority field routes urgent messages with systemMessage\n- [ ] Message history preserved in append-only JSONL\n- [ ] inbox_count.json enables quick unread check without parsing JSONL\n- [ ] State tracks waiting_for_response flag for blocked agents","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-26T18:11:57.670867-08:00","updated_at":"2025-12-27T07:32:13.047594-08:00","closed_at":"2025-12-27T07:32:13.047594-08:00","close_reason":"Closed"}
{"id":"jean_claude-2md","title":"Phase 1: Foundation \u0026 Core CLI","description":"","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-19T19:16:26.516979-08:00","updated_at":"2025-12-21T14:54:03.620297-08:00","closed_at":"2025-12-21T14:54:03.620297-08:00","close_reason":"Phase 1 complete! CLI with init, prompt, run commands. Agent execution with retry logic. Config and state management."}
{"id":"jean_claude-2sz","title":"Phase 3: Beads Integration \u0026 Monitoring","description":"Integrate Beads issue tracking with Jean Claude workflows to enable autonomous task execution with full observability. This phase connects the human contract layer (Beads tasks) with the agent implementation layer (features), adds comprehensive monitoring, and enables dogfooding the development process.","acceptance_criteria":"- [ ] jc work command can execute Beads tasks autonomously\n- [ ] Agent dynamically decomposes tasks into features\n- [ ] Real-time monitoring via CLI and TUI\n- [ ] Events logged to SQLite for analysis\n- [ ] Features map to commits with Beads traceability","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-23T18:58:35.14283-08:00","updated_at":"2025-12-28T07:52:37.262618-08:00","closed_at":"2025-12-28T07:52:37.262618-08:00","close_reason":"Closed"}
{"id":"jean_claude-2sz.1","title":"Add event logging infrastructure","description":"Create the foundational event logging system that powers all monitoring. Events should be written to both SQLite (.jc/events.db) and JSONL (agents/{id}/events.jsonl) for different query patterns.\n\n## Events to Support\n- workflow.started, workflow.phase_changed, workflow.completed\n- feature.planned, feature.started, feature.completed, feature.failed\n- agent.tool_use, agent.test_result, agent.error\n\n## Technical Approach\n- Create EventLogger class in src/jean_claude/core/events.py\n- Use SQLite with simple schema: id, timestamp, workflow_id, event_type, data (JSON)\n- Write JSONL in parallel for streaming/tailing\n- Provide async and sync interfaces\n\n## Context\n- .jc/ directory already created by jc init\n- Events should be queryable for metrics and dashboards\n- JSONL format enables 'tail -f' style monitoring","acceptance_criteria":"- [ ] EventLogger class with emit() method\n- [ ] Events written to .jc/events.db SQLite\n- [ ] Events written to agents/{workflow_id}/events.jsonl\n- [ ] Query methods: get_workflow_events(), get_recent_events()\n- [ ] Unit tests for event emission and querying","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T18:58:52.958888-08:00","updated_at":"2025-12-24T20:22:59.819632-08:00","closed_at":"2025-12-24T20:22:59.819632-08:00","close_reason":"Closed","dependencies":[{"issue_id":"jean_claude-2sz.1","depends_on_id":"jean_claude-2sz","type":"parent-child","created_at":"2025-12-23T18:58:52.962768-08:00","created_by":"daemon"}]}
{"id":"jean_claude-2sz.2","title":"Link WorkflowState to Beads tasks","description":"Extend WorkflowState to track which Beads task is being implemented. This creates the connection between human-defined work (Beads) and agent implementation (features).\n\n## Changes to WorkflowState\n- Add beads_task_id: Optional[str] field\n- Add beads_task_title: Optional[str] field  \n- Add phase: Literal['planning', 'implementing', 'verifying', 'complete'] field\n- Update save/load to persist these fields\n\n## Integration Points\n- When workflow starts, fetch Beads task details\n- Update Beads status to in_progress when workflow starts\n- Close Beads task when workflow completes successfully\n\n## Context\n- WorkflowState is in src/jean_claude/core/state.py\n- Beads CLI available via subprocess (bd show, bd update, bd close)\n- Should handle case where beads_task_id is None (non-Beads workflows)","acceptance_criteria":"- [ ] beads_task_id and beads_task_title fields added to WorkflowState\n- [ ] phase field with planning/implementing/verifying/complete states\n- [ ] Backward compatible - existing workflows without Beads still work\n- [ ] Tests for new fields and phase transitions","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T18:59:10.892246-08:00","updated_at":"2025-12-24T08:12:58.362837-08:00","closed_at":"2025-12-24T08:12:58.362837-08:00","close_reason":"Closed","dependencies":[{"issue_id":"jean_claude-2sz.2","depends_on_id":"jean_claude-2sz","type":"parent-child","created_at":"2025-12-23T18:59:10.895422-08:00","created_by":"daemon"}]}
{"id":"jean_claude-2sz.3","title":"Implement jc work command","description":"Create the main entry point for Beads-driven workflows. This command takes a Beads task ID, fetches the task details, and orchestrates the agent to autonomously implement it.\n\n## Command Interface\n```bash\njc work \u003cbeads-id\u003e              # Autonomous execution\njc work \u003cbeads-id\u003e --show-plan  # Show proposed features before implementing\njc work \u003cbeads-id\u003e --dry-run    # Plan only, don't implement\njc work \u003cbeads-id\u003e --model opus # Use Opus for both agents\n```\n\n## Internal Implementation Flow\n\n```python\ndef work(beads_task_id: str, ...):\n    # 1. Fetch task from Beads\n    task = fetch_beads_task(beads_task_id)  # bd show --json\n    \n    # 2. Generate spec from task\n    spec = generate_spec_from_beads(task)\n    spec_path = f\"specs/beads-{beads_task_id}.md\"\n    write_spec(spec_path, spec)\n    \n    # 3. Update Beads status\n    update_beads_status(beads_task_id, \"in_progress\")\n    \n    # 4. Emit workflow.started event\n    event_logger.emit(workflow_id, \"workflow.started\", {...})\n    \n    # 5. Run workflow (reuse existing machinery)\n    result = run_workflow(\n        spec_file=spec_path,\n        workflow_id=f\"beads-{beads_task_id}\",\n    )\n    \n    # 6. Update Beads on completion\n    if result.success:\n        close_beads_task(beads_task_id)\n        event_logger.emit(workflow_id, \"workflow.completed\", {...})\n    \n    return result\n```\n\n## Spec Generation from Beads\n\nThe generate_spec_from_beads() function should:\n- Extract task title → workflow name\n- Extract description → detailed requirements\n- Extract acceptance criteria → test requirements\n- Format as markdown spec compatible with jc workflow\n\n## Workflow Phases\n1. PLANNING: Agent analyzes task, proposes features\n2. IMPLEMENTING: Agent implements features iteratively  \n3. VERIFYING: Agent confirms task requirements met\n4. COMPLETE: Beads task closed\n\n## Agent Prompt Design\n- Include Feature Decomposition Principles in prompt\n- Emphasize agent autonomy in determining feature count\n- Provide guidance on what makes a good feature\n- Allow agent to add features during implementation\n\n## Context\n- Use existing two-agent pattern as reference (src/jean_claude/orchestration/two_agent.py)\n- Integrate with EventLogger for monitoring\n- Update WorkflowState throughout execution (including beads_task_id, phase)\n- Commit after each feature with Beads ID in message\n\n## Files to Create/Modify\n- src/jean_claude/cli/commands/work.py - New CLI command\n- src/jean_claude/core/beads.py - Beads integration utilities\n- src/jean_claude/templates/beads_spec.md - Spec generation template","acceptance_criteria":"- [ ] jc work \u003cbeads-id\u003e command implemented\n- [ ] --show-plan flag pauses after planning for approval\n- [ ] --dry-run flag plans without implementing\n- [ ] --model flag to override agent models\n- [ ] Auto-generate spec file from Beads task details\n- [ ] Store beads_task_id and beads_task_title in WorkflowState\n- [ ] Update phase field through planning/implementing/verifying/complete\n- [ ] Agent prompt includes Feature Decomposition Principles\n- [ ] Events emitted for workflow/feature transitions\n- [ ] Each feature results in a git commit with Beads ID\n- [ ] Beads task status updated (in_progress -\u003e closed on success)\n- [ ] Tests for CLI command and Beads integration","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-23T18:59:30.362695-08:00","updated_at":"2025-12-28T07:52:13.521061-08:00","closed_at":"2025-12-28T07:52:13.521061-08:00","close_reason":"Closed","dependencies":[{"issue_id":"jean_claude-2sz.3","depends_on_id":"jean_claude-2sz","type":"parent-child","created_at":"2025-12-23T18:59:30.367739-08:00","created_by":"daemon"},{"issue_id":"jean_claude-2sz.3","depends_on_id":"jean_claude-2sz.1","type":"blocks","created_at":"2025-12-23T19:02:31.493906-08:00","created_by":"daemon"},{"issue_id":"jean_claude-2sz.3","depends_on_id":"jean_claude-2sz.2","type":"blocks","created_at":"2025-12-23T19:02:31.706389-08:00","created_by":"daemon"}]}
{"id":"jean_claude-2sz.4","title":"Implement jc status command","description":"Create a CLI command to check the status of running or completed workflows. This enables both humans and Claude to quickly check workflow progress.\n\n## Command Interface\n```bash\njc status                    # Show current/most recent workflow\njc status \u003cworkflow-id\u003e      # Show specific workflow\njc status --json             # Machine-readable output for scripting\njc status --all              # List all workflows with summary\n```\n\n## Output Format (human-readable)\n```\nWorkflow: jean_claude-abc123\nTask: Add user authentication [P0, feature]\nPhase: implementing\nProgress: ████████░░░░ 4/7 features (57%)\n\nFeatures:\n  ✓ Create User model              2m 14s\n  ✓ Add password hashing           1m 03s\n  ✓ Implement registration         3m 45s\n  → Implement login endpoint       1m 22s (in progress)\n  ○ Add JWT middleware             pending\n  ○ Protect routes                 pending\n  ○ Add refresh tokens             pending\n\nDuration: 8m 23s | Cost: $0.42\n```\n\n## Context\n- Read from WorkflowState files in agents/{id}/\n- Query events.db for timing/metrics\n- Should work even while workflow is running","acceptance_criteria":"- [ ] jc status shows current workflow\n- [ ] jc status \u003cid\u003e shows specific workflow\n- [ ] --json flag outputs machine-readable format\n- [ ] Shows feature progress with status icons\n- [ ] Shows duration and cost metrics\n- [ ] Works for both running and completed workflows","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T18:59:48.595571-08:00","updated_at":"2025-12-24T20:22:15.761662-08:00","closed_at":"2025-12-24T20:22:15.761662-08:00","close_reason":"Closed","dependencies":[{"issue_id":"jean_claude-2sz.4","depends_on_id":"jean_claude-2sz","type":"parent-child","created_at":"2025-12-23T18:59:48.598114-08:00","created_by":"daemon"},{"issue_id":"jean_claude-2sz.4","depends_on_id":"jean_claude-2sz.1","type":"blocks","created_at":"2025-12-23T19:02:31.926529-08:00","created_by":"daemon"}]}
{"id":"jean_claude-2sz.5","title":"Implement jc logs command","description":"Create a command to view and tail workflow logs. This enables real-time monitoring of agent activity.\n\n## Command Interface\n```bash\njc logs                      # Show recent logs from current workflow\njc logs \u003cworkflow-id\u003e        # Show logs from specific workflow\njc logs --follow             # Tail logs in real-time (like tail -f)\njc logs --since 5m           # Show logs from last 5 minutes\njc logs --level info         # Filter by log level\n```\n\n## Log Format\n```\n12:34:01 [INFO]  workflow.started workflow_id=abc123 beads_task=poc-xyz\n12:34:02 [INFO]  feature.planned feature_id=f1 description=\"Create User model\"\n12:34:03 [DEBUG] agent.tool_use tool=Read target=src/models/__init__.py\n12:34:10 [DEBUG] agent.tool_use tool=Write target=src/models/user.py lines=45\n12:34:45 [INFO]  agent.test_result passed=3 failed=0\n12:34:50 [INFO]  feature.completed feature_id=f1 duration=48s\n```\n\n## Context\n- Read from agents/{id}/events.jsonl for streaming\n- Use rich for colored terminal output\n- --follow should use file watching or polling","acceptance_criteria":"- [ ] jc logs shows recent workflow logs\n- [ ] --follow flag enables real-time tailing\n- [ ] --since flag filters by time\n- [ ] Colored output with log levels\n- [ ] Works with both running and completed workflows","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T19:00:14.457757-08:00","updated_at":"2025-12-24T20:34:37.017396-08:00","closed_at":"2025-12-24T20:34:37.017396-08:00","close_reason":"Closed","dependencies":[{"issue_id":"jean_claude-2sz.5","depends_on_id":"jean_claude-2sz","type":"parent-child","created_at":"2025-12-23T19:00:14.460885-08:00","created_by":"daemon"},{"issue_id":"jean_claude-2sz.5","depends_on_id":"jean_claude-2sz.1","type":"blocks","created_at":"2025-12-23T19:02:32.164791-08:00","created_by":"daemon"}]}
{"id":"jean_claude-2sz.6","title":"Implement jc monitor TUI dashboard","description":"Create a Textual-based TUI for live workflow monitoring. This provides a rich, real-time view of workflow progress without leaving the terminal.\n\n## Features\n- Live-updating progress bar\n- Feature list with status indicators (✓ ○ →)\n- Activity log panel with auto-scroll\n- Metrics panel (duration, cost, tokens)\n- Keyboard shortcuts (q=quit, f=focus feature, l=focus logs)\n\n## Layout\n```\n┌─ jc monitor ─────────────────────────────────────────────────────┐\n│ Workflow: poc-abc123 - Add user authentication                  │\n│ Phase: implementing  ████████████░░░░░░░░ 4/7 features (57%)   │\n├─ Features ───────────────────────────────────────────────────────┤\n│ ✓ Create User model              2m 14s   3 files               │\n│ ✓ Add password hashing           1m 03s   2 files               │\n│ → Implement login endpoint       1m 22s   ...                   │\n│ ○ Add JWT middleware             pending                        │\n├─ Activity ───────────────────────────────────────────────────────┤\n│ 12:34:15 Writing src/api/auth.py                                │\n│ 12:34:18 Running pytest tests/test_auth.py                      │\n│ 12:34:22 ✓ Tests passed (5/5)                                   │\n├──────────────────────────────────────────────────────────────────┤\n│ Duration: 8m 23s │ Cost: $0.42 │ Tokens: 45,231   [q]uit [h]elp│\n└──────────────────────────────────────────────────────────────────┘\n```\n\n## Context\n- Add textual to dependencies in pyproject.toml\n- Watch events.jsonl for live updates\n- Gracefully handle workflow completion","acceptance_criteria":"- [ ] TUI launches with jc monitor\n- [ ] Live progress bar updates\n- [ ] Feature list with status icons\n- [ ] Activity log with auto-scroll\n- [ ] Keyboard navigation works\n- [ ] Graceful exit on workflow completion","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T19:00:36.872736-08:00","updated_at":"2025-12-24T21:38:46.445969-08:00","closed_at":"2025-12-24T21:38:46.445969-08:00","close_reason":"Pivoting from TUI to web dashboard for better debuggability with Puppeteer","dependencies":[{"issue_id":"jean_claude-2sz.6","depends_on_id":"jean_claude-2sz","type":"parent-child","created_at":"2025-12-23T19:00:36.876358-08:00","created_by":"daemon"},{"issue_id":"jean_claude-2sz.6","depends_on_id":"jean_claude-2sz.4","type":"blocks","created_at":"2025-12-23T19:02:32.390652-08:00","created_by":"daemon"},{"issue_id":"jean_claude-2sz.6","depends_on_id":"jean_claude-2sz.5","type":"blocks","created_at":"2025-12-23T19:02:32.609378-08:00","created_by":"daemon"}]}
{"id":"jean_claude-2sz.7","title":"Add Beads task validation","description":"Validate Beads tasks before starting work to catch quality issues early. Poor task descriptions lead to poor implementations.\n\n## Validation Checks\n- Description length (warn if \u003c 50 chars)\n- Presence of acceptance criteria\n- Mention of tests/verification\n- Valid priority and type\n\n## Behavior Options\n```bash\njc work poc-abc123              # Warn but proceed\njc work poc-abc123 --strict     # Fail if validation warnings\n```\n\n## Warning Output\n```\n⚠️  Task may need more detail:\n   - Description is only 12 words (recommend 50+)\n   - No acceptance criteria found\n   - No mention of tests\n\nOptions:\n  [1] Proceed anyway (agent will make assumptions)\n  [2] Open task for editing (bd edit poc-abc123)\n  [3] Cancel\n```\n\n## Agent Clarification\nIf task is too vague, agent could generate clarifying questions before starting:\n```\nBefore I start \"Add auth\", I have questions:\n1. What auth mechanism? (JWT, sessions, OAuth)\n2. What endpoints? (register, login, logout, reset)\n3. Should I add tests?\n```\n\n## Context\n- Validation runs in jc work before agent starts\n- Could also be a standalone command: jc validate poc-abc123","acceptance_criteria":"- [ ] Validation checks description quality\n- [ ] Warns about missing acceptance criteria\n- [ ] --strict flag fails on warnings\n- [ ] Interactive prompt for proceed/edit/cancel\n- [ ] Agent can ask clarifying questions for vague tasks","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T19:00:59.346274-08:00","updated_at":"2025-12-28T07:52:14.159623-08:00","closed_at":"2025-12-28T07:52:14.159623-08:00","close_reason":"Closed","dependencies":[{"issue_id":"jean_claude-2sz.7","depends_on_id":"jean_claude-2sz","type":"parent-child","created_at":"2025-12-23T19:00:59.348809-08:00","created_by":"daemon"},{"issue_id":"jean_claude-2sz.7","depends_on_id":"jean_claude-2sz.3","type":"blocks","created_at":"2025-12-23T19:02:32.822533-08:00","created_by":"daemon"}]}
{"id":"jean_claude-2sz.8","title":"Feature-to-commit integration","description":"Ensure each completed feature results in a well-formed git commit with Beads traceability.\n\n## Commit Message Format\n```\nfeat(auth): create User model with password hashing\n\n- Add User model with email, hashed_password fields\n- Create Alembic migration for users table\n- Implement bcrypt password hashing utility\n\nBeads: jean_claude-abc123\nFeature: 1/4\n```\n\n## Commit Workflow\n1. Feature implementation completes\n2. Run tests to verify\n3. Stage relevant files (agent determines which)\n4. Generate commit message following conventional commits\n5. Include Beads task ID as trailer\n6. Include feature number for context\n\n## Agent Guidance\nPrompt should instruct agent to:\n- Use conventional commit prefixes (feat, fix, refactor, test, docs)\n- Scope to the feature area (auth, api, models)\n- Write meaningful commit body\n- Always include Beads trailer\n\n## Context\n- Agent already has git access via Bash tool\n- Should integrate with existing commit patterns\n- Don't commit if tests fail","acceptance_criteria":"- [ ] Each feature produces exactly one commit\n- [ ] Commit messages follow conventional commits format\n- [ ] Beads task ID included as trailer\n- [ ] Feature number included for ordering\n- [ ] Tests must pass before commit\n- [ ] Commit only relevant files (not entire worktree)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-23T19:01:24.530051-08:00","updated_at":"2025-12-27T07:32:13.205962-08:00","closed_at":"2025-12-27T07:32:13.205962-08:00","close_reason":"Closed","dependencies":[{"issue_id":"jean_claude-2sz.8","depends_on_id":"jean_claude-2sz","type":"parent-child","created_at":"2025-12-23T19:01:24.534082-08:00","created_by":"daemon"},{"issue_id":"jean_claude-2sz.8","depends_on_id":"jean_claude-2sz.3","type":"blocks","created_at":"2025-12-23T19:02:33.014937-08:00","created_by":"daemon"}]}
{"id":"jean_claude-2sz.9","title":"Implement jc dashboard web UI","description":"Create a FastAPI + HTMX + Tailwind web dashboard for live workflow monitoring. This provides a rich, real-time view of workflow progress accessible from any browser.\n\n## Why Web Instead of TUI\n- Puppeteer MCP tools enable screenshot-driven debugging\n- SSE + HTMX provides elegant real-time updates\n- Tailwind CSS for beautiful, responsive styling\n- Shareable across browsers without terminal access\n\n## Command Interface\n```bash\njc dashboard                    # Start server on localhost:8765\njc dashboard --port 9000        # Custom port\njc dashboard --workflow abc123  # Auto-open specific workflow\n```\n\n## API Endpoints\n- GET /                  → Dashboard HTML (Jinja2 + Tailwind)\n- GET /api/status/{id}   → Workflow state JSON\n- GET /api/events/{id}   → SSE stream for real-time logs\n- GET /api/workflows     → List all workflows\n\n## Dashboard Features\n- Live-updating progress bar (HTMX polling every 2s)\n- Feature list with Tailwind status badges\n- Log stream panel via SSE (real-time)\n- Workflow selector sidebar\n- Duration, cost, token metrics\n\n## Technical Stack\n- FastAPI for the server\n- Jinja2 templates with Tailwind CSS\n- HTMX for interactivity (hx-get, hx-sse)\n- SSE for log streaming (replaces jc logs --follow)\n\n## Context\n- Reads from agents/{workflow_id}/state.json and events.jsonl\n- Uses existing EventLogger infrastructure\n- Can be debugged with Puppeteer screenshots","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-24T21:38:47.137381-08:00","updated_at":"2025-12-25T07:46:48.353205-08:00","closed_at":"2025-12-25T07:46:48.353205-08:00","close_reason":"Closed","dependencies":[{"issue_id":"jean_claude-2sz.9","depends_on_id":"jean_claude-2sz","type":"parent-child","created_at":"2025-12-24T21:38:47.143184-08:00","created_by":"daemon"},{"issue_id":"jean_claude-2sz.9","depends_on_id":"jean_claude-2sz.5","type":"blocks","created_at":"2025-12-24T21:39:01.025067-08:00","created_by":"daemon"}]}
{"id":"jean_claude-3se","title":"Verification-first mode","description":"Add verification step before starting new work. Run existing tests, check for regressions. Only proceed to new features after green. Prevents regression cascades in long-running workflows.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T15:18:09.763492-08:00","updated_at":"2025-12-21T16:25:40.021086-08:00","closed_at":"2025-12-21T16:25:40.021086-08:00","close_reason":"Verification-first mode implemented. Runs pytest on completed feature tests, parses failures, timeout-based refresh. 19 tests passing.","dependencies":[{"issue_id":"jean_claude-3se","depends_on_id":"jean_claude-snq","type":"blocks","created_at":"2025-12-21T15:18:27.99733-08:00","created_by":"daemon"}]}
{"id":"jean_claude-7qu","title":"Implement .jc-project.yaml configuration schema","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T19:16:39.253446-08:00","updated_at":"2025-12-19T19:33:08.494929-08:00","closed_at":"2025-12-19T19:33:08.494929-08:00","close_reason":"ProjectConfig with Pydantic models already implemented in src/jean_claude/config/models.py"}
{"id":"jean_claude-8sn","title":"Feature-based progress tracking","description":"Replace arbitrary metrics with feature-based progress. Track features as meaningful units of work, not test counts. Progress should be flexible based on actual project scope, not hardcoded numbers.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T15:18:08.609736-08:00","updated_at":"2025-12-21T15:39:58.677715-08:00","closed_at":"2025-12-21T15:39:58.677715-08:00","close_reason":"Implemented in state.py - Feature model with progress_percentage property, get_summary(), flexible tracking based on actual features not hardcoded counts.","dependencies":[{"issue_id":"jean_claude-8sn","depends_on_id":"jean_claude-snq","type":"blocks","created_at":"2025-12-21T15:18:26.325039-08:00","created_by":"daemon"}]}
{"id":"jean_claude-bdu","title":"Phase 2: SDK Integration \u0026 Autonomous Workflows","description":"Integrate Claude Agent SDK for proper async execution, streaming, and hooks. Implement autonomous workflow patterns from Anthropic quickstarts: two-agent handoff, file-based state, verification-first approach, and feature-based progress tracking.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-21T15:17:40.854753-08:00","updated_at":"2025-12-21T18:04:07.664595-08:00","closed_at":"2025-12-21T18:04:07.664595-08:00","close_reason":"Phase 2 complete! SDK integration, security hooks, verification mode, auto-continue, streaming, two-agent pattern. 121 tests."}
{"id":"jean_claude-c2s","title":"Port agent execution module to new structure","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T19:16:28.196482-08:00","updated_at":"2025-12-21T14:43:48.269188-08:00","closed_at":"2025-12-21T14:43:48.269188-08:00","close_reason":"Agent execution module ported with RetryCode, ExecutionResult, PromptRequest, TemplateRequest, execute_prompt, execute_template","dependencies":[{"issue_id":"jean_claude-c2s","depends_on_id":"jean_claude-sli","type":"blocks","created_at":"2025-12-19T19:17:15.083526-08:00","created_by":"daemon"}]}
{"id":"jean_claude-e4f","title":"Port state management module","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T19:16:28.773075-08:00","updated_at":"2025-12-19T19:33:07.399007-08:00","closed_at":"2025-12-19T19:33:07.399007-08:00","close_reason":"WorkflowState with JSON persistence already implemented in src/jean_claude/core/state.py","dependencies":[{"issue_id":"jean_claude-e4f","depends_on_id":"jean_claude-sli","type":"blocks","created_at":"2025-12-19T19:17:15.642078-08:00","created_by":"daemon"}]}
{"id":"jean_claude-fv8","title":"Implement jc init command","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T19:16:29.355768-08:00","updated_at":"2025-12-21T12:56:07.861867-08:00","closed_at":"2025-12-21T12:56:07.861867-08:00","close_reason":"jc init command implemented with directory creation, config generation, gitignore update, and auto-detection","dependencies":[{"issue_id":"jean_claude-fv8","depends_on_id":"jean_claude-xzc","type":"blocks","created_at":"2025-12-19T19:17:16.193044-08:00","created_by":"daemon"}]}
{"id":"jean_claude-g4m","title":"Two-agent pattern for complex workflows","description":"Implement initializer + coding agent pattern for large features. Initializer creates feature list upfront, coding agent executes one at a time. Enables context-efficient long-running tasks.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T15:18:09.194185-08:00","updated_at":"2025-12-21T18:04:07.066511-08:00","closed_at":"2025-12-21T18:04:07.066511-08:00","close_reason":"Two-agent pattern: Opus initializer + Sonnet coder. jc workflow command with feature list JSON. 11 tests passing.","dependencies":[{"issue_id":"jean_claude-g4m","depends_on_id":"jean_claude-ghy","type":"blocks","created_at":"2025-12-21T15:18:26.884908-08:00","created_by":"daemon"},{"issue_id":"jean_claude-g4m","depends_on_id":"jean_claude-8sn","type":"blocks","created_at":"2025-12-21T15:18:27.447582-08:00","created_by":"daemon"}]}
{"id":"jean_claude-ghy","title":"Add auto-continue workflow support","description":"Implement loop-based workflow execution that continues until completion or max iterations. Handle session handoffs gracefully. Pattern from autonomous-coding quickstart auto-continue loop.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T15:18:08.059508-08:00","updated_at":"2025-12-21T16:25:40.636114-08:00","closed_at":"2025-12-21T16:25:40.636114-08:00","close_reason":"Auto-continue orchestrator with Rich progress, signal handling, state persistence. Loop until complete or max iterations. 20 tests passing.","dependencies":[{"issue_id":"jean_claude-ghy","depends_on_id":"jean_claude-0p1","type":"blocks","created_at":"2025-12-21T15:18:25.251852-08:00","created_by":"daemon"},{"issue_id":"jean_claude-ghy","depends_on_id":"jean_claude-snq","type":"blocks","created_at":"2025-12-21T15:18:25.789338-08:00","created_by":"daemon"}]}
{"id":"jean_claude-n3g","title":"Streaming output support","description":"Add real-time streaming output to CLI commands. Show progress as agent works instead of waiting for completion. Requires SDK integration for proper streaming events.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T15:18:10.351069-08:00","updated_at":"2025-12-21T18:04:06.402471-08:00","closed_at":"2025-12-21T18:04:06.402471-08:00","close_reason":"Streaming output with Rich Live display, --stream flag, tool tracking. 12 tests passing.","dependencies":[{"issue_id":"jean_claude-n3g","depends_on_id":"jean_claude-0p1","type":"blocks","created_at":"2025-12-21T15:18:28.546143-08:00","created_by":"daemon"}]}
{"id":"jean_claude-rb8","title":"Implement jc run command for workflows","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T19:16:38.093767-08:00","updated_at":"2025-12-21T14:53:56.043202-08:00","closed_at":"2025-12-21T14:53:56.043202-08:00","close_reason":"Implemented via dogfooding with jc prompt. Supports chore/feature/bug workflows with model selection and Rich formatting.","dependencies":[{"issue_id":"jean_claude-rb8","depends_on_id":"jean_claude-xzc","type":"blocks","created_at":"2025-12-19T19:17:25.14393-08:00","created_by":"daemon"},{"issue_id":"jean_claude-rb8","depends_on_id":"jean_claude-um5","type":"blocks","created_at":"2025-12-19T19:17:25.334702-08:00","created_by":"daemon"}]}
{"id":"jean_claude-sli","title":"Create proper Python package structure with pyproject.toml","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-19T19:16:27.0665-08:00","updated_at":"2025-12-19T19:30:17.401438-08:00","closed_at":"2025-12-19T19:30:17.401438-08:00","close_reason":"Package structure created with src layout, CLI entry point, and core module stubs"}
{"id":"jean_claude-snq","title":"Enhanced workflow state persistence","description":"Upgrade workflow state file with feature lists, progress tracking, and resume capability. JSON-based state machine that survives context resets. Structure from autonomous-coding quickstart.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T15:18:10.946424-08:00","updated_at":"2025-12-21T15:39:41.415532-08:00","closed_at":"2025-12-21T15:39:41.415532-08:00","close_reason":"Enhanced WorkflowState with feature-based progress tracking. Added Feature model, lifecycle methods, session tracking, 19 tests. Dogfooded via jc prompt."}
{"id":"jean_claude-um5","title":"Create Jinja2 template system for workflow prompts","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T19:16:38.666484-08:00","updated_at":"2025-12-19T19:33:07.954797-08:00","closed_at":"2025-12-19T19:33:07.954797-08:00","close_reason":"TemplateRenderer with Jinja2 already implemented in src/jean_claude/core/templates.py"}
{"id":"jean_claude-v3h","title":"Implement pre-tool-use security hooks","description":"Add security hooks that validate commands before execution. Implement bash command allowlist per workflow type. Defense-in-depth pattern from autonomous-coding quickstart.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T15:18:07.494788-08:00","updated_at":"2025-12-21T16:25:39.419932-08:00","closed_at":"2025-12-21T16:25:39.419932-08:00","close_reason":"Security hooks implemented with per-workflow allowlists, shlex parsing, SDK hook integration. 18+ tests passing.","dependencies":[{"issue_id":"jean_claude-v3h","depends_on_id":"jean_claude-0p1","type":"blocks","created_at":"2025-12-21T15:18:24.707578-08:00","created_by":"daemon"}]}
{"id":"jean_claude-vzw","title":"Implement jc prompt command","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T19:16:37.543033-08:00","updated_at":"2025-12-21T14:49:31.113681-08:00","closed_at":"2025-12-21T14:49:31.113681-08:00","close_reason":"jc prompt command implemented with model selection, output directory, raw mode, and Rich formatting","dependencies":[{"issue_id":"jean_claude-vzw","depends_on_id":"jean_claude-xzc","type":"blocks","created_at":"2025-12-19T19:17:24.360162-08:00","created_by":"daemon"},{"issue_id":"jean_claude-vzw","depends_on_id":"jean_claude-c2s","type":"blocks","created_at":"2025-12-19T19:17:24.582503-08:00","created_by":"daemon"}]}
{"id":"jean_claude-xzc","title":"Implement Click CLI skeleton with jc command","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-19T19:16:27.632097-08:00","updated_at":"2025-12-19T19:32:19.196322-08:00","closed_at":"2025-12-19T19:32:19.196322-08:00","close_reason":"Basic CLI skeleton created with Click, version command working. Subcommands will be added by dependent tasks.","dependencies":[{"issue_id":"jean_claude-xzc","depends_on_id":"jean_claude-sli","type":"blocks","created_at":"2025-12-19T19:17:14.510908-08:00","created_by":"daemon"}]}
