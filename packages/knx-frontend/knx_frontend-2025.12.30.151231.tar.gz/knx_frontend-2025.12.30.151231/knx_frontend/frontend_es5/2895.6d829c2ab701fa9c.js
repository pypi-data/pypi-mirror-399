/*! For license information please see 2895.6d829c2ab701fa9c.js.LICENSE.txt */
"use strict";(self.webpackChunkknx_frontend=self.webpackChunkknx_frontend||[]).push([["2895"],{11896:function(t,i,e){e.d(i,{u:function(){return v}});var s,o,n=e(44734),r=e(56038),a=e(69683),h=e(6454),l=(e(2892),e(62826)),d=e(68846),u=e(96196),c=e(77845),p=e(94333),_=e(32288),f=e(60893),g=t=>t,m={fromAttribute(t){return null!==t&&(""===t||t)},toAttribute(t){return"boolean"==typeof t?t?"":null:t}},v=function(t){function i(){var t;return(0,n.A)(this,i),(t=(0,a.A)(this,i,arguments)).rows=2,t.cols=20,t.charCounter=!1,t}return(0,h.A)(i,t),(0,r.A)(i,[{key:"render",value:function(){var t=this.charCounter&&-1!==this.maxLength,i=t&&"internal"===this.charCounter,e=t&&!i,o=!!this.helper||!!this.validationMessage||e,n={"mdc-text-field--disabled":this.disabled,"mdc-text-field--no-label":!this.label,"mdc-text-field--filled":!this.outlined,"mdc-text-field--outlined":this.outlined,"mdc-text-field--end-aligned":this.endAligned,"mdc-text-field--with-internal-counter":i};return(0,u.qy)(s||(s=g`
      <label class="mdc-text-field mdc-text-field--textarea ${0}">
        ${0}
        ${0}
        ${0}
        ${0}
        ${0}
      </label>
      ${0}
    `),(0,p.H)(n),this.renderRipple(),this.outlined?this.renderOutline():this.renderLabel(),this.renderInput(),this.renderCharCounter(i),this.renderLineRipple(),this.renderHelperText(o,e))}},{key:"renderInput",value:function(){var t=this.label?"label":void 0,i=-1===this.minLength?void 0:this.minLength,e=-1===this.maxLength?void 0:this.maxLength,s=this.autocapitalize?this.autocapitalize:void 0;return(0,u.qy)(o||(o=g`
      <textarea
          aria-labelledby=${0}
          class="mdc-text-field__input"
          .value="${0}"
          rows="${0}"
          cols="${0}"
          ?disabled="${0}"
          placeholder="${0}"
          ?required="${0}"
          ?readonly="${0}"
          minlength="${0}"
          maxlength="${0}"
          name="${0}"
          inputmode="${0}"
          autocapitalize="${0}"
          @input="${0}"
          @blur="${0}">
      </textarea>`),(0,_.J)(t),(0,f.V)(this.value),this.rows,this.cols,this.disabled,this.placeholder,this.required,this.readOnly,(0,_.J)(i),(0,_.J)(e),(0,_.J)(""===this.name?void 0:this.name),(0,_.J)(this.inputMode),(0,_.J)(s),this.handleInputChange,this.onInputBlur)}}])}(d.J);(0,l.__decorate)([(0,c.P)("textarea")],v.prototype,"formElement",void 0),(0,l.__decorate)([(0,c.MZ)({type:Number})],v.prototype,"rows",void 0),(0,l.__decorate)([(0,c.MZ)({type:Number})],v.prototype,"cols",void 0),(0,l.__decorate)([(0,c.MZ)({converter:m})],v.prototype,"charCounter",void 0)},75057:function(t,i,e){e.d(i,{R:function(){return o}});var s,o=(0,e(96196).AH)(s||(s=(t=>t)`.mdc-text-field{height:100%}.mdc-text-field__input{resize:none}`))},61171:function(t,i,e){var s,o=e(96196);i.A=(0,o.AH)(s||(s=(t=>t)`:host {
  --max-width: 30ch;
  display: inline-block;
  position: absolute;
  color: var(--wa-tooltip-content-color);
  font-size: var(--wa-tooltip-font-size);
  line-height: var(--wa-tooltip-line-height);
  text-align: start;
  white-space: normal;
}
.tooltip {
  --arrow-size: var(--wa-tooltip-arrow-size);
  --arrow-color: var(--wa-tooltip-background-color);
}
.tooltip::part(popup) {
  z-index: 1000;
}
.tooltip[placement^=top]::part(popup) {
  transform-origin: bottom;
}
.tooltip[placement^=bottom]::part(popup) {
  transform-origin: top;
}
.tooltip[placement^=left]::part(popup) {
  transform-origin: right;
}
.tooltip[placement^=right]::part(popup) {
  transform-origin: left;
}
.body {
  display: block;
  width: max-content;
  max-width: var(--max-width);
  border-radius: var(--wa-tooltip-border-radius);
  background-color: var(--wa-tooltip-background-color);
  border: var(--wa-tooltip-border-width) var(--wa-tooltip-border-style) var(--wa-tooltip-border-color);
  padding: 0.25em 0.5em;
  user-select: none;
  -webkit-user-select: none;
}
.tooltip::part(arrow) {
  border-bottom: var(--wa-tooltip-border-width) var(--wa-tooltip-border-style) var(--wa-tooltip-border-color);
  border-right: var(--wa-tooltip-border-width) var(--wa-tooltip-border-style) var(--wa-tooltip-border-color);
}
`))},52630:function(t,i,e){e.a(t,(async function(t,s){try{e.d(i,{A:function(){return L}});var o=e(61397),n=e(50264),r=e(44734),a=e(56038),h=e(69683),l=e(6454),d=e(25460),u=(e(2008),e(74423),e(44114),e(18111),e(22489),e(2892),e(26099),e(27495),e(90744),e(96196)),c=e(77845),p=e(94333),_=e(17051),f=e(42462),g=e(28438),m=e(98779),v=e(27259),y=e(984),w=e(53720),b=e(9395),k=e(32510),z=e(40158),S=e(61171),D=t([z]);z=(D.then?(await D)():D)[0];var M,A=t=>t,x=Object.defineProperty,C=Object.getOwnPropertyDescriptor,P=(t,i,e,s)=>{for(var o,n=s>1?void 0:s?C(i,e):i,r=t.length-1;r>=0;r--)(o=t[r])&&(n=(s?o(i,e,n):o(n))||n);return s&&n&&x(i,e,n),n},L=function(t){function i(){var t;return(0,r.A)(this,i),(t=(0,h.A)(this,i,arguments)).placement="top",t.disabled=!1,t.distance=8,t.open=!1,t.skidding=0,t.showDelay=150,t.hideDelay=0,t.trigger="hover focus",t.withoutArrow=!1,t.for=null,t.anchor=null,t.eventController=new AbortController,t.handleBlur=()=>{t.hasTrigger("focus")&&t.hide()},t.handleClick=()=>{t.hasTrigger("click")&&(t.open?t.hide():t.show())},t.handleFocus=()=>{t.hasTrigger("focus")&&t.show()},t.handleDocumentKeyDown=i=>{"Escape"===i.key&&(i.stopPropagation(),t.hide())},t.handleMouseOver=()=>{t.hasTrigger("hover")&&(clearTimeout(t.hoverTimeout),t.hoverTimeout=window.setTimeout((()=>t.show()),t.showDelay))},t.handleMouseOut=()=>{t.hasTrigger("hover")&&(clearTimeout(t.hoverTimeout),t.hoverTimeout=window.setTimeout((()=>t.hide()),t.hideDelay))},t}return(0,l.A)(i,t),(0,a.A)(i,[{key:"connectedCallback",value:function(){(0,d.A)(i,"connectedCallback",this,3)([]),this.eventController.signal.aborted&&(this.eventController=new AbortController),this.open&&(this.open=!1,this.updateComplete.then((()=>{this.open=!0}))),this.id||(this.id=(0,w.N)("wa-tooltip-")),this.for&&this.anchor?(this.anchor=null,this.handleForChange()):this.for&&this.handleForChange()}},{key:"disconnectedCallback",value:function(){(0,d.A)(i,"disconnectedCallback",this,3)([]),document.removeEventListener("keydown",this.handleDocumentKeyDown),this.eventController.abort(),this.anchor&&this.removeFromAriaLabelledBy(this.anchor,this.id)}},{key:"firstUpdated",value:function(){this.body.hidden=!this.open,this.open&&(this.popup.active=!0,this.popup.reposition())}},{key:"hasTrigger",value:function(t){return this.trigger.split(" ").includes(t)}},{key:"addToAriaLabelledBy",value:function(t,i){var e=(t.getAttribute("aria-labelledby")||"").split(/\s+/).filter(Boolean);e.includes(i)||(e.push(i),t.setAttribute("aria-labelledby",e.join(" ")))}},{key:"removeFromAriaLabelledBy",value:function(t,i){var e=(t.getAttribute("aria-labelledby")||"").split(/\s+/).filter(Boolean).filter((t=>t!==i));e.length>0?t.setAttribute("aria-labelledby",e.join(" ")):t.removeAttribute("aria-labelledby")}},{key:"handleOpenChange",value:(b=(0,n.A)((0,o.A)().m((function t(){var i,e;return(0,o.A)().w((function(t){for(;;)switch(t.n){case 0:if(!this.open){t.n=4;break}if(!this.disabled){t.n=1;break}return t.a(2);case 1:if(i=new m.k,this.dispatchEvent(i),!i.defaultPrevented){t.n=2;break}return this.open=!1,t.a(2);case 2:return document.addEventListener("keydown",this.handleDocumentKeyDown,{signal:this.eventController.signal}),this.body.hidden=!1,this.popup.active=!0,t.n=3,(0,v.Ud)(this.popup.popup,"show-with-scale");case 3:this.popup.reposition(),this.dispatchEvent(new f.q),t.n=7;break;case 4:if(e=new g.L,this.dispatchEvent(e),!e.defaultPrevented){t.n=5;break}return this.open=!1,t.a(2);case 5:return document.removeEventListener("keydown",this.handleDocumentKeyDown),t.n=6,(0,v.Ud)(this.popup.popup,"hide-with-scale");case 6:this.popup.active=!1,this.body.hidden=!0,this.dispatchEvent(new _.Z);case 7:return t.a(2)}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"handleForChange",value:function(){var t=this.getRootNode();if(t){var i=this.for?t.getElementById(this.for):null,e=this.anchor;if(i!==e){var s=this.eventController.signal;i&&(this.addToAriaLabelledBy(i,this.id),i.addEventListener("blur",this.handleBlur,{capture:!0,signal:s}),i.addEventListener("focus",this.handleFocus,{capture:!0,signal:s}),i.addEventListener("click",this.handleClick,{signal:s}),i.addEventListener("mouseover",this.handleMouseOver,{signal:s}),i.addEventListener("mouseout",this.handleMouseOut,{signal:s})),e&&(this.removeFromAriaLabelledBy(e,this.id),e.removeEventListener("blur",this.handleBlur,{capture:!0}),e.removeEventListener("focus",this.handleFocus,{capture:!0}),e.removeEventListener("click",this.handleClick),e.removeEventListener("mouseover",this.handleMouseOver),e.removeEventListener("mouseout",this.handleMouseOut)),this.anchor=i}}}},{key:"handleOptionsChange",value:(c=(0,n.A)((0,o.A)().m((function t(){return(0,o.A)().w((function(t){for(;;)switch(t.n){case 0:if(!this.hasUpdated){t.n=2;break}return t.n=1,this.updateComplete;case 1:this.popup.reposition();case 2:return t.a(2)}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"handleDisabledChange",value:function(){this.disabled&&this.open&&this.hide()}},{key:"show",value:(s=(0,n.A)((0,o.A)().m((function t(){return(0,o.A)().w((function(t){for(;;)switch(t.n){case 0:if(!this.open){t.n=1;break}return t.a(2,void 0);case 1:return this.open=!0,t.a(2,(0,y.l)(this,"wa-after-show"))}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"hide",value:(e=(0,n.A)((0,o.A)().m((function t(){return(0,o.A)().w((function(t){for(;;)switch(t.n){case 0:if(this.open){t.n=1;break}return t.a(2,void 0);case 1:return this.open=!1,t.a(2,(0,y.l)(this,"wa-after-hide"))}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"render",value:function(){return(0,u.qy)(M||(M=A`
      <wa-popup
        part="base"
        exportparts="
          popup:base__popup,
          arrow:base__arrow
        "
        class=${0}
        placement=${0}
        distance=${0}
        skidding=${0}
        flip
        shift
        ?arrow=${0}
        hover-bridge
        .anchor=${0}
      >
        <div part="body" class="body">
          <slot></slot>
        </div>
      </wa-popup>
    `),(0,p.H)({tooltip:!0,"tooltip-open":this.open}),this.placement,this.distance,this.skidding,!this.withoutArrow,this.anchor)}}]);var e,s,c,b}(k.A);L.css=S.A,L.dependencies={"wa-popup":z.A},P([(0,c.P)("slot:not([name])")],L.prototype,"defaultSlot",2),P([(0,c.P)(".body")],L.prototype,"body",2),P([(0,c.P)("wa-popup")],L.prototype,"popup",2),P([(0,c.MZ)()],L.prototype,"placement",2),P([(0,c.MZ)({type:Boolean,reflect:!0})],L.prototype,"disabled",2),P([(0,c.MZ)({type:Number})],L.prototype,"distance",2),P([(0,c.MZ)({type:Boolean,reflect:!0})],L.prototype,"open",2),P([(0,c.MZ)({type:Number})],L.prototype,"skidding",2),P([(0,c.MZ)({attribute:"show-delay",type:Number})],L.prototype,"showDelay",2),P([(0,c.MZ)({attribute:"hide-delay",type:Number})],L.prototype,"hideDelay",2),P([(0,c.MZ)()],L.prototype,"trigger",2),P([(0,c.MZ)({attribute:"without-arrow",type:Boolean,reflect:!0})],L.prototype,"withoutArrow",2),P([(0,c.MZ)()],L.prototype,"for",2),P([(0,c.wk)()],L.prototype,"anchor",2),P([(0,b.w)("open",{waitUntilFirstUpdate:!0})],L.prototype,"handleOpenChange",1),P([(0,b.w)("for")],L.prototype,"handleForChange",1),P([(0,b.w)(["distance","placement","skidding"])],L.prototype,"handleOptionsChange",1),P([(0,b.w)("disabled")],L.prototype,"handleDisabledChange",1),L=P([(0,c.EM)("wa-tooltip")],L),s()}catch(E){s(E)}}))},52920:function(t,i,e){e.d(i,{V:function(){return p}});var s=e(44734),o=e(56038),n=e(69683),r=e(6454),a=e(38826),h=e(78261),l=e(25460);e(16280),e(74423),e(44114),e(26099),e(62062),e(18111),e(61701);function d(t){return"horizontal"===t?"row":"column"}var u=function(t){function i(){var t;return(0,s.A)(this,i),(t=(0,n.A)(this,i,arguments))._itemSize={},t._gaps={},t._padding={},t}return(0,r.A)(i,t),(0,o.A)(i,[{key:"_getDefaultConfig",value:function(){return Object.assign({},(0,l.A)(i,"_getDefaultConfig",this,3)([]),{itemSize:{width:"300px",height:"300px"},gap:"8px",padding:"match-gap"})}},{key:"_gap",get:function(){return this._gaps.row}},{key:"_idealSize",get:function(){return this._itemSize[(0,a.oV)(this.direction)]}},{key:"_idealSize1",get:function(){return this._itemSize[(0,a.oV)(this.direction)]}},{key:"_idealSize2",get:function(){return this._itemSize[(0,a.vD)(this.direction)]}},{key:"_gap1",get:function(){return this._gaps[(t=this.direction,"horizontal"===t?"column":"row")];var t}},{key:"_gap2",get:function(){return this._gaps[d(this.direction)]}},{key:"_padding1",get:function(){var t=this._padding,i="horizontal"===this.direction?["left","right"]:["top","bottom"],e=(0,h.A)(i,2),s=e[0],o=e[1];return[t[s],t[o]]}},{key:"_padding2",get:function(){var t=this._padding,i="horizontal"===this.direction?["top","bottom"]:["left","right"],e=(0,h.A)(i,2),s=e[0],o=e[1];return[t[s],t[o]]}},{key:"itemSize",set:function(t){var i=this._itemSize;"string"==typeof t&&(t={width:t,height:t});var e=parseInt(t.width),s=parseInt(t.height);e!==i.width&&(i.width=e,this._triggerReflow()),s!==i.height&&(i.height=s,this._triggerReflow())}},{key:"gap",set:function(t){this._setGap(t)}},{key:"_setGap",value:function(t){var i=t.split(" ").map((t=>function(t){return"auto"===t?1/0:parseInt(t)}(t))),e=this._gaps;i[0]!==e.row&&(e.row=i[0],this._triggerReflow()),void 0===i[1]?i[0]!==e.column&&(e.column=i[0],this._triggerReflow()):i[1]!==e.column&&(e.column=i[1],this._triggerReflow())}},{key:"padding",set:function(t){var i=this._padding,e=t.split(" ").map((t=>function(t){return"match-gap"===t?1/0:parseInt(t)}(t)));1===e.length?(i.top=i.right=i.bottom=i.left=e[0],this._triggerReflow()):2===e.length?(i.top=i.bottom=e[0],i.right=i.left=e[1],this._triggerReflow()):3===e.length?(i.top=e[0],i.right=i.left=e[1],i.bottom=e[2],this._triggerReflow()):4===e.length&&(["top","right","bottom","left"].forEach(((t,s)=>i[t]=e[s])),this._triggerReflow())}}])}(a.YS),c=function(t){function i(){var t;return(0,s.A)(this,i),(t=(0,n.A)(this,i,arguments))._metrics=null,t.flex=null,t.justify=null,t}return(0,r.A)(i,t),(0,o.A)(i,[{key:"_getDefaultConfig",value:function(){return Object.assign({},(0,l.A)(i,"_getDefaultConfig",this,3)([]),{flex:!1,justify:"start"})}},{key:"gap",set:function(t){(0,l.A)(i,"_setGap",this,3)([t])}},{key:"_updateLayout",value:function(){var t=this.justify,i=(0,h.A)(this._padding1,2),e=i[0],s=i[1],o=(0,h.A)(this._padding2,2),n=o[0],r=o[1];["_gap1","_gap2"].forEach((i=>{var e=this[i];if(e===1/0&&!["space-between","space-around","space-evenly"].includes(t))throw new Error("grid layout: gap can only be set to 'auto' when justify is set to 'space-between', 'space-around' or 'space-evenly'");if(e===1/0&&"_gap2"===i)throw new Error(`grid layout: ${d(this.direction)}-gap cannot be set to 'auto' when direction is set to ${this.direction}`)}));var l=this.flex||["start","center","end"].includes(t),u={rolumns:-1,itemSize1:-1,itemSize2:-1,gap1:this._gap1===1/0?-1:this._gap1,gap2:l?this._gap2:0,padding1:{start:e===1/0?this._gap1:e,end:s===1/0?this._gap1:s},padding2:l?{start:n===1/0?this._gap2:n,end:r===1/0?this._gap2:r}:{start:0,end:0},positions:[]},c=this._viewDim2-u.padding2.start-u.padding2.end;if(c<=0)u.rolumns=0;else{var p,_=l?u.gap2:0,f=0,g=0;if(c>=this._idealSize2&&(g=(f=Math.floor((c-this._idealSize2)/(this._idealSize2+_))+1)*this._idealSize2+(f-1)*_),this.flex)switch((c-g)/(this._idealSize2+_)>=.5&&(f+=1),u.rolumns=f,u.itemSize2=Math.round((c-_*(f-1))/f),!0===this.flex?"area":this.flex.preserve){case"aspect-ratio":u.itemSize1=Math.round(this._idealSize1/this._idealSize2*u.itemSize2);break;case(0,a.oV)(this.direction):u.itemSize1=Math.round(this._idealSize1);break;default:u.itemSize1=Math.round(this._idealSize1*this._idealSize2/u.itemSize2)}else u.itemSize1=this._idealSize1,u.itemSize2=this._idealSize2,u.rolumns=f;if(l){var m=u.rolumns*u.itemSize2+(u.rolumns-1)*u.gap2;p=this.flex||"start"===t?u.padding2.start:"end"===t?this._viewDim2-u.padding2.end-m:Math.round(this._viewDim2/2-m/2)}else{var v=c-u.rolumns*u.itemSize2;"space-between"===t?(u.gap2=Math.round(v/(u.rolumns-1)),p=0):"space-around"===t?(u.gap2=Math.round(v/u.rolumns),p=Math.round(u.gap2/2)):(u.gap2=Math.round(v/(u.rolumns+1)),p=u.gap2),this._gap1===1/0&&(u.gap1=u.gap2,e===1/0&&(u.padding1.start=p),s===1/0&&(u.padding1.end=p))}for(var y=0;y<u.rolumns;y++)u.positions.push(p),p+=u.itemSize2+u.gap2}this._metrics=u}}])}(u),p=t=>Object.assign({type:_},t),_=function(t){function i(){return(0,s.A)(this,i),(0,n.A)(this,i,arguments)}return(0,r.A)(i,t),(0,o.A)(i,[{key:"_delta",get:function(){return this._metrics.itemSize1+this._metrics.gap1}},{key:"_getItemSize",value:function(t){return{[this._sizeDim]:this._metrics.itemSize1,[this._secondarySizeDim]:this._metrics.itemSize2}}},{key:"_getActiveItems",value:function(){var t=this._metrics,i=t.rolumns;if(0===i)this._first=-1,this._last=-1,this._physicalMin=0,this._physicalMax=0;else{var e=t.padding1,s=Math.max(0,this._scrollPosition-this._overhang),o=Math.min(this._scrollSize,this._scrollPosition+this._viewDim1+this._overhang),n=Math.max(0,Math.floor((s-e.start)/this._delta)),r=Math.max(0,Math.ceil((o-e.start)/this._delta));this._first=n*i,this._last=Math.min(r*i-1,this.items.length-1),this._physicalMin=e.start+this._delta*n,this._physicalMax=e.start+this._delta*r}}},{key:"_getItemPosition",value:function(t){var i=this._metrics,e=i.rolumns,s=i.padding1,o=i.positions,n=i.itemSize1,r=i.itemSize2;return{[this._positionDim]:s.start+Math.floor(t/e)*this._delta,[this._secondaryPositionDim]:o[t%e],[(0,a.oV)(this.direction)]:n,[(0,a.vD)(this.direction)]:r}}},{key:"_updateScrollSize",value:function(){var t=this._metrics,i=t.rolumns,e=t.gap1,s=t.padding1,o=t.itemSize1,n=1;if(i>0){var r=Math.ceil(this.items.length/i);n=s.start+r*o+(r-1)*e+s.end}this._scrollSize=n}}])}(c)},38826:function(t,i,e){e.d(i,{YS:function(){return a},oV:function(){return n},vD:function(){return r}});var s=e(44734),o=e(56038);e(23792),e(36033),e(26099),e(3362),e(62953);function n(t){return"horizontal"===t?"width":"height"}function r(t){return"horizontal"===t?"height":"width"}var a=function(){return(0,o.A)((function t(i,e){(0,s.A)(this,t),this._latestCoords={left:0,top:0},this._direction=null,this._viewportSize={width:0,height:0},this.totalScrollSize={width:0,height:0},this.offsetWithinScroller={left:0,top:0},this._pendingReflow=!1,this._pendingLayoutUpdate=!1,this._pin=null,this._firstVisible=0,this._lastVisible=0,this._physicalMin=0,this._physicalMax=0,this._first=-1,this._last=-1,this._sizeDim="height",this._secondarySizeDim="width",this._positionDim="top",this._secondaryPositionDim="left",this._scrollPosition=0,this._scrollError=0,this._items=[],this._scrollSize=1,this._overhang=1e3,this._hostSink=i,Promise.resolve().then((()=>this.config=e||this._getDefaultConfig()))}),[{key:"_getDefaultConfig",value:function(){return{direction:"vertical"}}},{key:"config",get:function(){return{direction:this.direction}},set:function(t){Object.assign(this,Object.assign({},this._getDefaultConfig(),t))}},{key:"items",get:function(){return this._items},set:function(t){this._setItems(t)}},{key:"_setItems",value:function(t){t!==this._items&&(this._items=t,this._scheduleReflow())}},{key:"direction",get:function(){return this._direction},set:function(t){(t="horizontal"===t?t:"vertical")!==this._direction&&(this._direction=t,this._sizeDim="horizontal"===t?"width":"height",this._secondarySizeDim="horizontal"===t?"height":"width",this._positionDim="horizontal"===t?"left":"top",this._secondaryPositionDim="horizontal"===t?"top":"left",this._triggerReflow())}},{key:"viewportSize",get:function(){return this._viewportSize},set:function(t){var i=this._viewDim1,e=this._viewDim2;Object.assign(this._viewportSize,t),e!==this._viewDim2?this._scheduleLayoutUpdate():i!==this._viewDim1&&this._checkThresholds()}},{key:"viewportScroll",get:function(){return this._latestCoords},set:function(t){Object.assign(this._latestCoords,t);var i=this._scrollPosition;this._scrollPosition=this._latestCoords[this._positionDim],Math.abs(i-this._scrollPosition)>=1&&this._checkThresholds()}},{key:"reflowIfNeeded",value:function(){(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this._pendingReflow)&&(this._pendingReflow=!1,this._reflow())}},{key:"pin",get:function(){if(null!==this._pin){var t=this._pin,i=t.index,e=t.block;return{index:Math.max(0,Math.min(i,this.items.length-1)),block:e}}return null},set:function(t){this._pin=t,this._triggerReflow()}},{key:"_clampScrollPosition",value:function(t){return Math.max(-this.offsetWithinScroller[this._positionDim],Math.min(t,this.totalScrollSize[n(this.direction)]-this._viewDim1))}},{key:"unpin",value:function(){null!==this._pin&&(this._sendUnpinnedMessage(),this._pin=null)}},{key:"_updateLayout",value:function(){}},{key:"_viewDim1",get:function(){return this._viewportSize[this._sizeDim]}},{key:"_viewDim2",get:function(){return this._viewportSize[this._secondarySizeDim]}},{key:"_scheduleReflow",value:function(){this._pendingReflow=!0}},{key:"_scheduleLayoutUpdate",value:function(){this._pendingLayoutUpdate=!0,this._scheduleReflow()}},{key:"_triggerReflow",value:function(){this._scheduleLayoutUpdate(),Promise.resolve().then((()=>this.reflowIfNeeded()))}},{key:"_reflow",value:function(){this._pendingLayoutUpdate&&(this._updateLayout(),this._pendingLayoutUpdate=!1),this._updateScrollSize(),this._setPositionFromPin(),this._getActiveItems(),this._updateVisibleIndices(),this._sendStateChangedMessage()}},{key:"_setPositionFromPin",value:function(){if(null!==this.pin){var t=this._scrollPosition,i=this.pin,e=i.index,s=i.block;this._scrollPosition=this._calculateScrollIntoViewPosition({index:e,block:s||"start"})-this.offsetWithinScroller[this._positionDim],this._scrollError=t-this._scrollPosition}}},{key:"_calculateScrollIntoViewPosition",value:function(t){var i=t.block,e=Math.min(this.items.length,Math.max(0,t.index)),s=this._getItemPosition(e)[this._positionDim],o=s;if("start"!==i){var n=this._getItemSize(e)[this._sizeDim];if("center"===i)o=s-.5*this._viewDim1+.5*n;else{var r=s-this._viewDim1+n;if("end"===i)o=r;else{var a=this._scrollPosition;o=Math.abs(a-s)<Math.abs(a-r)?s:r}}}return o+=this.offsetWithinScroller[this._positionDim],this._clampScrollPosition(o)}},{key:"getScrollIntoViewCoordinates",value:function(t){return{[this._positionDim]:this._calculateScrollIntoViewPosition(t)}}},{key:"_sendUnpinnedMessage",value:function(){this._hostSink({type:"unpinned"})}},{key:"_sendVisibilityChangedMessage",value:function(){this._hostSink({type:"visibilityChanged",firstVisible:this._firstVisible,lastVisible:this._lastVisible})}},{key:"_sendStateChangedMessage",value:function(){var t=new Map;if(-1!==this._first&&-1!==this._last)for(var i=this._first;i<=this._last;i++)t.set(i,this._getItemPosition(i));var e={type:"stateChanged",scrollSize:{[this._sizeDim]:this._scrollSize,[this._secondarySizeDim]:null},range:{first:this._first,last:this._last,firstVisible:this._firstVisible,lastVisible:this._lastVisible},childPositions:t};this._scrollError&&(e.scrollError={[this._positionDim]:this._scrollError,[this._secondaryPositionDim]:0},this._scrollError=0),this._hostSink(e)}},{key:"_num",get:function(){return-1===this._first||-1===this._last?0:this._last-this._first+1}},{key:"_checkThresholds",value:function(){if(0===this._viewDim1&&this._num>0||null!==this._pin)this._scheduleReflow();else{var t=Math.max(0,this._scrollPosition-this._overhang),i=Math.min(this._scrollSize,this._scrollPosition+this._viewDim1+this._overhang);this._physicalMin>t||this._physicalMax<i?this._scheduleReflow():this._updateVisibleIndices({emit:!0})}}},{key:"_updateVisibleIndices",value:function(t){if(-1!==this._first&&-1!==this._last){for(var i=this._first;i<this._last&&Math.round(this._getItemPosition(i)[this._positionDim]+this._getItemSize(i)[this._sizeDim])<=Math.round(this._scrollPosition);)i++;for(var e=this._last;e>this._first&&Math.round(this._getItemPosition(e)[this._positionDim])>=Math.round(this._scrollPosition+this._viewDim1);)e--;i===this._firstVisible&&e===this._lastVisible||(this._firstVisible=i,this._lastVisible=e,t&&t.emit&&this._sendVisibilityChangedMessage())}}}])}()}}]);
//# sourceMappingURL=2895.6d829c2ab701fa9c.js.map