{"version":3,"file":"1368.8d65ffb39297d56f.js","sources":["webpack://knx-frontend/./homeassistant-frontend/src/common/datetime/use_am_pm.ts","webpack://knx-frontend/./homeassistant-frontend/src/common/dom/stop_propagation.ts","webpack://knx-frontend/./homeassistant-frontend/src/components/ha-list.ts","webpack://knx-frontend/./homeassistant-frontend/src/components/ha-selector/ha-selector-time.ts","webpack://knx-frontend/./homeassistant-frontend/src/components/ha-time-input.ts","webpack://knx-frontend/./homeassistant-frontend/src/data/translation.ts"],"sourcesContent":["import memoizeOne from \"memoize-one\";\nimport type { FrontendLocaleData } from \"../../data/translation\";\nimport { TimeFormat } from \"../../data/translation\";\n\nexport const useAmPm = memoizeOne((locale: FrontendLocaleData): boolean => {\n  if (\n    locale.time_format === TimeFormat.language ||\n    locale.time_format === TimeFormat.system\n  ) {\n    const testLanguage =\n      locale.time_format === TimeFormat.language ? locale.language : undefined;\n    const test = new Date(\"January 1, 2023 22:00:00\").toLocaleString(\n      testLanguage\n    );\n    return test.includes(\"10\");\n  }\n\n  return locale.time_format === TimeFormat.am_pm;\n});\n","export const stopPropagation = (ev) => ev.stopPropagation();\n","import { ListBase } from \"@material/mwc-list/mwc-list-base\";\nimport { styles } from \"@material/mwc-list/mwc-list.css\";\nimport { customElement } from \"lit/decorators\";\n\n@customElement(\"ha-list\")\nexport class HaList extends ListBase {\n  static styles = styles;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-list\": HaList;\n  }\n}\n","import { html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport type { TimeSelector } from \"../../data/selector\";\nimport type { HomeAssistant } from \"../../types\";\nimport \"../ha-time-input\";\n\n@customElement(\"ha-selector-time\")\nexport class HaTimeSelector extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public selector!: TimeSelector;\n\n  @property() public value?: string;\n\n  @property() public label?: string;\n\n  @property() public helper?: string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property({ type: Boolean }) public required = false;\n\n  protected render() {\n    return html`\n      <ha-time-input\n        .value=${typeof this.value === \"string\" ? this.value : undefined}\n        .locale=${this.hass.locale}\n        .disabled=${this.disabled}\n        .required=${this.required}\n        clearable\n        .helper=${this.helper}\n        .label=${this.label}\n        .enableSecond=${!this.selector.time?.no_second}\n      ></ha-time-input>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-selector-time\": HaTimeSelector;\n  }\n}\n","import { html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { useAmPm } from \"../common/datetime/use_am_pm\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport type { FrontendLocaleData } from \"../data/translation\";\nimport \"./ha-base-time-input\";\nimport type { TimeChangedEvent } from \"./ha-base-time-input\";\n\n@customElement(\"ha-time-input\")\nexport class HaTimeInput extends LitElement {\n  @property({ attribute: false }) public locale!: FrontendLocaleData;\n\n  @property() public value?: string;\n\n  @property() public label?: string;\n\n  @property() public helper?: string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property({ type: Boolean }) public required = false;\n\n  @property({ type: Boolean, attribute: \"enable-second\" })\n  public enableSecond = false;\n\n  @property({ type: Boolean, reflect: true }) public clearable?: boolean;\n\n  protected render() {\n    const useAMPM = useAmPm(this.locale);\n\n    let hours = NaN;\n    let minutes = NaN;\n    let seconds = NaN;\n    let numberHours = 0;\n    if (this.value) {\n      const parts = this.value?.split(\":\") || [];\n      minutes = parts[1] ? Number(parts[1]) : 0;\n      seconds = parts[2] ? Number(parts[2]) : 0;\n      hours = parts[0] ? Number(parts[0]) : 0;\n      numberHours = hours;\n      if (numberHours && useAMPM && numberHours > 12 && numberHours < 24) {\n        hours = numberHours - 12;\n      }\n      if (useAMPM && numberHours === 0) {\n        hours = 12;\n      }\n    }\n\n    return html`\n      <ha-base-time-input\n        .label=${this.label}\n        .hours=${hours}\n        .minutes=${minutes}\n        .seconds=${seconds}\n        .format=${useAMPM ? 12 : 24}\n        .amPm=${useAMPM && numberHours >= 12 ? \"PM\" : \"AM\"}\n        .disabled=${this.disabled}\n        @value-changed=${this._timeChanged}\n        .enableSecond=${this.enableSecond}\n        .required=${this.required}\n        .clearable=${this.clearable && this.value !== undefined}\n        .helper=${this.helper}\n        day-label=\"dd\"\n        hour-label=\"hh\"\n        min-label=\"mm\"\n        sec-label=\"ss\"\n        ms-label=\"ms\"\n      ></ha-base-time-input>\n    `;\n  }\n\n  private _timeChanged(ev: CustomEvent<{ value?: TimeChangedEvent }>) {\n    ev.stopPropagation();\n    const eventValue = ev.detail.value;\n\n    const useAMPM = useAmPm(this.locale);\n    let value: string | undefined;\n\n    // An undefined eventValue means the time selector is being cleared,\n    // the `value` variable will (intentionally) be left undefined.\n    if (\n      eventValue !== undefined &&\n      (!isNaN(eventValue.hours) ||\n        !isNaN(eventValue.minutes) ||\n        !isNaN(eventValue.seconds))\n    ) {\n      let hours = eventValue.hours || 0;\n      if (eventValue && useAMPM) {\n        if (eventValue.amPm === \"PM\" && hours < 12) {\n          hours += 12;\n        }\n        if (eventValue.amPm === \"AM\" && hours === 12) {\n          hours = 0;\n        }\n      }\n      value = `${hours.toString().padStart(2, \"0\")}:${\n        eventValue.minutes\n          ? eventValue.minutes.toString().padStart(2, \"0\")\n          : \"00\"\n      }:${\n        eventValue.seconds\n          ? eventValue.seconds.toString().padStart(2, \"0\")\n          : \"00\"\n      }`;\n    }\n\n    if (value === this.value) {\n      return;\n    }\n\n    this.value = value;\n    fireEvent(this, \"change\");\n    fireEvent(this, \"value-changed\", {\n      value,\n    });\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-time-input\": HaTimeInput;\n  }\n}\n","import type { HomeAssistant } from \"../types\";\nimport { saveFrontendUserData, subscribeFrontendUserData } from \"./frontend\";\n\nexport enum NumberFormat {\n  language = \"language\",\n  system = \"system\",\n  comma_decimal = \"comma_decimal\",\n  decimal_comma = \"decimal_comma\",\n  quote_decimal = \"quote_decimal\",\n  space_comma = \"space_comma\",\n  none = \"none\",\n}\n\nexport enum TimeFormat {\n  language = \"language\",\n  system = \"system\",\n  am_pm = \"12\",\n  twenty_four = \"24\",\n}\n\nexport enum TimeZone {\n  local = \"local\",\n  server = \"server\",\n}\n\nexport enum DateFormat {\n  language = \"language\",\n  system = \"system\",\n  DMY = \"DMY\",\n  MDY = \"MDY\",\n  YMD = \"YMD\",\n}\n\nexport enum FirstWeekday {\n  language = \"language\",\n  monday = \"monday\",\n  tuesday = \"tuesday\",\n  wednesday = \"wednesday\",\n  thursday = \"thursday\",\n  friday = \"friday\",\n  saturday = \"saturday\",\n  sunday = \"sunday\",\n}\n\nexport interface FrontendLocaleData {\n  language: string;\n  number_format: NumberFormat;\n  time_format: TimeFormat;\n  date_format: DateFormat;\n  first_weekday: FirstWeekday;\n  time_zone: TimeZone;\n}\n\ndeclare global {\n  interface FrontendUserData {\n    language: FrontendLocaleData;\n  }\n}\n\nexport type TranslationCategory =\n  | \"title\"\n  | \"state\"\n  | \"entity\"\n  | \"entity_component\"\n  | \"exceptions\"\n  | \"config\"\n  | \"config_subentries\"\n  | \"config_panel\"\n  | \"options\"\n  | \"device_automation\"\n  | \"mfa_setup\"\n  | \"system_health\"\n  | \"application_credentials\"\n  | \"issues\"\n  | \"preview_features\"\n  | \"selector\"\n  | \"services\"\n  | \"triggers\"\n  | \"conditions\";\n\nexport const subscribeTranslationPreferences = (\n  hass: HomeAssistant,\n  callback: (data: { value: FrontendLocaleData | null }) => void\n) => subscribeFrontendUserData(hass.connection, \"language\", callback);\n\nexport const saveTranslationPreferences = (\n  hass: HomeAssistant,\n  data: FrontendLocaleData\n) => saveFrontendUserData(hass.connection, \"language\", data);\n\nexport const getHassTranslations = async (\n  hass: HomeAssistant,\n  language: string,\n  category: TranslationCategory,\n  integration?: string | string[],\n  config_flow?: boolean\n): Promise<Record<string, unknown>> => {\n  const result = await hass.callWS<{ resources: Record<string, unknown> }>({\n    type: \"frontend/get_translations\",\n    language,\n    category,\n    integration,\n    config_flow,\n  });\n  return result.resources;\n};\n\nexport const getHassTranslationsPre109 = async (\n  hass: HomeAssistant,\n  language: string\n): Promise<Record<string, unknown>> => {\n  const result = await hass.callWS<{ resources: Record<string, unknown> }>({\n    type: \"frontend/get_translations\",\n    language,\n  });\n  return result.resources;\n};\n"],"names":["useAmPm","memoizeOne","locale","time_format","TimeFormat","testLanguage","language","undefined","Date","toLocaleString","includes","stopPropagation","ev","HaList","_ListBase","_classCallCheck","_callSuper","arguments","_inherits","_createClass","ListBase","styles","HaTimeSelector","_LitElement","_this","concat","args","disabled","required","_this$selector$time","html","_t","_","value","hass","helper","label","selector","time","no_second","LitElement","attribute","type","Boolean","HaTimeInput","enableSecond","useAMPM","hours","NaN","minutes","seconds","numberHours","this","_this$value","parts","split","Number","_timeChanged","clearable","key","eventValue","detail","isNaN","amPm","toString","padStart","fireEvent","reflect","NumberFormat","TimeZone","DateFormat","FirstWeekday"],"mappings":"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"}