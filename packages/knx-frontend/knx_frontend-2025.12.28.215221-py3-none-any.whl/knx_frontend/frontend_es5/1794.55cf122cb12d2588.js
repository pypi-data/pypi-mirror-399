"use strict";(self.webpackChunkknx_frontend=self.webpackChunkknx_frontend||[]).push([["1794"],{66633:function(e,t,r){r.a(e,(async function(e,i){try{r.r(t),r.d(t,{FlowPreviewGeneric:function(){return A}});var s=r(61397),o=r(50264),n=r(44734),a=r(56038),u=r(69683),_=r(6454),c=r(25460),d=(r(28706),r(62826)),h=r(96196),p=r(77845),v=r(73103),w=r(2103),l=r(40404),f=r(92542),b=(r(17963),e([w]));w=(b.then?(await b)():b)[0];var y,k,g=e=>e,A=function(e){function t(){var e;(0,n.A)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=(0,u.A)(this,t,[].concat(i)))._setPreview=t=>{if(t.error)return e._error=t.error,void(e._preview=void 0);var r=(new Date).toISOString();e._preview=Object.assign({entity_id:`${e.stepId}.___flow_preview___`,last_changed:r,last_updated:r,context:{id:"",parent_id:null,user_id:null}},t)},e._debouncedSubscribePreview=(0,l.s)((()=>{e._subscribePreview()}),250),e}return(0,_.A)(t,e),(0,a.A)(t,[{key:"disconnectedCallback",value:function(){(0,c.A)(t,"disconnectedCallback",this,3)([]),this._unsub&&(this._unsub.then((e=>e())),this._unsub=void 0)}},{key:"willUpdate",value:function(e){e.has("stepData")&&this._debouncedSubscribePreview()}},{key:"render",value:function(){return this._error?(0,h.qy)(y||(y=g`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):(0,h.qy)(k||(k=g`<entity-preview-row
      .hass=${0}
      .stateObj=${0}
    ></entity-preview-row>`),this.hass,this._preview)}},{key:"_subscribePreview",value:(r=(0,o.A)((0,s.A)().m((function e(){var t;return(0,s.A)().w((function(e){for(;;)switch(e.p=e.n){case 0:if(!this._unsub){e.n=2;break}return e.n=1,this._unsub;case 1:(0,e.v)(),this._unsub=void 0;case 2:if("config_flow"===this.flowType||"options_flow"===this.flowType||"config_subentries_flow"===this.flowType){e.n=3;break}return e.a(2);case 3:return this._error=void 0,e.p=4,this._unsub=(0,v.Q)(this.hass,this.domain,this.flowId,this.flowType,this.stepData,this._setPreview),e.n=5,this._unsub;case 5:(0,f.r)(this,"set-flow-errors",{errors:{}}),e.n=7;break;case 6:e.p=6,"string"==typeof(t=e.v).message?this._error=t.message:(this._error=void 0,(0,f.r)(this,"set-flow-errors",t.message)),this._unsub=void 0,this._preview=void 0;case 7:return e.a(2)}}),e,this,[[4,6]])}))),function(){return r.apply(this,arguments)})}]);var r}(h.WF);(0,d.__decorate)([(0,p.MZ)({attribute:!1})],A.prototype,"hass",void 0),(0,d.__decorate)([(0,p.MZ)({attribute:!1})],A.prototype,"flowType",void 0),(0,d.__decorate)([(0,p.MZ)()],A.prototype,"domain",void 0),(0,d.__decorate)([(0,p.MZ)({attribute:!1})],A.prototype,"stepId",void 0),(0,d.__decorate)([(0,p.MZ)({attribute:!1})],A.prototype,"flowId",void 0),(0,d.__decorate)([(0,p.MZ)({attribute:!1})],A.prototype,"stepData",void 0),(0,d.__decorate)([(0,p.wk)()],A.prototype,"_preview",void 0),(0,d.__decorate)([(0,p.wk)()],A.prototype,"_error",void 0),A=(0,d.__decorate)([(0,p.EM)("flow-preview-generic")],A),i()}catch(M){i(M)}}))}}]);
//# sourceMappingURL=1794.55cf122cb12d2588.js.map