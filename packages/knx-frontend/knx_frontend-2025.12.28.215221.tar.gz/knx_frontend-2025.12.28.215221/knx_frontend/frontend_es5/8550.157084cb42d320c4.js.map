{"version":3,"file":"8550.157084cb42d320c4.js","sources":["webpack://knx-frontend/./homeassistant-frontend/src/components/ha-form/ha-form-expandable.ts"],"sourcesContent":["import { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport type { HomeAssistant } from \"../../types\";\nimport \"./ha-form\";\nimport \"../ha-expansion-panel\";\nimport type {\n  HaFormDataContainer,\n  HaFormElement,\n  HaFormExpandableSchema,\n  HaFormSchema,\n} from \"./types\";\n\n@customElement(\"ha-form-expandable\")\nexport class HaFormExpandable extends LitElement implements HaFormElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public data!: HaFormDataContainer;\n\n  @property({ attribute: false }) public schema!: HaFormExpandableSchema;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property({ attribute: false }) public computeLabel?: (\n    schema: HaFormSchema,\n    data?: HaFormDataContainer,\n    options?: { path?: string[] }\n  ) => string;\n\n  @property({ attribute: false }) public computeHelper?: (\n    schema: HaFormSchema,\n    options?: { path?: string[] }\n  ) => string;\n\n  @property({ attribute: false }) public localizeValue?: (\n    key: string\n  ) => string;\n\n  private _renderDescription() {\n    const description = this.computeHelper?.(this.schema);\n    return description ? html`<p>${description}</p>` : nothing;\n  }\n\n  private _computeLabel = (\n    schema: HaFormSchema,\n    data?: HaFormDataContainer,\n    options?: { path?: string[] }\n  ) => {\n    if (!this.computeLabel) return this.computeLabel;\n\n    return this.computeLabel(schema, data, {\n      ...options,\n      path: [...(options?.path || []), this.schema.name],\n    });\n  };\n\n  private _computeHelper = (\n    schema: HaFormSchema,\n    options?: { path?: string[] }\n  ) => {\n    if (!this.computeHelper) return this.computeHelper;\n\n    return this.computeHelper(schema, {\n      ...options,\n      path: [...(options?.path || []), this.schema.name],\n    });\n  };\n\n  protected render() {\n    return html`\n      <ha-expansion-panel outlined .expanded=${Boolean(this.schema.expanded)}>\n        ${this.schema.icon\n          ? html`\n              <ha-icon slot=\"leading-icon\" .icon=${this.schema.icon}></ha-icon>\n            `\n          : this.schema.iconPath\n            ? html`\n                <ha-svg-icon\n                  slot=\"leading-icon\"\n                  .path=${this.schema.iconPath}\n                ></ha-svg-icon>\n              `\n            : nothing}\n        <div\n          slot=\"header\"\n          role=\"heading\"\n          aria-level=${this.schema.headingLevel?.toString() ?? \"3\"}\n        >\n          ${this.schema.title || this.computeLabel?.(this.schema)}\n        </div>\n        <div class=\"content\">\n          ${this._renderDescription()}\n          <ha-form\n            .hass=${this.hass}\n            .data=${this.data}\n            .schema=${this.schema.schema}\n            .disabled=${this.disabled}\n            .computeLabel=${this._computeLabel}\n            .computeHelper=${this._computeHelper}\n            .localizeValue=${this.localizeValue}\n          ></ha-form>\n        </div>\n      </ha-expansion-panel>\n    `;\n  }\n\n  static styles = css`\n    :host {\n      display: flex !important;\n      flex-direction: column;\n    }\n    :host ha-form {\n      display: block;\n    }\n    .content {\n      padding: 12px;\n    }\n    .content p {\n      margin: 0 0 24px;\n    }\n    ha-expansion-panel {\n      display: block;\n      --expansion-panel-content-padding: 0;\n      border-radius: var(--ha-border-radius-md);\n      --ha-card-border-radius: var(--ha-border-radius-md);\n    }\n    ha-svg-icon,\n    ha-icon {\n      color: var(--secondary-text-color);\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form-expandable\": HaFormExpandable;\n  }\n}\n"],"names":["HaFormExpandable","_LitElement","_this","_callSuper","concat","args","disabled","_computeLabel","schema","data","options","computeLabel","Object","assign","path","_toConsumableArray","name","_computeHelper","computeHelper","_this$computeHelper","description","call","html","_t","_","nothing","key","value","_this$schema$headingL","_this$schema$headingL2","_this$computeLabel","_t2","Boolean","expanded","icon","_t3","iconPath","_t4","headingLevel","toString","title","_renderDescription","hass","localizeValue","LitElement","styles","css","_t5","attribute","type"],"mappings":"wUAaAA,EAAA,SAAAC,G,2GAoDE,OApDKC,GAAAC,EAAAA,EAAAA,GAAA,KAAAH,EAAA,GAAAI,OAAAC,KAAAC,UAAA,EAAAJ,EAAAK,cAAA,CAAAC,EAAAC,EAAAC,IAkCHR,EAAAS,aAEAT,EAAAS,aAAAH,EAAAC,EAAAG,OAAAC,OAAAD,OAAAC,OAAA,GACEH,GAAA,IACAI,KAAA,GAAAV,QAAAW,EAAAA,EAAAA,IAAWL,aAAA,EAAAA,EAAAI,OAAA,KAAsBZ,EAAAM,OAAAQ,UAJnCd,EAAAS,aAMFT,EAAAe,eAAA,CAAAT,EAAAE,IAMER,EAAAgB,cAEAhB,EAAAgB,cAAAV,EAAAI,OAAAC,OAAAD,OAAAC,OAAA,GACEH,GAAA,IACAI,KAAA,GAAAV,QAAAW,EAAAA,EAAAA,IAAWL,aAAA,EAAAA,EAAAI,OAAA,KAAsBZ,EAAAM,OAAAQ,UAJnCd,EAAAgB,cAMFhB,C,+DA5BQ,eAAAiB,EACNC,EAAA,QAAAD,EAAA,KAAAD,qBAAA,IAAAC,OAAA,EAAAA,EAAAE,KAAA,UAAAb,QACA,OAAAY,GAAAE,EAAAA,EAAAA,IAAAC,IAAAA,EAAAC,CAAA,eAAAJ,GAAAK,EAAAA,EACF,IAAAC,IAAA,SAAAC,MA2BU,eAAAC,EAAAC,EAAAC,EACR,OAAAR,EAAAA,EAAAA,IAAAS,IAAAA,EAAAP,CAAA;+CAAA;UAAA;;;;uBAAA;;YAAA;;;YAAA;;oBAAA;oBAAA;sBAAA;wBAAA;4BAAA;6BAAA;6BAAA;;;;OACyCQ,QAAA,KAAAxB,OAAAyB,UACrC,KAAAzB,OAAA0B,MAAAZ,EAAAA,EAAAA,IAAAa,IAAAA,EAAAX,CAAA;mDAAA;eAEyC,KAAAhB,OAAA0B,MACrC,KAAA1B,OAAA4B,UAAAd,EAAAA,EAAAA,IAAAe,IAAAA,EAAAb,CAAA;;;0BAAA;;iBAKY,KAAAhB,OAAA4B,UAEVX,EAAAA,GAKO,QALPG,EAKO,QALPC,EAKO,KAAArB,OAAA8B,oBAAA,IAAAT,OAAA,EAAAA,EAAAU,kBAAA,IAAAX,EAAAA,EAAA,IAEX,KAAApB,OAAAgC,QAAA,QAAAV,EAAA,KAAAnB,oBAAA,IAAAmB,OAAA,EAAAA,EAAAT,KAAA,UAAAb,SAGA,KAAAiC,qBAEQ,KAAAC,KACA,KAAAjC,KACE,KAAAD,OAAAA,OACE,KAAAF,SACI,KAAAC,cACC,KAAAU,eACA,KAAA0B,cAKzB,KA1FF,CAAAC,EAAAA,IAAa5C,EAAA6C,QAAAC,EAAAA,EAAAA,IAAAC,IAAAA,EAAAvB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;kCACCwB,WAAA,K,uDAEAA,WAAA,K,uDAEAA,WAAA,K,yDAEAC,KAAAjB,W,2DAEAgB,WAAA,K,+DAMAA,WAAA,K,gEAKAA,WAAA,K"}