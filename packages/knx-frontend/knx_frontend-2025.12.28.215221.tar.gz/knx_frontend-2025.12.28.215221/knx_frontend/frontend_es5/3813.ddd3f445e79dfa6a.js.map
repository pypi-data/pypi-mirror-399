{"version":3,"file":"3813.ddd3f445e79dfa6a.js","sources":["webpack://knx-frontend/./homeassistant-frontend/src/common/array/ensure-array.ts","webpack://knx-frontend/./homeassistant-frontend/src/common/config/is_component_loaded.ts","webpack://knx-frontend/./homeassistant-frontend/src/common/decorators/restore-scroll.ts","webpack://knx-frontend/./homeassistant-frontend/src/common/string/compare.ts","webpack://knx-frontend/./homeassistant-frontend/src/common/util/debounce.ts","webpack://knx-frontend/./homeassistant-frontend/src/common/util/throttle.ts","webpack://knx-frontend/./homeassistant-frontend/src/components/ha-checkbox.ts","webpack://knx-frontend/./homeassistant-frontend/src/components/ha-ripple.ts","webpack://knx-frontend/./homeassistant-frontend/src/components/ha-spinner.ts","webpack://knx-frontend/./homeassistant-frontend/src/components/ha-textfield.ts","webpack://knx-frontend/./homeassistant-frontend/src/data/translation.ts","webpack://knx-frontend/./homeassistant-frontend/src/layouts/hass-loading-screen.ts","webpack://knx-frontend/./homeassistant-frontend/src/resources/polyfills/resize-observer.ts","webpack://knx-frontend/./homeassistant-frontend/src/resources/virtualizer.ts"],"sourcesContent":["type NonNullUndefined<T> = T extends undefined\n  ? never\n  : T extends null\n    ? never\n    : T;\n\n/**\n * Ensure that the input is an array or wrap it in an array\n * @param value - The value to ensure is an array\n */\nexport function ensureArray(value: undefined): undefined;\nexport function ensureArray(value: null): null;\nexport function ensureArray<T>(\n  value: T | T[] | readonly T[]\n): NonNullUndefined<T>[];\nexport function ensureArray(value) {\n  if (value === undefined || value === null || Array.isArray(value)) {\n    return value;\n  }\n  return [value];\n}\n","import type { HomeAssistant } from \"../../types\";\n\n/** Return if a component is loaded. */\nexport const isComponentLoaded = (\n  hass: HomeAssistant,\n  component: string\n): boolean => hass && hass.config.components.includes(component);\n","import type { ReactiveElement } from \"lit\";\nimport { throttle } from \"../util/throttle\";\n\nconst throttleReplaceState = throttle((value) => {\n  history.replaceState({ scrollPosition: value }, \"\");\n}, 300);\n\nexport function restoreScroll(selector: string) {\n  return <ElemClass extends ReactiveElement>(\n    proto: ElemClass,\n    propertyKey: string\n  ) => {\n    if (typeof propertyKey === \"object\") {\n      throw new Error(\"This decorator does not support this compilation type.\");\n    }\n\n    const connectedCallback = proto.connectedCallback;\n    proto.connectedCallback = function () {\n      connectedCallback.call(this);\n\n      const scrollPos = this[propertyKey];\n\n      if (scrollPos) {\n        this.updateComplete.then(() => {\n          const target = this.renderRoot.querySelector(selector);\n          if (!target) {\n            return;\n          }\n          setTimeout(() => {\n            target.scrollTop = scrollPos;\n          }, 0);\n        });\n      }\n    };\n\n    const descriptor = Object.getOwnPropertyDescriptor(proto, propertyKey);\n    let newDescriptor: PropertyDescriptor;\n    if (descriptor === undefined) {\n      newDescriptor = {\n        get(this: ReactiveElement) {\n          return (\n            this[`__${String(propertyKey)}`] || history.state?.scrollPosition\n          );\n        },\n        set(this: ReactiveElement, value) {\n          throttleReplaceState(value);\n          this[`__${String(propertyKey)}`] = value;\n        },\n        configurable: true,\n        enumerable: true,\n      };\n    } else {\n      const oldSetter = descriptor.set;\n      newDescriptor = {\n        ...descriptor,\n        set(this: ReactiveElement, value) {\n          throttleReplaceState(value);\n          this[`__${String(propertyKey)}`] = value;\n          oldSetter?.call(this, value);\n        },\n      };\n    }\n    Object.defineProperty(proto, propertyKey, newDescriptor);\n  };\n}\n","import memoizeOne from \"memoize-one\";\nimport { isIPAddress } from \"./is_ip_address\";\n\nconst collator = memoizeOne(\n  (language: string | undefined) =>\n    new Intl.Collator(language, { numeric: true })\n);\n\nconst caseInsensitiveCollator = memoizeOne(\n  (language: string | undefined) =>\n    new Intl.Collator(language, { sensitivity: \"accent\", numeric: true })\n);\n\nconst fallbackStringCompare = (a: string, b: string) => {\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n\n  return 0;\n};\n\nexport const stringCompare = (\n  a: string,\n  b: string,\n  language: string | undefined = undefined\n) => {\n  // @ts-ignore\n  if (Intl?.Collator) {\n    return collator(language).compare(a, b);\n  }\n\n  return fallbackStringCompare(a, b);\n};\n\nexport const ipCompare = (a: string, b: string) => {\n  const aIsIpV4 = isIPAddress(a);\n  const bIsIpV4 = isIPAddress(b);\n\n  if (aIsIpV4 && bIsIpV4) {\n    return ipv4Compare(a, b);\n  }\n  if (!aIsIpV4 && !bIsIpV4) {\n    return ipV6Compare(a, b);\n  }\n  return aIsIpV4 ? -1 : 1;\n};\n\nexport const caseInsensitiveStringCompare = (\n  a: string,\n  b: string,\n  language: string | undefined = undefined\n) => {\n  // @ts-ignore\n  if (Intl?.Collator) {\n    return caseInsensitiveCollator(language).compare(a, b);\n  }\n\n  return fallbackStringCompare(a.toLowerCase(), b.toLowerCase());\n};\n\nexport const orderCompare = (order: string[]) => (a: string, b: string) => {\n  const idxA = order.indexOf(a);\n  const idxB = order.indexOf(b);\n\n  if (idxA === idxB) {\n    return 0;\n  }\n\n  if (idxA === -1) {\n    return 1;\n  }\n\n  if (idxB === -1) {\n    return -1;\n  }\n\n  return idxA - idxB;\n};\n\nfunction ipv4Compare(a: string, b: string) {\n  const num1 = Number(\n    a\n      .split(\".\")\n      .map((num) => num.padStart(3, \"0\"))\n      .join(\"\")\n  );\n  const num2 = Number(\n    b\n      .split(\".\")\n      .map((num) => num.padStart(3, \"0\"))\n      .join(\"\")\n  );\n  return num1 - num2;\n}\n\nfunction ipV6Compare(a: string, b: string) {\n  const ipv6a = normalizeIPv6(a)\n    .split(\":\")\n    .map((part) => part.padStart(4, \"0\"))\n    .join(\"\");\n  const ipv6b = normalizeIPv6(b)\n    .split(\":\")\n    .map((part) => part.padStart(4, \"0\"))\n    .join(\"\");\n\n  return ipv6a.localeCompare(ipv6b);\n}\n\nfunction normalizeIPv6(ip) {\n  const parts = ip.split(\"::\");\n  const head = parts[0].split(\":\");\n  const tail = parts[1] ? parts[1].split(\":\") : [];\n  const totalParts = 8;\n  const missing = totalParts - (head.length + tail.length);\n  const zeros = new Array(missing).fill(\"0\");\n  return [...head, ...zeros, ...tail].join(\":\");\n}\n","// From: https://davidwalsh.name/javascript-debounce-function\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge and on the trailing.\n\nexport const debounce = <T extends any[]>(\n  func: (...args: T) => void,\n  wait: number,\n  immediate = false\n) => {\n  let timeout: number | undefined;\n  const debouncedFunc = (...args: T): void => {\n    const later = () => {\n      timeout = undefined;\n      func(...args);\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = window.setTimeout(later, wait);\n    if (callNow) {\n      func(...args);\n    }\n  };\n  debouncedFunc.cancel = () => {\n    clearTimeout(timeout);\n  };\n  return debouncedFunc;\n};\n","// From: underscore.js https://github.com/jashkenas/underscore/blob/master/underscore.js\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `false for leading`. To disable execution on the trailing edge, ditto.\nexport const throttle = <T extends any[]>(\n  func: (...args: T) => void,\n  wait: number,\n  leading = true,\n  trailing = true\n) => {\n  let timeout: number | undefined;\n  let previous = 0;\n  const throttledFunc = (...args: T): void => {\n    const later = () => {\n      previous = leading === false ? 0 : Date.now();\n      timeout = undefined;\n      func(...args);\n    };\n    const now = Date.now();\n    if (!previous && leading === false) {\n      previous = now;\n    }\n    const remaining = wait - (now - previous);\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = undefined;\n      }\n      previous = now;\n      func(...args);\n    } else if (!timeout && trailing !== false) {\n      timeout = window.setTimeout(later, remaining);\n    }\n  };\n  throttledFunc.cancel = () => {\n    clearTimeout(timeout);\n    timeout = undefined;\n    previous = 0;\n  };\n  return throttledFunc;\n};\n","import { CheckboxBase } from \"@material/mwc-checkbox/mwc-checkbox-base\";\nimport { styles } from \"@material/mwc-checkbox/mwc-checkbox.css\";\nimport { css } from \"lit\";\nimport { customElement } from \"lit/decorators\";\n\n@customElement(\"ha-checkbox\")\nexport class HaCheckbox extends CheckboxBase {\n  static override styles = [\n    styles,\n    css`\n      :host {\n        --mdc-theme-secondary: var(--primary-color);\n      }\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-checkbox\": HaCheckbox;\n  }\n}\n","import { AttachableController } from \"@material/web/internal/controller/attachable-controller\";\nimport { Ripple } from \"@material/web/ripple/internal/ripple\";\nimport { styles } from \"@material/web/ripple/internal/ripple-styles\";\nimport { css } from \"lit\";\nimport { customElement } from \"lit/decorators\";\n\n@customElement(\"ha-ripple\")\nexport class HaRipple extends Ripple {\n  private readonly attachableTouchController = new AttachableController(\n    this,\n    this._onTouchControlChange.bind(this)\n  );\n\n  attach(control: HTMLElement) {\n    super.attach(control);\n    this.attachableTouchController.attach(control);\n  }\n\n  disconnectedCallback(): void {\n    super.disconnectedCallback();\n    // @ts-ignore\n    this.hovered = false;\n    // @ts-ignore\n    this.pressed = false;\n  }\n\n  detach() {\n    super.detach();\n    this.attachableTouchController.detach();\n  }\n\n  private _handleTouchEnd = () => {\n    if (!this.disabled) {\n      // @ts-ignore\n      super.endPressAnimation();\n    }\n  };\n\n  private _onTouchControlChange(\n    prev: HTMLElement | null,\n    next: HTMLElement | null\n  ) {\n    // Add touchend event to clean ripple on touch devices using action handler\n    prev?.removeEventListener(\"touchend\", this._handleTouchEnd);\n    next?.addEventListener(\"touchend\", this._handleTouchEnd);\n  }\n\n  static override styles = [\n    styles,\n    css`\n      :host {\n        --md-ripple-hover-opacity: var(--ha-ripple-hover-opacity, 0.08);\n        --md-ripple-pressed-opacity: var(--ha-ripple-pressed-opacity, 0.12);\n        --md-ripple-hover-color: var(\n          --ha-ripple-hover-color,\n          var(--ha-ripple-color, var(--secondary-text-color))\n        );\n        --md-ripple-pressed-color: var(\n          --ha-ripple-pressed-color,\n          var(--ha-ripple-color, var(--secondary-text-color))\n        );\n      }\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-ripple\": HaRipple;\n  }\n}\n","import Spinner from \"@home-assistant/webawesome/dist/components/spinner/spinner\";\nimport type { CSSResultGroup, PropertyValues } from \"lit\";\nimport { css } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\n\n@customElement(\"ha-spinner\")\nexport class HaSpinner extends Spinner {\n  @property() public size?: \"tiny\" | \"small\" | \"medium\" | \"large\";\n\n  protected updated(changedProps: PropertyValues) {\n    super.updated(changedProps);\n\n    if (changedProps.has(\"size\")) {\n      switch (this.size) {\n        case \"tiny\":\n          this.style.setProperty(\"--ha-spinner-size\", \"16px\");\n          break;\n        case \"small\":\n          this.style.setProperty(\"--ha-spinner-size\", \"28px\");\n          break;\n        case \"medium\":\n          this.style.setProperty(\"--ha-spinner-size\", \"48px\");\n          break;\n        case \"large\":\n          this.style.setProperty(\"--ha-spinner-size\", \"68px\");\n          break;\n        case undefined:\n          this.style.removeProperty(\"--ha-progress-ring-size\");\n          break;\n      }\n    }\n  }\n\n  static get styles(): CSSResultGroup {\n    return [\n      Spinner.styles,\n      css`\n        :host {\n          --indicator-color: var(\n            --ha-spinner-indicator-color,\n            var(--primary-color)\n          );\n          --track-color: var(--ha-spinner-divider-color, var(--divider-color));\n          --track-width: 4px;\n          --speed: 3.5s;\n          font-size: var(--ha-spinner-size, 48px);\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-spinner\": HaSpinner;\n  }\n}\n","import { TextFieldBase } from \"@material/mwc-textfield/mwc-textfield-base\";\nimport { styles } from \"@material/mwc-textfield/mwc-textfield.css\";\nimport type { TemplateResult, PropertyValues } from \"lit\";\nimport { html, css } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport { mainWindow } from \"../common/dom/get_main_window\";\n\n@customElement(\"ha-textfield\")\nexport class HaTextField extends TextFieldBase {\n  @property({ type: Boolean }) public invalid?: boolean;\n\n  @property({ attribute: \"error-message\" }) public errorMessage?: string;\n\n  // @ts-ignore\n  @property({ type: Boolean }) public icon = false;\n\n  // @ts-ignore\n  // eslint-disable-next-line lit/attribute-names\n  @property({ type: Boolean }) public iconTrailing = false;\n\n  @property() public autocomplete?: string;\n\n  @property({ type: Boolean }) public autocorrect = true;\n\n  @property({ attribute: \"input-spellcheck\" })\n  public inputSpellcheck?: string;\n\n  @query(\"input\") public formElement!: HTMLInputElement;\n\n  override updated(changedProperties: PropertyValues) {\n    super.updated(changedProperties);\n    if (\n      changedProperties.has(\"invalid\") ||\n      changedProperties.has(\"errorMessage\")\n    ) {\n      this.setCustomValidity(\n        this.invalid\n          ? this.errorMessage || this.validationMessage || \"Invalid\"\n          : \"\"\n      );\n      if (\n        this.invalid ||\n        this.validateOnInitialRender ||\n        (changedProperties.has(\"invalid\") &&\n          changedProperties.get(\"invalid\") !== undefined)\n      ) {\n        // Only report validity if the field is invalid or the invalid state has changed from\n        // true to false to prevent setting empty required fields to invalid on first render\n        this.reportValidity();\n      }\n    }\n    if (changedProperties.has(\"autocomplete\")) {\n      if (this.autocomplete) {\n        this.formElement.setAttribute(\"autocomplete\", this.autocomplete);\n      } else {\n        this.formElement.removeAttribute(\"autocomplete\");\n      }\n    }\n    if (changedProperties.has(\"autocorrect\")) {\n      if (this.autocorrect === false) {\n        this.formElement.setAttribute(\"autocorrect\", \"off\");\n      } else {\n        this.formElement.removeAttribute(\"autocorrect\");\n      }\n    }\n    if (changedProperties.has(\"inputSpellcheck\")) {\n      if (this.inputSpellcheck) {\n        this.formElement.setAttribute(\"spellcheck\", this.inputSpellcheck);\n      } else {\n        this.formElement.removeAttribute(\"spellcheck\");\n      }\n    }\n  }\n\n  protected override renderIcon(\n    _icon: string,\n    isTrailingIcon = false\n  ): TemplateResult {\n    const type = isTrailingIcon ? \"trailing\" : \"leading\";\n\n    return html`\n      <span\n        class=\"mdc-text-field__icon mdc-text-field__icon--${type}\"\n        tabindex=${isTrailingIcon ? 1 : -1}\n      >\n        <slot name=\"${type}Icon\"></slot>\n      </span>\n    `;\n  }\n\n  static override styles = [\n    styles,\n    css`\n      .mdc-text-field__input {\n        width: var(--ha-textfield-input-width, 100%);\n      }\n      .mdc-text-field:not(.mdc-text-field--with-leading-icon) {\n        padding: var(--text-field-padding, 0px 16px);\n      }\n      .mdc-text-field__affix--suffix {\n        padding-left: var(--text-field-suffix-padding-left, 12px);\n        padding-right: var(--text-field-suffix-padding-right, 0px);\n        padding-inline-start: var(--text-field-suffix-padding-left, 12px);\n        padding-inline-end: var(--text-field-suffix-padding-right, 0px);\n        direction: ltr;\n      }\n      .mdc-text-field--with-leading-icon {\n        padding-inline-start: var(--text-field-suffix-padding-left, 0px);\n        padding-inline-end: var(--text-field-suffix-padding-right, 16px);\n        direction: var(--direction);\n      }\n\n      .mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon {\n        padding-left: var(--text-field-suffix-padding-left, 0px);\n        padding-right: var(--text-field-suffix-padding-right, 0px);\n        padding-inline-start: var(--text-field-suffix-padding-left, 0px);\n        padding-inline-end: var(--text-field-suffix-padding-right, 0px);\n      }\n      .mdc-text-field:not(.mdc-text-field--disabled)\n        .mdc-text-field__affix--suffix {\n        color: var(--secondary-text-color);\n      }\n\n      .mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon {\n        color: var(--secondary-text-color);\n      }\n\n      .mdc-text-field__icon--leading {\n        margin-inline-start: 16px;\n        margin-inline-end: 8px;\n        direction: var(--direction);\n      }\n\n      .mdc-text-field__icon--trailing {\n        padding: var(--textfield-icon-trailing-padding, 12px);\n      }\n\n      .mdc-floating-label:not(.mdc-floating-label--float-above) {\n        max-width: calc(100% - 16px);\n      }\n\n      .mdc-floating-label--float-above {\n        max-width: calc((100% - 16px) / 0.75);\n        transition: none;\n      }\n\n      input {\n        text-align: var(--text-field-text-align, start);\n      }\n\n      input[type=\"color\"] {\n        height: 20px;\n      }\n\n      /* Edge, hide reveal password icon */\n      ::-ms-reveal {\n        display: none;\n      }\n\n      /* Chrome, Safari, Edge, Opera */\n      :host([no-spinner]) input::-webkit-outer-spin-button,\n      :host([no-spinner]) input::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n      }\n\n      input[type=\"color\"]::-webkit-color-swatch-wrapper {\n        padding: 0;\n      }\n\n      /* Firefox */\n      :host([no-spinner]) input[type=\"number\"] {\n        -moz-appearance: textfield;\n      }\n\n      .mdc-text-field__ripple {\n        overflow: hidden;\n      }\n\n      .mdc-text-field {\n        overflow: var(--text-field-overflow);\n      }\n\n      .mdc-floating-label {\n        padding-inline-end: 16px;\n        padding-inline-start: initial;\n        inset-inline-start: 16px !important;\n        inset-inline-end: initial !important;\n        transform-origin: var(--float-start);\n        direction: var(--direction);\n        text-align: var(--float-start);\n        box-sizing: border-box;\n        text-overflow: ellipsis;\n      }\n\n      .mdc-text-field--with-leading-icon.mdc-text-field--filled\n        .mdc-floating-label {\n        max-width: calc(\n          100% - 48px - var(--text-field-suffix-padding-left, 0px)\n        );\n        inset-inline-start: calc(\n          48px + var(--text-field-suffix-padding-left, 0px)\n        ) !important;\n        inset-inline-end: initial !important;\n        direction: var(--direction);\n      }\n\n      .mdc-text-field__input[type=\"number\"] {\n        direction: var(--direction);\n      }\n      .mdc-text-field__affix--prefix {\n        padding-right: var(--text-field-prefix-padding-right, 2px);\n        padding-inline-end: var(--text-field-prefix-padding-right, 2px);\n        padding-inline-start: initial;\n      }\n\n      .mdc-text-field:not(.mdc-text-field--disabled)\n        .mdc-text-field__affix--prefix {\n        color: var(--mdc-text-field-label-ink-color);\n      }\n      #helper-text ha-markdown {\n        display: inline-block;\n      }\n    `,\n    // safari workaround - must be explicit\n    mainWindow.document.dir === \"rtl\"\n      ? css`\n          .mdc-text-field--with-leading-icon,\n          .mdc-text-field__icon--leading,\n          .mdc-floating-label,\n          .mdc-text-field--with-leading-icon.mdc-text-field--filled\n            .mdc-floating-label,\n          .mdc-text-field__input[type=\"number\"] {\n            direction: rtl;\n            --direction: rtl;\n          }\n        `\n      : css``,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-textfield\": HaTextField;\n  }\n}\n","import type { HomeAssistant } from \"../types\";\nimport { saveFrontendUserData, subscribeFrontendUserData } from \"./frontend\";\n\nexport enum NumberFormat {\n  language = \"language\",\n  system = \"system\",\n  comma_decimal = \"comma_decimal\",\n  decimal_comma = \"decimal_comma\",\n  quote_decimal = \"quote_decimal\",\n  space_comma = \"space_comma\",\n  none = \"none\",\n}\n\nexport enum TimeFormat {\n  language = \"language\",\n  system = \"system\",\n  am_pm = \"12\",\n  twenty_four = \"24\",\n}\n\nexport enum TimeZone {\n  local = \"local\",\n  server = \"server\",\n}\n\nexport enum DateFormat {\n  language = \"language\",\n  system = \"system\",\n  DMY = \"DMY\",\n  MDY = \"MDY\",\n  YMD = \"YMD\",\n}\n\nexport enum FirstWeekday {\n  language = \"language\",\n  monday = \"monday\",\n  tuesday = \"tuesday\",\n  wednesday = \"wednesday\",\n  thursday = \"thursday\",\n  friday = \"friday\",\n  saturday = \"saturday\",\n  sunday = \"sunday\",\n}\n\nexport interface FrontendLocaleData {\n  language: string;\n  number_format: NumberFormat;\n  time_format: TimeFormat;\n  date_format: DateFormat;\n  first_weekday: FirstWeekday;\n  time_zone: TimeZone;\n}\n\ndeclare global {\n  interface FrontendUserData {\n    language: FrontendLocaleData;\n  }\n}\n\nexport type TranslationCategory =\n  | \"title\"\n  | \"state\"\n  | \"entity\"\n  | \"entity_component\"\n  | \"exceptions\"\n  | \"config\"\n  | \"config_subentries\"\n  | \"config_panel\"\n  | \"options\"\n  | \"device_automation\"\n  | \"mfa_setup\"\n  | \"system_health\"\n  | \"application_credentials\"\n  | \"issues\"\n  | \"preview_features\"\n  | \"selector\"\n  | \"services\"\n  | \"triggers\"\n  | \"conditions\";\n\nexport const subscribeTranslationPreferences = (\n  hass: HomeAssistant,\n  callback: (data: { value: FrontendLocaleData | null }) => void\n) => subscribeFrontendUserData(hass.connection, \"language\", callback);\n\nexport const saveTranslationPreferences = (\n  hass: HomeAssistant,\n  data: FrontendLocaleData\n) => saveFrontendUserData(hass.connection, \"language\", data);\n\nexport const getHassTranslations = async (\n  hass: HomeAssistant,\n  language: string,\n  category: TranslationCategory,\n  integration?: string | string[],\n  config_flow?: boolean\n): Promise<Record<string, unknown>> => {\n  const result = await hass.callWS<{ resources: Record<string, unknown> }>({\n    type: \"frontend/get_translations\",\n    language,\n    category,\n    integration,\n    config_flow,\n  });\n  return result.resources;\n};\n\nexport const getHassTranslationsPre109 = async (\n  hass: HomeAssistant,\n  language: string\n): Promise<Record<string, unknown>> => {\n  const result = await hass.callWS<{ resources: Record<string, unknown> }>({\n    type: \"frontend/get_translations\",\n    language,\n  });\n  return result.resources;\n};\n","import type { CSSResultGroup, TemplateResult } from \"lit\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { goBack } from \"../common/navigate\";\nimport \"../components/ha-spinner\";\nimport \"../components/ha-icon-button-arrow-prev\";\nimport \"../components/ha-menu-button\";\nimport { haStyle } from \"../resources/styles\";\nimport type { HomeAssistant } from \"../types\";\n\n@customElement(\"hass-loading-screen\")\nclass HassLoadingScreen extends LitElement {\n  @property({ attribute: false }) public hass?: HomeAssistant;\n\n  @property({ type: Boolean, attribute: \"no-toolbar\" })\n  public noToolbar = false;\n\n  @property({ type: Boolean }) public rootnav = false;\n\n  @property({ type: Boolean }) public narrow = false;\n\n  @property() public message?: string;\n\n  protected render(): TemplateResult {\n    return html`\n      ${this.noToolbar\n        ? \"\"\n        : html`<div class=\"toolbar\">\n            ${this.rootnav || history.state?.root\n              ? html`\n                  <ha-menu-button\n                    .hass=${this.hass}\n                    .narrow=${this.narrow}\n                  ></ha-menu-button>\n                `\n              : html`\n                  <ha-icon-button-arrow-prev\n                    .hass=${this.hass}\n                    @click=${this._handleBack}\n                  ></ha-icon-button-arrow-prev>\n                `}\n          </div>`}\n      <div class=\"content\">\n        <ha-spinner></ha-spinner>\n        ${this.message\n          ? html`<div id=\"loading-text\">${this.message}</div>`\n          : nothing}\n      </div>\n    `;\n  }\n\n  private _handleBack() {\n    goBack();\n  }\n\n  static get styles(): CSSResultGroup {\n    return [\n      haStyle,\n      css`\n        :host {\n          display: block;\n          height: 100%;\n          background-color: var(--primary-background-color);\n        }\n        .toolbar {\n          display: flex;\n          align-items: center;\n          font-size: var(--ha-font-size-xl);\n          height: var(--header-height);\n          padding: 8px 12px;\n          pointer-events: none;\n          background-color: var(--app-header-background-color);\n          font-weight: var(--ha-font-weight-normal);\n          color: var(--app-header-text-color, white);\n          border-bottom: var(--app-header-border-bottom, none);\n          box-sizing: border-box;\n        }\n        @media (max-width: 599px) {\n          .toolbar {\n            padding: 4px;\n          }\n        }\n        ha-menu-button,\n        ha-icon-button-arrow-prev {\n          pointer-events: auto;\n        }\n        .content {\n          height: calc(100% - var(--header-height));\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n        }\n        #loading-text {\n          max-width: 350px;\n          margin-top: 16px;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-loading-screen\": HassLoadingScreen;\n  }\n}\n","if (typeof window.ResizeObserver !== \"function\") {\n  window.ResizeObserver = (\n    await import(\n      \"@lit-labs/virtualizer/polyfills/resize-observer-polyfill/ResizeObserver\"\n    )\n  ).default;\n}\n\nexport {};\n","export const loadVirtualizer = async () => {\n  await import(\"@lit-labs/virtualizer\");\n};\n"],"names":["ensureArray","value","Array","isArray","isComponentLoaded","hass","component","config","components","includes","throttleReplaceState","throttle","history","replaceState","scrollPosition","restoreScroll","selector","proto","propertyKey","Error","connectedCallback","call","scrollPos","this","updateComplete","then","target","renderRoot","querySelector","setTimeout","scrollTop","newDescriptor","descriptor","Object","getOwnPropertyDescriptor","undefined","get","_history$state","String","state","set","configurable","enumerable","oldSetter","assign","defineProperty","collator","memoizeOne","language","Intl","Collator","numeric","caseInsensitiveCollator","sensitivity","fallbackStringCompare","a","b","stringCompare","arguments","length","compare","caseInsensitiveStringCompare","toLowerCase","orderCompare","order","idxA","indexOf","idxB","debounce","func","wait","timeout","immediate","debouncedFunc","_len","args","_key","callNow","clearTimeout","window","later","apply","cancel","leading","trailing","previous","throttledFunc","now","Date","remaining","HaCheckbox","_CheckboxBase","_classCallCheck","_callSuper","_inherits","_createClass","CheckboxBase","styles","css","_t","HaRipple","_Ripple","_this","concat","attachableTouchController","AttachableController","_assertThisInitialized","_onTouchControlChange","bind","_handleTouchEnd","disabled","_superPropGet","control","attach","key","hovered","pressed","detach","prev","next","removeEventListener","addEventListener","Ripple","HaSpinner","_Spinner","changedProps","has","size","style","setProperty","removeProperty","Spinner","_","HaTextField","_TextFieldBase","icon","iconTrailing","autocorrect","changedProperties","setCustomValidity","invalid","errorMessage","validationMessage","validateOnInitialRender","reportValidity","autocomplete","formElement","setAttribute","removeAttribute","inputSpellcheck","_icon","isTrailingIcon","type","html","TextFieldBase","_t2","mainWindow","_t3","_t4","Boolean","attribute","NumberFormat","TimeFormat","TimeZone","DateFormat","FirstWeekday","HassLoadingScreen","_LitElement","noToolbar","rootnav","narrow","root","_handleBack","message","_t5","nothing","goBack","haStyle","_t6","LitElement","ResizeObserver","default","loadVirtualizer","_ref","_asyncToGenerator","_regenerator","m","_callee","w","_context","n"],"mappings":"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"}