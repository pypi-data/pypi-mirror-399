// Automatically generated

syntax = "proto3";
package {{ camel_to_snake(string=service.name) }};

{{ format_docstring(service.__doc__) }}service {{ service.name }} {
{% for method in service.methods.values() %}
{{ format_docstring(method.target.func.__doc__, 4) }}    rpc {{ snake_to_camel(string=method.target.func.__name__) }}({{ method.request.__name__ }}) returns ({{ method.response.__name__}}) {}
{% endfor %}
}
{% for message in service.messages.values() %}

{{ format_docstring(message.__doc__) }}message {{ message.__name__ }} {
{% for field in message.fields() %}
    {% if field.repeated %}repeated {% endif -%}
    {% if field.type == "map" %}map<{{ field.map_key }}, {{ field.map_value }}> {% else %}{{ field.type }} {% endif -%}
    {{ field.name }} = {{ loop.index0 + 1 }};
{% endfor %}
}
{% endfor %}