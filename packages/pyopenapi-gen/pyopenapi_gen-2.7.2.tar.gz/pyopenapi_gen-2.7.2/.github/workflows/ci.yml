name: CI

on:
  push:
    branches: [main]
  pull_request:
    branches: [main, develop, staging]
    # Run on PRs to provide required "test" status check for branch protection
    # Actual testing is handled by pr-checks.yml, this just satisfies the requirement

permissions:
  contents: read

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Provide required test status check
        run: |
          echo "âœ… This workflow satisfies the required 'test' status check"
          if [ "${{ github.event_name }}" = "pull_request" ]; then
            echo "PR testing is handled by pr-checks.yml workflow"
          else
            echo "Main branch testing is handled by semantic-release.yml workflow"
          fi
          echo "This minimal workflow prevents branch protection conflicts"
