{"version":3,"file":"Load3D.vue_vue_type_script_setup_true_lang-BJ0IqFdp.js","sources":["../../src/components/load3d/controls/PopupSlider.vue","../../src/components/load3d/controls/CameraControls.vue","../../src/components/load3d/controls/ExportControls.vue","../../src/components/load3d/controls/LightControls.vue","../../src/components/load3d/controls/ModelControls.vue","../../src/components/load3d/controls/SceneControls.vue","../../src/components/load3d/Load3DControls.vue","../../src/components/load3d/Load3DScene.vue","../../src/components/load3d/controls/AnimationControls.vue","../../src/components/load3d/controls/RecordingControls.vue","../../src/components/load3d/controls/ViewerControls.vue","../../src/components/load3d/Load3D.vue"],"sourcesContent":["<template>\n  <div class=\"relative show-slider\">\n    <Button\n      v-tooltip.right=\"{ value: tooltipText, showDelay: 300 }\"\n      size=\"icon\"\n      variant=\"textonly\"\n      class=\"rounded-full\"\n      :aria-label=\"tooltipText\"\n      @click=\"toggleSlider\"\n    >\n      <i :class=\"['pi', icon, 'text-lg text-white']\" />\n    </Button>\n    <div\n      v-show=\"showSlider\"\n      class=\"absolute top-0 left-12 rounded-lg bg-black/50 p-4 shadow-lg w-[150px]\"\n    >\n      <Slider\n        v-model=\"value\"\n        class=\"w-full\"\n        :min=\"min\"\n        :max=\"max\"\n        :step=\"step\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Slider from 'primevue/slider'\nimport { onMounted, onUnmounted, ref } from 'vue'\n\nimport Button from '@/components/ui/button/Button.vue'\n\nconst {\n  icon = 'pi-expand',\n  min = 10,\n  max = 150,\n  step = 1\n} = defineProps<{\n  icon?: string\n  tooltipText: string\n  min?: number\n  max?: number\n  step?: number\n}>()\n\nconst value = defineModel<number>()\nconst showSlider = ref(false)\n\nconst toggleSlider = () => {\n  showSlider.value = !showSlider.value\n}\n\nconst closeSlider = (e: MouseEvent) => {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-slider')) {\n    showSlider.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeSlider)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeSlider)\n})\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <Button\n      v-tooltip.right=\"{\n        value: $t('load3d.switchCamera'),\n        showDelay: 300\n      }\"\n      size=\"icon\"\n      variant=\"textonly\"\n      class=\"rounded-full\"\n      :aria-label=\"$t('load3d.switchCamera')\"\n      @click=\"switchCamera\"\n    >\n      <i :class=\"['pi', 'pi-camera', 'text-lg text-white']\" />\n    </Button>\n    <PopupSlider\n      v-if=\"showFOVButton\"\n      v-model=\"fov\"\n      :tooltip-text=\"$t('load3d.fov')\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\nimport PopupSlider from '@/components/load3d/controls/PopupSlider.vue'\nimport Button from '@/components/ui/button/Button.vue'\nimport type { CameraType } from '@/extensions/core/load3d/interfaces'\n\nconst cameraType = defineModel<CameraType>('cameraType')\nconst fov = defineModel<number>('fov')\nconst showFOVButton = computed(() => cameraType.value === 'perspective')\n\nconst switchCamera = () => {\n  cameraType.value =\n    cameraType.value === 'perspective' ? 'orthographic' : 'perspective'\n}\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <div class=\"show-export-formats relative\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.exportModel'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.exportModel')\"\n        @click=\"toggleExportFormats\"\n      >\n        <i class=\"pi pi-download text-lg text-white\" />\n      </Button>\n      <div\n        v-show=\"showExportFormats\"\n        class=\"absolute top-0 left-12 rounded-lg bg-black/50 shadow-lg\"\n      >\n        <div class=\"flex flex-col\">\n          <Button\n            v-for=\"format in exportFormats\"\n            :key=\"format.value\"\n            variant=\"textonly\"\n            class=\"text-white\"\n            @click=\"exportModel(format.value)\"\n          >\n            {{ format.label }}\n          </Button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, onUnmounted, ref } from 'vue'\n\nimport Button from '@/components/ui/button/Button.vue'\n\nconst emit = defineEmits<{\n  (e: 'exportModel', format: string): void\n}>()\n\nconst showExportFormats = ref(false)\n\nconst exportFormats = [\n  { label: 'GLB', value: 'glb' },\n  { label: 'OBJ', value: 'obj' },\n  { label: 'STL', value: 'stl' }\n]\n\nfunction toggleExportFormats() {\n  showExportFormats.value = !showExportFormats.value\n}\n\nfunction exportModel(format: string) {\n  emit('exportModel', format)\n\n  showExportFormats.value = false\n}\n\nfunction closeExportFormatsList(e: MouseEvent) {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-export-formats')) {\n    showExportFormats.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeExportFormatsList)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeExportFormatsList)\n})\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <div v-if=\"showLightIntensityButton\" class=\"show-light-intensity relative\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.lightIntensity'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.lightIntensity')\"\n        @click=\"toggleLightIntensity\"\n      >\n        <i class=\"pi pi-sun text-lg text-white\" />\n      </Button>\n      <div\n        v-show=\"showLightIntensity\"\n        class=\"absolute top-0 left-12 rounded-lg bg-black/50 p-4 shadow-lg\"\n        style=\"width: 150px\"\n      >\n        <Slider\n          v-model=\"lightIntensity\"\n          class=\"w-full\"\n          :min=\"lightIntensityMinimum\"\n          :max=\"lightIntensityMaximum\"\n          :step=\"lightAdjustmentIncrement\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Slider from 'primevue/slider'\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\n\nimport Button from '@/components/ui/button/Button.vue'\nimport type { MaterialMode } from '@/extensions/core/load3d/interfaces'\nimport { useSettingStore } from '@/platform/settings/settingStore'\n\nconst lightIntensity = defineModel<number>('lightIntensity')\nconst materialMode = defineModel<MaterialMode>('materialMode')\n\nconst showLightIntensityButton = computed(\n  () => materialMode.value === 'original'\n)\nconst showLightIntensity = ref(false)\n\nconst lightIntensityMaximum = useSettingStore().get(\n  'Comfy.Load3D.LightIntensityMaximum'\n)\nconst lightIntensityMinimum = useSettingStore().get(\n  'Comfy.Load3D.LightIntensityMinimum'\n)\nconst lightAdjustmentIncrement = useSettingStore().get(\n  'Comfy.Load3D.LightAdjustmentIncrement'\n)\n\nfunction toggleLightIntensity() {\n  showLightIntensity.value = !showLightIntensity.value\n}\n\nfunction closeLightSlider(e: MouseEvent) {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-light-intensity')) {\n    showLightIntensity.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeLightSlider)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeLightSlider)\n})\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <div class=\"show-up-direction relative\">\n      <Button\n        v-tooltip.right=\"{\n          value: t('load3d.upDirection'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"t('load3d.upDirection')\"\n        @click=\"toggleUpDirection\"\n      >\n        <i class=\"pi pi-arrow-up text-lg text-white\" />\n      </Button>\n      <div\n        v-show=\"showUpDirection\"\n        class=\"absolute top-0 left-12 rounded-lg bg-black/50 shadow-lg\"\n      >\n        <div class=\"flex flex-col\">\n          <Button\n            v-for=\"direction in upDirections\"\n            :key=\"direction\"\n            variant=\"textonly\"\n            :class=\"\n              cn('text-white', upDirection === direction && 'bg-blue-500')\n            \"\n            @click=\"selectUpDirection(direction)\"\n          >\n            {{ direction.toUpperCase() }}\n          </Button>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"!hideMaterialMode\" class=\"show-material-mode relative\">\n      <Button\n        v-tooltip.right=\"{\n          value: t('load3d.materialMode'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"t('load3d.materialMode')\"\n        @click=\"toggleMaterialMode\"\n      >\n        <i class=\"pi pi-box text-lg text-white\" />\n      </Button>\n      <div\n        v-show=\"showMaterialMode\"\n        class=\"absolute top-0 left-12 rounded-lg bg-black/50 shadow-lg\"\n      >\n        <div class=\"flex flex-col\">\n          <Button\n            v-for=\"mode in materialModes\"\n            :key=\"mode\"\n            variant=\"textonly\"\n            :class=\"\n              cn(\n                'whitespace-nowrap text-white',\n                materialMode === mode && 'bg-blue-500'\n              )\n            \"\n            @click=\"selectMaterialMode(mode)\"\n          >\n            {{ formatMaterialMode(mode) }}\n          </Button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\n\nimport Button from '@/components/ui/button/Button.vue'\nimport type {\n  MaterialMode,\n  UpDirection\n} from '@/extensions/core/load3d/interfaces'\nimport { t } from '@/i18n'\nimport { cn } from '@/utils/tailwindUtil'\n\nconst { hideMaterialMode = false, isPlyModel = false } = defineProps<{\n  hideMaterialMode?: boolean\n  isPlyModel?: boolean\n}>()\n\nconst materialMode = defineModel<MaterialMode>('materialMode')\nconst upDirection = defineModel<UpDirection>('upDirection')\n\nconst showUpDirection = ref(false)\nconst showMaterialMode = ref(false)\n\nconst upDirections: UpDirection[] = [\n  'original',\n  '-x',\n  '+x',\n  '-y',\n  '+y',\n  '-z',\n  '+z'\n]\n\nconst materialModes = computed(() => {\n  const modes: MaterialMode[] = [\n    'original',\n    'normal',\n    'wireframe'\n    //'depth' disable for now\n  ]\n\n  // Only show pointCloud mode for PLY files (point cloud rendering)\n  if (isPlyModel) {\n    modes.splice(1, 0, 'pointCloud')\n  }\n\n  return modes\n})\n\nfunction toggleUpDirection() {\n  showUpDirection.value = !showUpDirection.value\n  showMaterialMode.value = false\n}\n\nfunction selectUpDirection(direction: UpDirection) {\n  upDirection.value = direction\n  showUpDirection.value = false\n}\n\nfunction toggleMaterialMode() {\n  showMaterialMode.value = !showMaterialMode.value\n  showUpDirection.value = false\n}\n\nfunction selectMaterialMode(mode: MaterialMode) {\n  materialMode.value = mode\n  showMaterialMode.value = false\n}\n\nfunction formatMaterialMode(mode: MaterialMode) {\n  return t(`load3d.materialModes.${mode}`)\n}\n\nfunction closeSceneSlider(e: MouseEvent) {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-up-direction')) {\n    showUpDirection.value = false\n  }\n\n  if (!target.closest('.show-material-mode')) {\n    showMaterialMode.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeSceneSlider)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeSceneSlider)\n})\n</script>\n","<template>\n  <div class=\"flex flex-col\">\n    <Button\n      v-tooltip.right=\"{ value: $t('load3d.showGrid'), showDelay: 300 }\"\n      variant=\"textonly\"\n      size=\"icon\"\n      :class=\"cn('rounded-full', showGrid && 'ring-2 ring-white/50')\"\n      :aria-label=\"$t('load3d.showGrid')\"\n      @click=\"toggleGrid\"\n    >\n      <i class=\"pi pi-table text-lg text-white\" />\n    </Button>\n\n    <div v-if=\"!hasBackgroundImage\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.backgroundColor'),\n          showDelay: 300\n        }\"\n        variant=\"textonly\"\n        size=\"icon\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.backgroundColor')\"\n        @click=\"openColorPicker\"\n      >\n        <i class=\"pi pi-palette text-lg text-white\" />\n        <input\n          ref=\"colorPickerRef\"\n          type=\"color\"\n          :value=\"backgroundColor\"\n          class=\"pointer-events-none absolute m-0 h-0 w-0 p-0 opacity-0\"\n          @input=\"\n            updateBackgroundColor(($event.target as HTMLInputElement).value)\n          \"\n        />\n      </Button>\n    </div>\n\n    <div v-if=\"!hasBackgroundImage\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.uploadBackgroundImage'),\n          showDelay: 300\n        }\"\n        variant=\"textonly\"\n        size=\"icon\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.uploadBackgroundImage')\"\n        @click=\"openImagePicker\"\n      >\n        <i class=\"pi pi-image text-lg text-white\" />\n        <input\n          ref=\"imagePickerRef\"\n          type=\"file\"\n          accept=\"image/*\"\n          class=\"pointer-events-none absolute m-0 h-0 w-0 p-0 opacity-0\"\n          @change=\"uploadBackgroundImage\"\n        />\n      </Button>\n    </div>\n\n    <div v-if=\"hasBackgroundImage\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.panoramaMode'),\n          showDelay: 300\n        }\"\n        variant=\"textonly\"\n        size=\"icon\"\n        :class=\"\n          cn(\n            'rounded-full',\n            backgroundRenderMode === 'panorama' && 'ring-2 ring-white/50'\n          )\n        \"\n        :aria-label=\"$t('load3d.panoramaMode')\"\n        @click=\"toggleBackgroundRenderMode\"\n      >\n        <i class=\"pi pi-globe text-lg text-white\" />\n      </Button>\n    </div>\n\n    <PopupSlider\n      v-if=\"hasBackgroundImage && backgroundRenderMode === 'panorama'\"\n      v-model=\"fov\"\n      :tooltip-text=\"$t('load3d.fov')\"\n    />\n\n    <div v-if=\"hasBackgroundImage\">\n      <Button\n        v-tooltip.right=\"{\n          value: $t('load3d.removeBackgroundImage'),\n          showDelay: 300\n        }\"\n        variant=\"textonly\"\n        size=\"icon\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.removeBackgroundImage')\"\n        @click=\"removeBackgroundImage\"\n      >\n        <i class=\"pi pi-times text-lg text-white\" />\n      </Button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from 'vue'\n\nimport PopupSlider from '@/components/load3d/controls/PopupSlider.vue'\nimport Button from '@/components/ui/button/Button.vue'\nimport type { BackgroundRenderModeType } from '@/extensions/core/load3d/interfaces'\nimport { cn } from '@/utils/tailwindUtil'\n\nconst emit = defineEmits<{\n  (e: 'updateBackgroundImage', file: File | null): void\n}>()\n\nconst showGrid = defineModel<boolean>('showGrid')\nconst backgroundColor = defineModel<string>('backgroundColor')\nconst backgroundImage = defineModel<string>('backgroundImage')\nconst backgroundRenderMode = defineModel<BackgroundRenderModeType>(\n  'backgroundRenderMode',\n  { default: 'tiled' }\n)\nconst fov = defineModel<number>('fov')\nconst hasBackgroundImage = computed(\n  () => backgroundImage.value && backgroundImage.value !== ''\n)\n\nconst colorPickerRef = ref<HTMLInputElement | null>(null)\nconst imagePickerRef = ref<HTMLInputElement | null>(null)\n\nconst toggleGrid = () => {\n  showGrid.value = !showGrid.value\n}\n\nconst updateBackgroundColor = (color: string) => {\n  backgroundColor.value = color\n}\n\nconst openColorPicker = () => {\n  colorPickerRef.value?.click()\n}\n\nconst openImagePicker = () => {\n  imagePickerRef.value?.click()\n}\n\nconst uploadBackgroundImage = (event: Event) => {\n  const input = event.target as HTMLInputElement\n\n  if (input.files && input.files[0]) {\n    emit('updateBackgroundImage', input.files[0])\n  }\n}\n\nconst removeBackgroundImage = () => {\n  emit('updateBackgroundImage', null)\n}\n\nconst toggleBackgroundRenderMode = () => {\n  backgroundRenderMode.value =\n    backgroundRenderMode.value === 'panorama' ? 'tiled' : 'panorama'\n}\n</script>\n","<template>\n  <div\n    class=\"pointer-events-auto absolute top-12 left-2 z-20 flex flex-col rounded-lg bg-smoke-700/30\"\n    @pointerdown.stop\n    @pointermove.stop\n    @pointerup.stop\n    @wheel.stop\n  >\n    <div class=\"show-menu relative\">\n      <Button\n        variant=\"textonly\"\n        size=\"icon\"\n        :aria-label=\"$t('menu.showMenu')\"\n        class=\"rounded-full\"\n        @click=\"toggleMenu\"\n      >\n        <i class=\"pi pi-bars text-lg text-white\" />\n      </Button>\n\n      <div\n        v-show=\"isMenuOpen\"\n        class=\"absolute top-0 left-12 rounded-lg bg-black/50 shadow-lg\"\n      >\n        <div class=\"flex flex-col\">\n          <Button\n            v-for=\"category in availableCategories\"\n            :key=\"category\"\n            variant=\"textonly\"\n            :class=\"\n              cn(\n                'flex w-full items-center justify-start',\n                activeCategory === category && 'bg-smoke-600'\n              )\n            \"\n            @click=\"selectCategory(category)\"\n          >\n            <i :class=\"getCategoryIcon(category)\" />\n            <span class=\"whitespace-nowrap text-white\">{{\n              $t(categoryLabels[category])\n            }}</span>\n          </Button>\n        </div>\n      </div>\n    </div>\n\n    <div v-show=\"activeCategory\" class=\"rounded-lg bg-smoke-700/30\">\n      <SceneControls\n        v-if=\"showSceneControls\"\n        v-model:show-grid=\"sceneConfig!.showGrid\"\n        v-model:background-color=\"sceneConfig!.backgroundColor\"\n        v-model:background-image=\"sceneConfig!.backgroundImage\"\n        v-model:background-render-mode=\"sceneConfig!.backgroundRenderMode\"\n        v-model:fov=\"cameraConfig!.fov\"\n        @update-background-image=\"handleBackgroundImageUpdate\"\n      />\n\n      <ModelControls\n        v-if=\"showModelControls\"\n        v-model:material-mode=\"modelConfig!.materialMode\"\n        v-model:up-direction=\"modelConfig!.upDirection\"\n        :hide-material-mode=\"isSplatModel\"\n        :is-ply-model=\"isPlyModel\"\n      />\n\n      <CameraControls\n        v-if=\"showCameraControls\"\n        v-model:camera-type=\"cameraConfig!.cameraType\"\n        v-model:fov=\"cameraConfig!.fov\"\n      />\n\n      <LightControls\n        v-if=\"showLightControls\"\n        v-model:light-intensity=\"lightConfig!.intensity\"\n        v-model:material-mode=\"modelConfig!.materialMode\"\n      />\n\n      <ExportControls\n        v-if=\"showExportControls\"\n        @export-model=\"handleExportModel\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\n\nimport CameraControls from '@/components/load3d/controls/CameraControls.vue'\nimport ExportControls from '@/components/load3d/controls/ExportControls.vue'\nimport LightControls from '@/components/load3d/controls/LightControls.vue'\nimport ModelControls from '@/components/load3d/controls/ModelControls.vue'\nimport SceneControls from '@/components/load3d/controls/SceneControls.vue'\nimport Button from '@/components/ui/button/Button.vue'\nimport type {\n  CameraConfig,\n  LightConfig,\n  ModelConfig,\n  SceneConfig\n} from '@/extensions/core/load3d/interfaces'\nimport { cn } from '@/utils/tailwindUtil'\n\nconst { isSplatModel = false, isPlyModel = false } = defineProps<{\n  isSplatModel?: boolean\n  isPlyModel?: boolean\n}>()\n\nconst sceneConfig = defineModel<SceneConfig>('sceneConfig')\nconst modelConfig = defineModel<ModelConfig>('modelConfig')\nconst cameraConfig = defineModel<CameraConfig>('cameraConfig')\nconst lightConfig = defineModel<LightConfig>('lightConfig')\n\nconst isMenuOpen = ref(false)\nconst activeCategory = ref<string>('scene')\nconst categoryLabels: Record<string, string> = {\n  scene: 'load3d.scene',\n  model: 'load3d.model',\n  camera: 'load3d.camera',\n  light: 'load3d.light',\n  export: 'load3d.export'\n}\n\nconst availableCategories = computed(() => {\n  if (isSplatModel) {\n    return ['scene', 'model', 'camera']\n  }\n\n  return ['scene', 'model', 'camera', 'light', 'export']\n})\n\nconst showSceneControls = computed(\n  () => activeCategory.value === 'scene' && !!sceneConfig.value\n)\nconst showModelControls = computed(\n  () => activeCategory.value === 'model' && !!modelConfig.value\n)\nconst showCameraControls = computed(\n  () => activeCategory.value === 'camera' && !!cameraConfig.value\n)\nconst showLightControls = computed(\n  () =>\n    activeCategory.value === 'light' &&\n    !!lightConfig.value &&\n    !!modelConfig.value\n)\nconst showExportControls = computed(() => activeCategory.value === 'export')\n\nconst toggleMenu = () => {\n  isMenuOpen.value = !isMenuOpen.value\n}\n\nconst selectCategory = (category: string) => {\n  activeCategory.value = category\n  isMenuOpen.value = false\n}\n\nconst getCategoryIcon = (category: string) => {\n  const icons = {\n    scene: 'pi pi-image',\n    model: 'pi pi-box',\n    camera: 'pi pi-camera',\n    light: 'pi pi-sun',\n    export: 'pi pi-download'\n  }\n  // @ts-expect-error fixme ts strict error\n  return `${icons[category]} text-white text-lg`\n}\n\nconst emit = defineEmits<{\n  (e: 'updateBackgroundImage', file: File | null): void\n  (e: 'exportModel', format: string): void\n}>()\n\nconst handleBackgroundImageUpdate = (file: File | null) => {\n  emit('updateBackgroundImage', file)\n}\n\nconst handleExportModel = (format: string) => {\n  emit('exportModel', format)\n}\n\nconst closeSlider = (e: MouseEvent) => {\n  const target = e.target as HTMLElement\n\n  if (!target.closest('.show-menu')) {\n    isMenuOpen.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', closeSlider)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeSlider)\n})\n</script>\n","<template>\n  <div\n    ref=\"container\"\n    class=\"relative h-full w-full\"\n    data-capture-wheel=\"true\"\n    @pointerdown.stop\n    @pointermove.stop\n    @pointerup.stop\n    @mousedown.stop\n    @mousemove.stop\n    @mouseup.stop\n    @contextmenu.stop.prevent\n    @dragover.prevent.stop=\"handleDragOver\"\n    @dragleave.stop=\"handleDragLeave\"\n    @drop.prevent.stop=\"handleDrop\"\n  >\n    <LoadingOverlay :loading=\"loading\" :loading-message=\"loadingMessage\" />\n    <div\n      v-if=\"!isPreview && isDragging\"\n      class=\"pointer-events-none absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm\"\n    >\n      <div\n        class=\"rounded-lg border-2 border-dashed border-blue-400 bg-blue-500/20 px-6 py-4 text-lg font-medium text-blue-100\"\n      >\n        {{ dragMessage }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted, ref } from 'vue'\n\nimport LoadingOverlay from '@/components/load3d/LoadingOverlay.vue'\nimport { useLoad3dDrag } from '@/composables/useLoad3dDrag'\n\nconst props = defineProps<{\n  initializeLoad3d: (containerRef: HTMLElement) => Promise<void>\n  cleanup: () => void\n  loading: boolean\n  loadingMessage: string\n  onModelDrop?: (file: File) => void | Promise<void>\n  isPreview: boolean\n}>()\n\nconst container = ref<HTMLElement | null>(null)\n\nconst { isDragging, dragMessage, handleDragOver, handleDragLeave, handleDrop } =\n  useLoad3dDrag({\n    onModelDrop: async (file) => {\n      if (props.onModelDrop) {\n        await props.onModelDrop(file)\n      }\n    },\n    disabled: computed(() => props.isPreview)\n  })\n\nonMounted(() => {\n  if (container.value) {\n    void props.initializeLoad3d(container.value)\n  }\n})\n\nonUnmounted(() => {\n  props.cleanup()\n})\n</script>\n","<template>\n  <div\n    v-if=\"animations && animations.length > 0\"\n    class=\"pointer-events-auto absolute top-0 left-0 z-10 flex w-full items-center justify-center gap-2 pt-2\"\n  >\n    <Button\n      size=\"icon\"\n      variant=\"textonly\"\n      class=\"rounded-full\"\n      :aria-label=\"$t('g.playPause')\"\n      @click=\"togglePlay\"\n    >\n      <i\n        :class=\"['pi', playing ? 'pi-pause' : 'pi-play', 'text-lg text-white']\"\n      />\n    </Button>\n\n    <Select\n      v-model=\"selectedSpeed\"\n      :options=\"speedOptions\"\n      option-label=\"name\"\n      option-value=\"value\"\n      class=\"w-24\"\n    />\n\n    <Select\n      v-model=\"selectedAnimation\"\n      :options=\"animations\"\n      option-label=\"name\"\n      option-value=\"index\"\n      class=\"w-32\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Select from 'primevue/select'\n\nimport Button from '@/components/ui/button/Button.vue'\n\ntype Animation = { name: string; index: number }\n\nconst animations = defineModel<Animation[]>('animations')\nconst playing = defineModel<boolean>('playing')\nconst selectedSpeed = defineModel<number>('selectedSpeed')\nconst selectedAnimation = defineModel<number>('selectedAnimation')\n\nconst speedOptions = [\n  { name: '0.1x', value: 0.1 },\n  { name: '0.5x', value: 0.5 },\n  { name: '1x', value: 1 },\n  { name: '1.5x', value: 1.5 },\n  { name: '2x', value: 2 }\n]\n\nconst togglePlay = () => {\n  playing.value = !playing.value\n}\n</script>\n","<template>\n  <div class=\"relative rounded-lg bg-smoke-700/30\">\n    <div class=\"flex flex-col gap-2\">\n      <Button\n        v-tooltip.right=\"{\n          value: isRecording\n            ? $t('load3d.stopRecording')\n            : $t('load3d.startRecording'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        :class=\"\n          cn(\n            'rounded-full',\n            isRecording && 'text-red-500 recording-button-blink'\n          )\n        \"\n        :aria-label=\"\n          isRecording ? $t('load3d.stopRecording') : $t('load3d.startRecording')\n        \"\n        @click=\"toggleRecording\"\n      >\n        <i\n          :class=\"[\n            'pi',\n            isRecording ? 'pi-circle-fill' : 'pi-video',\n            'text-lg text-white'\n          ]\"\n        />\n      </Button>\n\n      <Button\n        v-if=\"hasRecording && !isRecording\"\n        v-tooltip.right=\"{\n          value: $t('load3d.exportRecording'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.exportRecording')\"\n        @click=\"handleExportRecording\"\n      >\n        <i class=\"pi pi-download text-lg text-white\" />\n      </Button>\n\n      <Button\n        v-if=\"hasRecording && !isRecording\"\n        v-tooltip.right=\"{\n          value: $t('load3d.clearRecording'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"$t('load3d.clearRecording')\"\n        @click=\"handleClearRecording\"\n      >\n        <i class=\"pi pi-trash text-lg text-white\" />\n      </Button>\n\n      <div\n        v-if=\"recordingDuration && recordingDuration > 0 && !isRecording\"\n        class=\"mt-1 text-center text-xs text-white\"\n      >\n        {{ formatDuration(recordingDuration) }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Button from '@/components/ui/button/Button.vue'\nimport { cn } from '@/utils/tailwindUtil'\n\nconst hasRecording = defineModel<boolean>('hasRecording')\nconst isRecording = defineModel<boolean>('isRecording')\nconst recordingDuration = defineModel<number>('recordingDuration')\n\nconst emit = defineEmits<{\n  (e: 'startRecording'): void\n  (e: 'stopRecording'): void\n  (e: 'exportRecording'): void\n  (e: 'clearRecording'): void\n}>()\n\nfunction toggleRecording() {\n  if (isRecording.value) {\n    emit('stopRecording')\n  } else {\n    emit('startRecording')\n  }\n}\n\nfunction handleExportRecording() {\n  emit('exportRecording')\n}\n\nfunction handleClearRecording() {\n  emit('clearRecording')\n}\n\nfunction formatDuration(seconds: number): string {\n  const minutes = Math.floor(seconds / 60)\n  const remainingSeconds = Math.floor(seconds % 60)\n  return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`\n}\n</script>\n\n<style scoped>\n.recording-button-blink {\n  animation: blink 1s infinite;\n}\n\n@keyframes blink {\n  0%,\n  100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n</style>\n","<template>\n  <div class=\"relative rounded-lg bg-smoke-700/30\">\n    <div class=\"flex flex-col gap-2\">\n      <Button\n        v-tooltip.right=\"{\n          value: t('load3d.openIn3DViewer'),\n          showDelay: 300\n        }\"\n        size=\"icon\"\n        variant=\"textonly\"\n        class=\"rounded-full\"\n        :aria-label=\"t('load3d.openIn3DViewer')\"\n        @click=\"openIn3DViewer\"\n      >\n        <i class=\"pi pi-expand text-lg text-white\" />\n      </Button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport Load3DViewerContent from '@/components/load3d/Load3dViewerContent.vue'\nimport Button from '@/components/ui/button/Button.vue'\nimport { t } from '@/i18n'\nimport type { LGraphNode } from '@/lib/litegraph/src/LGraphNode'\nimport { useLoad3dService } from '@/services/load3dService'\nimport { useDialogStore } from '@/stores/dialogStore'\n\nconst { node } = defineProps<{\n  node: LGraphNode\n}>()\n\nconst openIn3DViewer = () => {\n  const props = { node: node }\n\n  useDialogStore().showDialog({\n    key: 'global-load3d-viewer',\n    title: t('load3d.viewer.title'),\n    component: Load3DViewerContent,\n    props: props,\n    dialogComponentProps: {\n      style: 'width: 80vw; height: 80vh;',\n      maximizable: true,\n      onClose: async () => {\n        await useLoad3dService().handleViewerClose(props.node)\n      }\n    }\n  })\n}\n</script>\n\n<style scoped></style>\n","<template>\n  <div\n    class=\"relative size-full\"\n    @mouseenter=\"handleMouseEnter\"\n    @mouseleave=\"handleMouseLeave\"\n    @pointerdown.stop\n    @pointermove.stop\n    @pointerup.stop\n  >\n    <Load3DScene\n      v-if=\"node\"\n      :initialize-load3d=\"initializeLoad3d\"\n      :cleanup=\"cleanup\"\n      :loading=\"loading\"\n      :loading-message=\"loadingMessage\"\n      :on-model-drop=\"isPreview ? undefined : handleModelDrop\"\n      :is-preview=\"isPreview\"\n    />\n    <div class=\"pointer-events-none absolute top-0 left-0 size-full\">\n      <Load3DControls\n        v-model:scene-config=\"sceneConfig\"\n        v-model:model-config=\"modelConfig\"\n        v-model:camera-config=\"cameraConfig\"\n        v-model:light-config=\"lightConfig\"\n        :is-splat-model=\"isSplatModel\"\n        :is-ply-model=\"isPlyModel\"\n        @update-background-image=\"handleBackgroundImageUpdate\"\n        @export-model=\"handleExportModel\"\n      />\n      <AnimationControls\n        v-if=\"animations && animations.length > 0\"\n        v-model:animations=\"animations\"\n        v-model:playing=\"playing\"\n        v-model:selected-speed=\"selectedSpeed\"\n        v-model:selected-animation=\"selectedAnimation\"\n      />\n    </div>\n    <div\n      v-if=\"enable3DViewer && node\"\n      class=\"pointer-events-auto absolute top-12 right-2 z-20\"\n    >\n      <ViewerControls :node=\"node as LGraphNode\" />\n    </div>\n\n    <div\n      v-if=\"!isPreview\"\n      class=\"pointer-events-auto absolute right-2 z-20\"\n      :class=\"{\n        'top-12': !enable3DViewer,\n        'top-24': enable3DViewer\n      }\"\n    >\n      <RecordingControls\n        v-model:is-recording=\"isRecording\"\n        v-model:has-recording=\"hasRecording\"\n        v-model:recording-duration=\"recordingDuration\"\n        @start-recording=\"handleStartRecording\"\n        @stop-recording=\"handleStopRecording\"\n        @export-recording=\"handleExportRecording\"\n        @clear-recording=\"handleClearRecording\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref } from 'vue'\nimport type { Ref } from 'vue'\n\nimport Load3DControls from '@/components/load3d/Load3DControls.vue'\nimport Load3DScene from '@/components/load3d/Load3DScene.vue'\nimport AnimationControls from '@/components/load3d/controls/AnimationControls.vue'\nimport RecordingControls from '@/components/load3d/controls/RecordingControls.vue'\nimport ViewerControls from '@/components/load3d/controls/ViewerControls.vue'\nimport { useLoad3d } from '@/composables/useLoad3d'\nimport type { LGraphNode } from '@/lib/litegraph/src/LGraphNode'\nimport { useSettingStore } from '@/platform/settings/settingStore'\nimport type { NodeId } from '@/platform/workflow/validation/schemas/workflowSchema'\nimport { app } from '@/scripts/app'\nimport type { ComponentWidget } from '@/scripts/domWidget'\nimport type { SimplifiedWidget } from '@/types/simplifiedWidget'\n\nconst props = defineProps<{\n  widget: ComponentWidget<string[]> | SimplifiedWidget\n  nodeId?: NodeId\n}>()\n\nfunction isComponentWidget(\n  widget: ComponentWidget<string[]> | SimplifiedWidget\n): widget is ComponentWidget<string[]> {\n  return 'node' in widget && widget.node !== undefined\n}\n\nconst node = ref<LGraphNode | null>(null)\n\nif (isComponentWidget(props.widget)) {\n  node.value = props.widget.node\n} else if (props.nodeId) {\n  onMounted(() => {\n    node.value = app.rootGraph?.getNodeById(props.nodeId!) || null\n  })\n}\n\nconst {\n  // configs\n  sceneConfig,\n  modelConfig,\n  cameraConfig,\n  lightConfig,\n\n  // other state\n  isRecording,\n  isPreview,\n  isSplatModel,\n  isPlyModel,\n  hasRecording,\n  recordingDuration,\n  animations,\n  playing,\n  selectedSpeed,\n  selectedAnimation,\n  loading,\n  loadingMessage,\n\n  // Methods\n  initializeLoad3d,\n  handleMouseEnter,\n  handleMouseLeave,\n  handleStartRecording,\n  handleStopRecording,\n  handleExportRecording,\n  handleClearRecording,\n  handleBackgroundImageUpdate,\n  handleExportModel,\n  handleModelDrop,\n  cleanup\n} = useLoad3d(node as Ref<LGraphNode | null>)\n\nconst enable3DViewer = computed(() =>\n  useSettingStore().get('Comfy.Load3D.3DViewerEnable')\n)\n</script>\n"],"names":["value","_useModel","__props","showSlider","ref","toggleSlider","__name","closeSlider","e","onMounted","onUnmounted","cameraType","fov","showFOVButton","computed","switchCamera","emit","__emit","showExportFormats","exportFormats","toggleExportFormats","exportModel","format","closeExportFormatsList","lightIntensity","materialMode","showLightIntensityButton","showLightIntensity","lightIntensityMaximum","useSettingStore","lightIntensityMinimum","lightAdjustmentIncrement","toggleLightIntensity","closeLightSlider","upDirection","showUpDirection","showMaterialMode","upDirections","materialModes","modes","toggleUpDirection","selectUpDirection","direction","toggleMaterialMode","selectMaterialMode","mode","formatMaterialMode","t","closeSceneSlider","target","showGrid","backgroundColor","backgroundImage","backgroundRenderMode","hasBackgroundImage","colorPickerRef","imagePickerRef","toggleGrid","updateBackgroundColor","color","openColorPicker","openImagePicker","uploadBackgroundImage","event","input","removeBackgroundImage","toggleBackgroundRenderMode","sceneConfig","modelConfig","cameraConfig","lightConfig","isMenuOpen","activeCategory","categoryLabels","availableCategories","showSceneControls","showModelControls","showCameraControls","showLightControls","showExportControls","toggleMenu","selectCategory","category","getCategoryIcon","handleBackgroundImageUpdate","file","handleExportModel","props","container","isDragging","dragMessage","handleDragOver","handleDragLeave","handleDrop","useLoad3dDrag","animations","playing","selectedSpeed","selectedAnimation","speedOptions","togglePlay","hasRecording","isRecording","recordingDuration","toggleRecording","handleExportRecording","handleClearRecording","formatDuration","seconds","minutes","remainingSeconds","openIn3DViewer","useDialogStore","Load3DViewerContent","useLoad3dService","isComponentWidget","widget","node","app","isPreview","isSplatModel","isPlyModel","loading","loadingMessage","initializeLoad3d","handleMouseEnter","handleMouseLeave","handleStartRecording","handleStopRecording","handleModelDrop","cleanup","useLoad3d","enable3DViewer"],"mappings":"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"}