"""Auto-generated operation classes.

This file is auto-generated by the operators generator.
Do not edit this file manually.
"""

from typing import TYPE_CHECKING, Any, Dict, List, Optional

from limitry.client.types import (
    CustomerUsageResponse
)
from limitry.client.utils.pagination import PaginatedResponse

if TYPE_CHECKING:
    from limitry.client.client import Client


class Customers:
    """Operations for customers."""

    def __init__(self, client: "Client") -> None:
        """Initialize Customers operations.

        Args:
            client: The Limitry client instance
        """
        self._client = client

    async def get_usage(
        self,
        customer_id: str,
        start_date: str,
        end_date: str
    ) -> CustomerUsageResponse:
        """Get customer usage.

Retrieve usage summary for a specific customer within a date range.

This endpoint provides aggregated metrics for a single customer, making it ideal for:
- Customer billing and invoicing
- Per-tenant usage dashboards
- Customer-specific analytics
- Usage-based pricing calculations.

Args:
    customer_id: Customer identifier to get usage for
    start_date: Start of the date range (ISO 8601 format)
    end_date: End of the date range (ISO 8601 format)

Returns:
    CustomerUsageResponse: Customer usage summary"""
        params = {
            "startDate": start_date,
            "endDate": end_date,
        }
        params = {k: v for k, v in params.items() if v is not None}
        response = await self._client.request("GET", f"/customers/{customer_id}/usage", params=params)
        return CustomerUsageResponse(**response)

