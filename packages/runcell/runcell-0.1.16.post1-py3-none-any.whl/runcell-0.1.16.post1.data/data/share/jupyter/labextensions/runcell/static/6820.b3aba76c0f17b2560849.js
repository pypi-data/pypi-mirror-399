"use strict";(self.webpackChunkruncell=self.webpackChunkruncell||[]).push([[6820],{15053:(e,t,n)=>{n.d(t,{o:()=>s});var r=n(44620);class a extends Map{constructor(e,t=l){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(i(this,e))}has(e){return super.has(i(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}(this,e))}}function i({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function l(e){return null!==e&&"object"==typeof e?e.valueOf():e}const o=Symbol("implicit");function s(){var e=new a,t=[],n=[],i=o;function l(r){let a=e.get(r);if(void 0===a){if(i!==o)return i;e.set(r,a=t.push(r)-1)}return n[a%n.length]}return l.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new a;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return l},l.range=function(e){return arguments.length?(n=Array.from(e),l):n.slice()},l.unknown=function(e){return arguments.length?(i=e,l):i},l.copy=function(){return s(t,n).unknown(i)},r.i.apply(l,arguments),l}},18347:(e,t,n)=>{function r(e,t){var n,r,a;e.accDescr&&(null==(n=t.setAccDescription)||n.call(t,e.accDescr)),e.accTitle&&(null==(r=t.setAccTitle)||r.call(t,e.accTitle)),e.title&&(null==(a=t.setDiagramTitle)||a.call(t,e.title))}n.d(t,{p:()=>r}),(0,n(43340)._)(r,"populateCommonDb")},36221:(e,t,n)=>{n.d(t,{s:()=>a});var r=n(43340),a=(0,r._)((e,t,n,a)=>{e.attr("class",n);const{width:o,height:s,x:c,y:d}=i(e,t);(0,r.e)(e,s,o,a);const h=l(c,d,o,s,t);e.attr("viewBox",h),r.l.debug(`viewBox configured: ${h} with padding: ${t}`)},"setupViewPortForSVG"),i=(0,r._)((e,t)=>{var n;const r=(null==(n=e.node())?void 0:n.getBBox())||{width:0,height:0,x:0,y:0};return{width:r.width+2*t,height:r.height+2*t,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),l=(0,r._)((e,t,n,r,a)=>`${e-a} ${t-a} ${n} ${r}`,"createViewBox")},44032:(e,t,n)=>{function r(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function a(e){return(e=r(Math.abs(e)))?e[1]:NaN}n.d(t,{a:()=>f,b:()=>p,e:()=>a,f:()=>o});var i,l=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o(e){if(!(t=l.exec(e)))throw new Error("invalid format: "+e);var t;return new s({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function s(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function c(e,t){var n=r(e,t);if(!n)return e+"";var a=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}o.prototype=s.prototype,s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const d={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>c(100*e,t),r:c,s:function(e,t){var n=r(e,t);if(!n)return e+"";var a=n[0],l=n[1],o=l-(i=3*Math.max(-8,Math.min(8,Math.floor(l/3))))+1,s=a.length;return o===s?a:o>s?a+new Array(o-s+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+r(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function h(e){return e}var u,p,f,g=Array.prototype.map,m=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];u=function(e){var t=void 0===e.grouping||void 0===e.thousands?h:function(e,t){return function(n,r){for(var a=n.length,i=[],l=0,o=e[0],s=0;a>0&&o>0&&(s+o+1>r&&(o=Math.max(1,r-s)),i.push(n.substring(a-=o,a+o)),!((s+=o+1)>r));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}(g.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?h:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(g.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"−":e.minus+"",p=void 0===e.nan?"NaN":e.nan+"";function f(e){var a=(e=o(e)).fill,h=e.align,f=e.sign,g=e.symbol,y=e.zero,v=e.width,x=e.comma,S=e.precision,b=e.trim,w=e.type;"n"===w?(x=!0,w="g"):d[w]||(void 0===S&&(S=12),b=!0,w="g"),(y||"0"===a&&"="===h)&&(y=!0,a="0",h="=");var M="$"===g?n:"#"===g&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",C="$"===g?r:/[%p]/.test(w)?c:"",$=d[w],k=/[defgprs%]/.test(w);function L(e){var n,r,o,c=M,d=C;if("c"===w)d=$(e)+d,e="";else{var g=(e=+e)<0||1/e<0;if(e=isNaN(e)?p:$(Math.abs(e),S),b&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),g&&0==+e&&"+"!==f&&(g=!1),c=(g?"("===f?f:u:"-"===f||"("===f?"":f)+c,d=("s"===w?m[8+i/3]:"")+d+(g&&"("===f?")":""),k)for(n=-1,r=e.length;++n<r;)if(48>(o=e.charCodeAt(n))||o>57){d=(46===o?l+e.slice(n+1):e.slice(n))+d,e=e.slice(0,n);break}}x&&!y&&(e=t(e,1/0));var L=c.length+e.length+d.length,T=L<v?new Array(v-L+1).join(a):"";switch(x&&y&&(e=t(T+e,T.length?v-d.length:1/0),T=""),h){case"<":e=c+e+d+T;break;case"=":e=c+T+e+d;break;case"^":e=T.slice(0,L=T.length>>1)+c+e+d+T.slice(L);break;default:e=T+c+e+d}return s(e)}return S=void 0===S?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S)),L.toString=function(){return e+""},L}return{format:f,formatPrefix:function(e,t){var n=f(((e=o(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(a(t)/3))),i=Math.pow(10,-r),l=m[8+r/3];return function(e){return n(i*e)+l}}}}({thousands:",",grouping:[3],currency:["$",""]}),p=u.format,f=u.formatPrefix},44620:(e,t,n)=>{function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}n.d(t,{i:()=>r})},76820:(e,t,n)=>{n.d(t,{diagram:()=>A});var r=n(43340),a=n(36221),i=n(18347),l=n(90539),o=n(44032),s=n(15053);function c(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function d(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=u)):void 0===t&&(t=h);for(var n,r,a,i,l,o=new g(e),s=[o];n=s.pop();)if((a=t(n.data))&&(l=(a=Array.from(a)).length))for(n.children=a,i=l-1;i>=0;--i)s.push(r=a[i]=new g(a[i])),r.parent=n,r.depth=n.depth+1;return o.eachBefore(f)}function h(e){return e.children}function u(e){return Array.isArray(e)?e[1]:null}function p(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function f(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function g(e){this.data=e,this.depth=this.height=0,this.parent=null}function m(){return 0}function y(e){return function(){return e}}function v(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function x(e,t,n,r,a){for(var i,l=e.children,o=-1,s=l.length,c=e.value&&(r-t)/e.value;++o<s;)(i=l[o]).y0=n,i.y1=a,i.x0=t,i.x1=t+=i.value*c}function S(e,t,n,r,a){for(var i,l=e.children,o=-1,s=l.length,c=e.value&&(a-n)/e.value;++o<s;)(i=l[o]).x0=t,i.x1=r,i.y0=n,i.y1=n+=i.value*c}g.prototype=d.prototype={constructor:g,count:function(){return this.eachAfter(c)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,a,i=this,l=[i],o=[],s=-1;i=l.pop();)if(o.push(i),n=i.children)for(r=0,a=n.length;r<a;++r)l.push(n[r]);for(;i=o.pop();)e.call(t,i,++s,this);return this},eachBefore:function(e,t){for(var n,r,a=this,i=[a],l=-1;a=i.pop();)if(e.call(t,a,++l,this),n=a.children)for(r=n.length-1;r>=0;--r)i.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;for(e=n.pop(),t=r.pop();e===t;)a=e,e=n.pop(),t=r.pop();return a}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return d(this).eachBefore(p)},[Symbol.iterator]:function*(){var e,t,n,r,a=this,i=[a];do{for(e=i.reverse(),i=[];a=e.pop();)if(yield a,t=a.children)for(n=0,r=t.length;n<r;++n)i.push(t[n])}while(i.length)}};const b=function e(t){function n(e,n,r,a,i){!function(e,t,n,r,a,i){for(var l,o,s,c,d,h,u,p,f,g,m,y=[],v=t.children,b=0,w=0,M=v.length,C=t.value;b<M;){s=a-n,c=i-r;do{d=v[w++].value}while(!d&&w<M);for(h=u=d,m=d*d*(g=Math.max(c/s,s/c)/(C*e)),f=Math.max(u/m,m/h);w<M;++w){if(d+=o=v[w].value,o<h&&(h=o),o>u&&(u=o),m=d*d*g,(p=Math.max(u/m,m/h))>f){d-=o;break}f=p}y.push(l={value:d,dice:s<c,children:v.slice(b,w)}),l.dice?x(l,n,r,a,C?r+=c*d/C:i):S(l,n,r,C?n+=s*d/C:a,i),C-=d,b=w}}(t,e,n,r,a,i)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}((1+Math.sqrt(5))/2);var w,M=(w=class{constructor(){this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.setAccTitle=r.b,this.getAccTitle=r.a,this.setDiagramTitle=r.q,this.getDiagramTitle=r.t,this.getAccDescription=r.g,this.setAccDescription=r.s}getNodes(){return this.nodes}getConfig(){const e=r.H,t=(0,r.G)();return(0,r.F)({...e.treemap,...t.treemap??{}})}addNode(e,t){this.nodes.push(e),this.levels.set(e,t),0===t&&(this.outerNodes.push(e),this.root??(this.root=e))}getRoot(){return{name:"",children:this.outerNodes}}addClass(e,t){const n=this.classes.get(e)??{id:e,styles:[],textStyles:[]},a=t.replace(/\\,/g,"§§§").replace(/,/g,";").replace(/§§§/g,",").split(";");a&&a.forEach(e=>{(0,r.a_)(e)&&(null!=n&&n.textStyles?n.textStyles.push(e):n.textStyles=[e]),null!=n&&n.styles?n.styles.push(e):n.styles=[e]}),this.classes.set(e,n)}getClasses(){return this.classes}getStylesForClass(e){var t;return(null==(t=this.classes.get(e))?void 0:t.styles)??[]}clear(){(0,r.z)(),this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.root=void 0}},(0,r._)(w,"TreeMapDB"),w);function C(e){if(!e.length)return[];const t=[],n=[];return e.forEach(e=>{const r={name:e.name,children:"Leaf"===e.type?void 0:[]};for(r.classSelector=null==e?void 0:e.classSelector,null!=e&&e.cssCompiledStyles&&(r.cssCompiledStyles=[e.cssCompiledStyles]),"Leaf"===e.type&&void 0!==e.value&&(r.value=e.value);n.length>0&&n[n.length-1].level>=e.level;)n.pop();if(0===n.length)t.push(r);else{const e=n[n.length-1].node;e.children?e.children.push(r):e.children=[r]}"Leaf"!==e.type&&n.push({node:r,level:e.level})}),t}(0,r._)(C,"buildHierarchy");var $=(0,r._)((e,t)=>{(0,i.p)(e,t);const n=[];for(const n of e.TreemapRows??[])"ClassDefStatement"===n.$type&&t.addClass(n.className??"",n.styleText??"");for(const r of e.TreemapRows??[]){const e=r.item;if(!e)continue;const a=r.indent?parseInt(r.indent):0,i=k(e),l=e.classSelector?t.getStylesForClass(e.classSelector):[],o=l.length>0?l.join(";"):void 0,s={level:a,name:i,type:e.$type,value:e.value,classSelector:e.classSelector,cssCompiledStyles:o};n.push(s)}const a=C(n),l=(0,r._)((e,n)=>{for(const r of e)t.addNode(r,n),r.children&&r.children.length>0&&l(r.children,n+1)},"addNodesRecursively");l(a,0)},"populate"),k=(0,r._)(e=>e.name?String(e.name):"","getItemName"),L={parser:{yy:void 0},parse:(0,r._)(async e=>{var t;try{const n=await(0,l.p)("treemap",e);r.l.debug("Treemap AST:",n);const a=null==(t=L.parser)?void 0:t.yy;if(!(a instanceof M))throw new Error("parser.parser?.yy was not a TreemapDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");$(n,a)}catch(e){throw r.l.error("Error parsing treemap:",e),e}},"parse")},T={draw:(0,r._)((e,t,n,i)=>{const l=i.db,c=l.getConfig(),h=c.padding??10,u=l.getDiagramTitle(),p=l.getRoot(),{themeVariables:f}=(0,r.G)();if(!p)return;const g=u?30:0,x=(0,r.K)(t),S=c.nodeWidth?10*c.nodeWidth:960,w=c.nodeHeight?10*c.nodeHeight:500,M=S,C=w+g;let $;x.attr("viewBox",`0 0 ${M} ${C}`),(0,r.e)(x,C,M,c.useMaxWidth);try{const e=c.valueFormat||",";if("$0,0"===e)$=(0,r._)(e=>"$"+(0,o.b)(",")(e),"valueFormat");else if(e.startsWith("$")&&e.includes(",")){const t=/\.\d+/.exec(e),n=t?t[0]:"";$=(0,r._)(e=>"$"+(0,o.b)(","+n)(e),"valueFormat")}else if(e.startsWith("$")){const t=e.substring(1);$=(0,r._)(e=>"$"+(0,o.b)(t||"")(e),"valueFormat")}else $=(0,o.b)(e)}catch(e){r.l.error("Error creating format function:",e),$=(0,o.b)(",")}const k=(0,s.o)().range(["transparent",f.cScale0,f.cScale1,f.cScale2,f.cScale3,f.cScale4,f.cScale5,f.cScale6,f.cScale7,f.cScale8,f.cScale9,f.cScale10,f.cScale11]),L=(0,s.o)().range(["transparent",f.cScalePeer0,f.cScalePeer1,f.cScalePeer2,f.cScalePeer3,f.cScalePeer4,f.cScalePeer5,f.cScalePeer6,f.cScalePeer7,f.cScalePeer8,f.cScalePeer9,f.cScalePeer10,f.cScalePeer11]),T=(0,s.o)().range([f.cScaleLabel0,f.cScaleLabel1,f.cScaleLabel2,f.cScaleLabel3,f.cScaleLabel4,f.cScaleLabel5,f.cScaleLabel6,f.cScaleLabel7,f.cScaleLabel8,f.cScaleLabel9,f.cScaleLabel10,f.cScaleLabel11]);u&&x.append("text").attr("x",M/2).attr("y",g/2).attr("class","treemapTitle").attr("text-anchor","middle").attr("dominant-baseline","middle").text(u);const z=x.append("g").attr("transform",`translate(0, ${g})`).attr("class","treemapContainer"),_=d(p).sum(e=>e.value??0).sort((e,t)=>(t.value??0)-(e.value??0)),A=function(){var e=b,t=!1,n=1,r=1,a=[0],i=m,l=m,o=m,s=m,c=m;function d(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(h),a=[0],t&&e.eachBefore(v),e}function h(t){var n=a[t.depth],r=t.x0+n,d=t.y0+n,h=t.x1-n,u=t.y1-n;h<r&&(r=h=(r+h)/2),u<d&&(d=u=(d+u)/2),t.x0=r,t.y0=d,t.x1=h,t.y1=u,t.children&&(n=a[t.depth+1]=i(t)/2,r+=c(t)-n,d+=l(t)-n,(h-=o(t)-n)<r&&(r=h=(r+h)/2),(u-=s(t)-n)<d&&(d=u=(d+u)/2),e(t,r,d,h,u))}return d.round=function(e){return arguments.length?(t=!!e,d):t},d.size=function(e){return arguments.length?(n=+e[0],r=+e[1],d):[n,r]},d.tile=function(t){return arguments.length?(e=function(e){if("function"!=typeof e)throw new Error;return e}(t),d):e},d.padding=function(e){return arguments.length?d.paddingInner(e).paddingOuter(e):d.paddingInner()},d.paddingInner=function(e){return arguments.length?(i="function"==typeof e?e:y(+e),d):i},d.paddingOuter=function(e){return arguments.length?d.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):d.paddingTop()},d.paddingTop=function(e){return arguments.length?(l="function"==typeof e?e:y(+e),d):l},d.paddingRight=function(e){return arguments.length?(o="function"==typeof e?e:y(+e),d):o},d.paddingBottom=function(e){return arguments.length?(s="function"==typeof e?e:y(+e),d):s},d.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:y(+e),d):c},d}().size([S,w]).paddingTop(e=>e.children&&e.children.length>0?35:0).paddingInner(h).paddingLeft(e=>e.children&&e.children.length>0?10:0).paddingRight(e=>e.children&&e.children.length>0?10:0).paddingBottom(e=>e.children&&e.children.length>0?10:0).round(!0)(_),F=A.descendants().filter(e=>e.children&&e.children.length>0),P=z.selectAll(".treemapSection").data(F).enter().append("g").attr("class","treemapSection").attr("transform",e=>`translate(${e.x0},${e.y0})`);P.append("rect").attr("width",e=>e.x1-e.x0).attr("height",25).attr("class","treemapSectionHeader").attr("fill","none").attr("fill-opacity",.6).attr("stroke-width",.6).attr("style",e=>0===e.depth?"display: none;":""),P.append("clipPath").attr("id",(e,n)=>`clip-section-${t}-${n}`).append("rect").attr("width",e=>Math.max(0,e.x1-e.x0-12)).attr("height",25),P.append("rect").attr("width",e=>e.x1-e.x0).attr("height",e=>e.y1-e.y0).attr("class",(e,t)=>`treemapSection section${t}`).attr("fill",e=>k(e.data.name)).attr("fill-opacity",.6).attr("stroke",e=>L(e.data.name)).attr("stroke-width",2).attr("stroke-opacity",.4).attr("style",e=>{if(0===e.depth)return"display: none;";const t=(0,r.aZ)({cssCompiledStyles:e.data.cssCompiledStyles});return t.nodeStyles+";"+t.borderStyles.join(";")}),P.append("text").attr("class","treemapSectionLabel").attr("x",6).attr("y",12.5).attr("dominant-baseline","middle").text(e=>0===e.depth?"":e.data.name).attr("font-weight","bold").attr("style",e=>0===e.depth?"display: none;":"dominant-baseline: middle; font-size: 12px; fill:"+T(e.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"+(0,r.aZ)({cssCompiledStyles:e.data.cssCompiledStyles}).labelStyles.replace("color:","fill:")).each(function(e){if(0===e.depth)return;const t=(0,r.d)(this),n=e.data.name;t.text(n);const a=e.x1-e.x0;let i;i=!1!==c.showValues&&e.value?a-10-30-10-6:a-6-6;const l=Math.max(15,i),o=t.node();if(o.getComputedTextLength()>l){const e="...";let r=n;for(;r.length>0;){if(r=n.substring(0,r.length-1),0===r.length){t.text(e),o.getComputedTextLength()>l&&t.text("");break}if(t.text(r+e),o.getComputedTextLength()<=l)break}}}),!1!==c.showValues&&P.append("text").attr("class","treemapSectionValue").attr("x",e=>e.x1-e.x0-10).attr("y",12.5).attr("text-anchor","end").attr("dominant-baseline","middle").text(e=>e.value?$(e.value):"").attr("font-style","italic").attr("style",e=>0===e.depth?"display: none;":"text-anchor: end; dominant-baseline: middle; font-size: 10px; fill:"+T(e.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"+(0,r.aZ)({cssCompiledStyles:e.data.cssCompiledStyles}).labelStyles.replace("color:","fill:"));const N=A.leaves(),B=z.selectAll(".treemapLeafGroup").data(N).enter().append("g").attr("class",(e,t)=>`treemapNode treemapLeafGroup leaf${t}${e.data.classSelector?` ${e.data.classSelector}`:""}x`).attr("transform",e=>`translate(${e.x0},${e.y0})`);B.append("rect").attr("width",e=>e.x1-e.x0).attr("height",e=>e.y1-e.y0).attr("class","treemapLeaf").attr("fill",e=>e.parent?k(e.parent.data.name):k(e.data.name)).attr("style",e=>(0,r.aZ)({cssCompiledStyles:e.data.cssCompiledStyles}).nodeStyles).attr("fill-opacity",.3).attr("stroke",e=>e.parent?k(e.parent.data.name):k(e.data.name)).attr("stroke-width",3),B.append("clipPath").attr("id",(e,n)=>`clip-${t}-${n}`).append("rect").attr("width",e=>Math.max(0,e.x1-e.x0-4)).attr("height",e=>Math.max(0,e.y1-e.y0-4)),B.append("text").attr("class","treemapLabel").attr("x",e=>(e.x1-e.x0)/2).attr("y",e=>(e.y1-e.y0)/2).attr("style",e=>"text-anchor: middle; dominant-baseline: middle; font-size: 38px;fill:"+T(e.data.name)+";"+(0,r.aZ)({cssCompiledStyles:e.data.cssCompiledStyles}).labelStyles.replace("color:","fill:")).attr("clip-path",(e,n)=>`url(#clip-${t}-${n})`).text(e=>e.data.name).each(function(e){const t=(0,r.d)(this),n=e.x1-e.x0,a=e.y1-e.y0,i=t.node(),l=n-8,o=a-8;if(l<10||o<10)return void t.style("display","none");let s=parseInt(t.style("font-size"),10);for(;i.getComputedTextLength()>l&&s>8;)s--,t.style("font-size",`${s}px`);let c=Math.max(6,Math.min(28,Math.round(.6*s))),d=s+2+c;for(;d>o&&s>8&&(s--,c=Math.max(6,Math.min(28,Math.round(.6*s))),!(c<6&&8===s));)t.style("font-size",`${s}px`),d=s+2+c;t.style("font-size",`${s}px`),(i.getComputedTextLength()>l||s<8||o<s)&&t.style("display","none")}),!1!==c.showValues&&B.append("text").attr("class","treemapValue").attr("x",e=>(e.x1-e.x0)/2).attr("y",function(e){return(e.y1-e.y0)/2}).attr("style",e=>"text-anchor: middle; dominant-baseline: hanging; font-size: 28px;fill:"+T(e.data.name)+";"+(0,r.aZ)({cssCompiledStyles:e.data.cssCompiledStyles}).labelStyles.replace("color:","fill:")).attr("clip-path",(e,n)=>`url(#clip-${t}-${n})`).text(e=>e.value?$(e.value):"").each(function(e){const t=(0,r.d)(this),n=this.parentNode;if(!n)return void t.style("display","none");const a=(0,r.d)(n).select(".treemapLabel");if(a.empty()||"none"===a.style("display"))return void t.style("display","none");const i=parseFloat(a.style("font-size")),l=Math.max(6,Math.min(28,Math.round(.6*i)));t.style("font-size",`${l}px`);const o=(e.y1-e.y0)/2+i/2+2;t.attr("y",o);const s=e.x1-e.x0,c=e.y1-e.y0-4,d=s-8;t.node().getComputedTextLength()>d||o+l>c||l<6?t.style("display","none"):t.style("display",null)});const D=c.diagramPadding??8;(0,a.s)(x,D,"flowchart",(null==c?void 0:c.useMaxWidth)||!1)},"draw"),getClasses:(0,r._)(function(e,t){return t.db.getClasses()},"getClasses")},z={sectionStrokeColor:"black",sectionStrokeWidth:"1",sectionFillColor:"#efefef",leafStrokeColor:"black",leafStrokeWidth:"1",leafFillColor:"#efefef",labelColor:"black",labelFontSize:"12px",valueFontSize:"10px",valueColor:"black",titleColor:"black",titleFontSize:"14px"},_=(0,r._)(({treemap:e}={})=>{const t=(0,r.F)(z,e);return`\n  .treemapNode.section {\n    stroke: ${t.sectionStrokeColor};\n    stroke-width: ${t.sectionStrokeWidth};\n    fill: ${t.sectionFillColor};\n  }\n  .treemapNode.leaf {\n    stroke: ${t.leafStrokeColor};\n    stroke-width: ${t.leafStrokeWidth};\n    fill: ${t.leafFillColor};\n  }\n  .treemapLabel {\n    fill: ${t.labelColor};\n    font-size: ${t.labelFontSize};\n  }\n  .treemapValue {\n    fill: ${t.valueColor};\n    font-size: ${t.valueFontSize};\n  }\n  .treemapTitle {\n    fill: ${t.titleColor};\n    font-size: ${t.titleFontSize};\n  }\n  `},"getStyles"),A={parser:L,get db(){return new M},renderer:T,styles:_}}}]);