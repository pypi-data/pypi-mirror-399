"use strict";(self.webpackChunkruncell=self.webpackChunkruncell||[]).push([[2313],{15053:(t,e,n)=>{n.d(e,{o:()=>c});var r=n(44620);class a extends Map{constructor(t,e=l){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(i(this,t))}has(t){return super.has(i(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}(this,t))}}function i({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function l(t){return null!==t&&"object"==typeof t?t.valueOf():t}const o=Symbol("implicit");function c(){var t=new a,e=[],n=[],i=o;function l(r){let a=t.get(r);if(void 0===a){if(i!==o)return i;t.set(r,a=e.push(r)-1)}return n[a%n.length]}return l.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new a;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return l},l.range=function(t){return arguments.length?(n=Array.from(t),l):n.slice()},l.unknown=function(t){return arguments.length?(i=t,l):i},l.copy=function(){return c(e,n).unknown(i)},r.i.apply(l,arguments),l}},18347:(t,e,n)=>{function r(t,e){var n,r,a;t.accDescr&&(null==(n=e.setAccDescription)||n.call(e,t.accDescr)),t.accTitle&&(null==(r=e.setAccTitle)||r.call(e,t.accTitle)),t.title&&(null==(a=e.setDiagramTitle)||a.call(e,t.title))}n.d(e,{p:()=>r}),(0,n(43340)._)(r,"populateCommonDb")},32313:(t,e,n)=>{n.d(e,{diagram:()=>$});var r=n(43340),a=n(18347),i=n(90539),l=n(70668),o=n(15053);function c(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function u(t){return t}var s=r.H.pie,p={sections:new Map,showData:!1},f=p.sections,d=p.showData,h=structuredClone(s),y=(0,r._)(()=>structuredClone(h),"getConfig"),g=(0,r._)(()=>{f=new Map,d=p.showData,(0,r.z)()},"clear"),x=(0,r._)(({label:t,value:e})=>{if(e<0)throw new Error(`"${t}" has invalid value: ${e}. Negative values are not allowed in pie charts. All slice values must be >= 0.`);f.has(t)||(f.set(t,e),r.l.debug(`added new section: ${t}, with value: ${e}`))},"addSection"),v=(0,r._)(()=>f,"getSections"),m=(0,r._)(t=>{d=t},"setShowData"),S=(0,r._)(()=>d,"getShowData"),w={getConfig:y,clear:g,setDiagramTitle:r.q,getDiagramTitle:r.t,setAccTitle:r.b,getAccTitle:r.a,setAccDescription:r.s,getAccDescription:r.g,addSection:x,getSections:v,setShowData:m,getShowData:S},T=(0,r._)((t,e)=>{(0,a.p)(t,e),e.setShowData(t.showData),t.sections.map(e.addSection)},"populateDb"),A={parse:(0,r._)(async t=>{const e=await(0,i.p)("pie",t);r.l.debug(e),T(e,w)},"parse")},b=(0,r._)(t=>`\n  .pieCircle{\n    stroke: ${t.pieStrokeColor};\n    stroke-width : ${t.pieStrokeWidth};\n    opacity : ${t.pieOpacity};\n  }\n  .pieOuterCircle{\n    stroke: ${t.pieOuterStrokeColor};\n    stroke-width: ${t.pieOuterStrokeWidth};\n    fill: none;\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${t.pieTitleTextSize};\n    fill: ${t.pieTitleTextColor};\n    font-family: ${t.fontFamily};\n  }\n  .slice {\n    font-family: ${t.fontFamily};\n    fill: ${t.pieSectionTextColor};\n    font-size:${t.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${t.pieLegendTextColor};\n    font-family: ${t.fontFamily};\n    font-size: ${t.pieLegendTextSize};\n  }\n`,"getStyles"),k=(0,r._)(t=>{const e=[...t.values()].reduce((t,e)=>t+e,0),n=[...t.entries()].map(([t,e])=>({label:t,value:e})).filter(t=>t.value/e*100>=1).sort((t,e)=>e.value-t.value);return function(){var t=u,e=c,n=null,a=(0,r.Q)(0),i=(0,r.Q)(r.T),l=(0,r.Q)(0);function o(o){var c,u,s,p,f,d=(o=(0,r.aG)(o)).length,h=0,y=new Array(d),g=new Array(d),x=+a.apply(this,arguments),v=Math.min(r.T,Math.max(-r.T,i.apply(this,arguments)-x)),m=Math.min(Math.abs(v)/d,l.apply(this,arguments)),S=m*(v<0?-1:1);for(c=0;c<d;++c)(f=g[y[c]=c]=+t(o[c],c,o))>0&&(h+=f);for(null!=e?y.sort(function(t,n){return e(g[t],g[n])}):null!=n&&y.sort(function(t,e){return n(o[t],o[e])}),c=0,s=h?(v-d*S)/h:0;c<d;++c,x=p)u=y[c],p=x+((f=g[u])>0?f*s:0)+S,g[u]={data:o[u],index:c,value:f,startAngle:x,endAngle:p,padAngle:m};return g}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.Q)(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(a="function"==typeof t?t:(0,r.Q)(+t),o):a},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:(0,r.Q)(+t),o):i},o.padAngle=function(t){return arguments.length?(l="function"==typeof t?t:(0,r.Q)(+t),o):l},o}().value(t=>t.value)(n)},"createPieArcs"),$={parser:A,db:w,renderer:{draw:(0,r._)((t,e,n,a)=>{r.l.debug("rendering pie chart\n"+t);const i=a.db,c=(0,r.c)(),u=(0,r.F)(i.getConfig(),c.pie),s=(0,r.K)(e),p=s.append("g");p.attr("transform","translate(225,225)");const{themeVariables:f}=c;let[d]=(0,r.a4)(f.pieOuterStrokeWidth);d??(d=2);const h=u.textPosition,y=Math.min(450,450)/2-40,g=(0,l.d)().innerRadius(0).outerRadius(y),x=(0,l.d)().innerRadius(y*h).outerRadius(y*h);p.append("circle").attr("cx",0).attr("cy",0).attr("r",y+d/2).attr("class","pieOuterCircle");const v=i.getSections(),m=k(v),S=[f.pie1,f.pie2,f.pie3,f.pie4,f.pie5,f.pie6,f.pie7,f.pie8,f.pie9,f.pie10,f.pie11,f.pie12];let w=0;v.forEach(t=>{w+=t});const T=m.filter(t=>"0"!==(t.data.value/w*100).toFixed(0)),A=(0,o.o)(S);p.selectAll("mySlices").data(T).enter().append("path").attr("d",g).attr("fill",t=>A(t.data.label)).attr("class","pieCircle"),p.selectAll("mySlices").data(T).enter().append("text").text(t=>(t.data.value/w*100).toFixed(0)+"%").attr("transform",t=>"translate("+x.centroid(t)+")").style("text-anchor","middle").attr("class","slice"),p.append("text").text(i.getDiagramTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");const b=[...v.entries()].map(([t,e])=>({label:t,value:e})),$=p.selectAll(".legend").data(b).enter().append("g").attr("class","legend").attr("transform",(t,e)=>"translate(216,"+(22*e-22*b.length/2)+")");$.append("rect").attr("width",18).attr("height",18).style("fill",t=>A(t.label)).style("stroke",t=>A(t.label)),$.append("text").attr("x",22).attr("y",14).text(t=>i.getShowData()?`${t.label} [${t.value}]`:t.label);const D=512+Math.max(...$.selectAll("text").nodes().map(t=>(null==t?void 0:t.getBoundingClientRect().width)??0));s.attr("viewBox",`0 0 ${D} 450`),(0,r.e)(s,450,D,u.useMaxWidth)},"draw")},styles:b}},44620:(t,e,n)=>{function r(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}n.d(e,{i:()=>r})},70668:(t,e,n)=>{n.d(e,{d:()=>s});var r=n(43340);function a(t){return t.innerRadius}function i(t){return t.outerRadius}function l(t){return t.startAngle}function o(t){return t.endAngle}function c(t){return t&&t.padAngle}function u(t,e,n,a,i,l,o){var c=t-n,u=e-a,s=(o?l:-l)/(0,r.V)(c*c+u*u),p=s*u,f=-s*c,d=t+p,h=e+f,y=n+p,g=a+f,x=(d+y)/2,v=(h+g)/2,m=y-d,S=g-h,w=m*m+S*S,T=i-l,A=d*g-y*h,b=(S<0?-1:1)*(0,r.V)((0,r.$)(0,T*T*w-A*A)),k=(A*S-m*b)/w,$=(-A*m-S*b)/w,D=(A*S+m*b)/w,_=(-A*m+S*b)/w,C=k-x,Y=$-v,O=D-x,Q=_-v;return C*C+Y*Y>O*O+Q*Q&&(k=D,$=_),{cx:k,cy:$,x01:-p,y01:-f,x11:k*(i/T-1),y11:$*(i/T-1)}}function s(){var t=a,e=i,n=(0,r.Q)(0),s=null,p=l,f=o,d=c,h=null,y=(0,r.M)(g);function g(){var a,i,l=+t.apply(this,arguments),o=+e.apply(this,arguments),c=p.apply(this,arguments)-r.R,g=f.apply(this,arguments)-r.R,x=(0,r.X)(g-c),v=g>c;if(h||(h=a=y()),o<l&&(i=o,o=l,l=i),o>r.S)if(x>r.T-r.S)h.moveTo(o*(0,r.O)(c),o*(0,r.P)(c)),h.arc(0,0,o,c,g,!v),l>r.S&&(h.moveTo(l*(0,r.O)(g),l*(0,r.P)(g)),h.arc(0,0,l,g,c,v));else{var m,S,w=c,T=g,A=c,b=g,k=x,$=x,D=d.apply(this,arguments)/2,_=D>r.S&&(s?+s.apply(this,arguments):(0,r.V)(l*l+o*o)),C=(0,r.W)((0,r.X)(o-l)/2,+n.apply(this,arguments)),Y=C,O=C;if(_>r.S){var Q=(0,r.Z)(_/l*(0,r.P)(D)),P=(0,r.Z)(_/o*(0,r.P)(D));(k-=2*Q)>r.S?(A+=Q*=v?1:-1,b-=Q):(k=0,A=b=(c+g)/2),($-=2*P)>r.S?(w+=P*=v?1:-1,T-=P):($=0,w=T=(c+g)/2)}var R=o*(0,r.O)(w),M=o*(0,r.P)(w),V=l*(0,r.O)(b),z=l*(0,r.P)(b);if(C>r.S){var W,F=o*(0,r.O)(T),N=o*(0,r.P)(T),j=l*(0,r.O)(A),B=l*(0,r.P)(A);if(x<r.N)if(W=function(t,e,n,a,i,l,o,c){var u=n-t,s=a-e,p=o-i,f=c-l,d=f*u-p*s;if(!(d*d<r.S))return[t+(d=(p*(e-l)-f*(t-i))/d)*u,e+d*s]}(R,M,j,B,F,N,V,z)){var E=R-W[0],L=M-W[1],X=F-W[0],Z=N-W[1],q=1/(0,r.P)((0,r.a0)((E*X+L*Z)/((0,r.V)(E*E+L*L)*(0,r.V)(X*X+Z*Z)))/2),G=(0,r.V)(W[0]*W[0]+W[1]*W[1]);Y=(0,r.W)(C,(l-G)/(q-1)),O=(0,r.W)(C,(o-G)/(q+1))}else Y=O=0}$>r.S?O>r.S?(m=u(j,B,R,M,o,O,v),S=u(F,N,V,z,o,O,v),h.moveTo(m.cx+m.x01,m.cy+m.y01),O<C?h.arc(m.cx,m.cy,O,(0,r.Y)(m.y01,m.x01),(0,r.Y)(S.y01,S.x01),!v):(h.arc(m.cx,m.cy,O,(0,r.Y)(m.y01,m.x01),(0,r.Y)(m.y11,m.x11),!v),h.arc(0,0,o,(0,r.Y)(m.cy+m.y11,m.cx+m.x11),(0,r.Y)(S.cy+S.y11,S.cx+S.x11),!v),h.arc(S.cx,S.cy,O,(0,r.Y)(S.y11,S.x11),(0,r.Y)(S.y01,S.x01),!v))):(h.moveTo(R,M),h.arc(0,0,o,w,T,!v)):h.moveTo(R,M),l>r.S&&k>r.S?Y>r.S?(m=u(V,z,F,N,l,-Y,v),S=u(R,M,j,B,l,-Y,v),h.lineTo(m.cx+m.x01,m.cy+m.y01),Y<C?h.arc(m.cx,m.cy,Y,(0,r.Y)(m.y01,m.x01),(0,r.Y)(S.y01,S.x01),!v):(h.arc(m.cx,m.cy,Y,(0,r.Y)(m.y01,m.x01),(0,r.Y)(m.y11,m.x11),!v),h.arc(0,0,l,(0,r.Y)(m.cy+m.y11,m.cx+m.x11),(0,r.Y)(S.cy+S.y11,S.cx+S.x11),v),h.arc(S.cx,S.cy,Y,(0,r.Y)(S.y11,S.x11),(0,r.Y)(S.y01,S.x01),!v))):h.arc(0,0,l,b,A,v):h.lineTo(V,z)}else h.moveTo(0,0);if(h.closePath(),a)return h=null,a+""||null}return g.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,a=(+p.apply(this,arguments)+ +f.apply(this,arguments))/2-r.N/2;return[(0,r.O)(a)*n,(0,r.P)(a)*n]},g.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.Q)(+e),g):t},g.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.Q)(+t),g):e},g.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:(0,r.Q)(+t),g):n},g.padRadius=function(t){return arguments.length?(s=null==t?null:"function"==typeof t?t:(0,r.Q)(+t),g):s},g.startAngle=function(t){return arguments.length?(p="function"==typeof t?t:(0,r.Q)(+t),g):p},g.endAngle=function(t){return arguments.length?(f="function"==typeof t?t:(0,r.Q)(+t),g):f},g.padAngle=function(t){return arguments.length?(d="function"==typeof t?t:(0,r.Q)(+t),g):d},g.context=function(t){return arguments.length?(h=t??null,g):h},g}}}]);