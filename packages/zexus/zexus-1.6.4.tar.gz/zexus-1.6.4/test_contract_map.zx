contract TestContract {
    state my_map = {}
    
    action test() {
        print("=== Inside action ===")
        print("my_map exists in env: " + string(my_map != null))
        if my_map != null {
            print("Type of my_map: " + type(my_map))
            print("my_map value: " + string(my_map))
            print("About to assign...")
            my_map["test"] = 123
            print("After assign")
        }
    }
}

print("=== Creating contract ===")
let c = TestContract()
print("=== Calling action ===")
c.test()
