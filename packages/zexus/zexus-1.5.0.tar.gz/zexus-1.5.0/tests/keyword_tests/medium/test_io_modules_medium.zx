// ============================================
// MEDIUM TESTS: PRINT, DEBUG, USE, IMPORT, EXPORT, MODULE, PACKAGE, FROM, EXTERNAL
// ============================================

// ===================
// PRINT ADVANCED TESTS
// ===================

// Test 1: Print nested data structures
let nested = [[1, 2], [3, 4], [5, 6]];
print nested;
// Expected: [[1, 2], [3, 4], [5, 6]]

// Test 2: Print complex map
let person = {
    "name": "Bob",
    "age": 30,
    "address": {"city": "NYC", "zip": "10001"}
};
print person;
// Expected: Nested map structure

// Test 3: Print from loop
let i = 0;
while (i < 3) {
    print "Iteration: " + i;
    i = i + 1;
}
// Expected: Iteration: 0, Iteration: 1, Iteration: 2

// Test 4: Print function returns in sequence
action getNumbers() {
    return [10, 20, 30];
}
let numbers = getNumbers();
for each num in numbers {
    print "Number: " + num;
}
// Expected: Number: 10, Number: 20, Number: 30

// Test 5: Print with conditionals
let value = 15;
if (value > 10) {
    print "Value is greater than 10";
} else {
    print "Value is 10 or less";
}
// Expected: Value is greater than 10

// Test 6: Print lambda results
let formatter = lambda(x) => "Value: " + x;
print formatter(42);
// Expected: Value: 42

// Test 7: Print comparison results
print 10 > 5;
print 5 == 5;
print 3 != 3;
// Expected: true, true, false

// Test 8: Print arithmetic chain
print (5 + 3) * 2 - 1;
// Expected: 15

// ===================
// DEBUG ADVANCED TESTS
// ===================

// Test 9: Debug in function
action debugTest(param) {
    debug "Function called with: " + param;
    return param * 2;
}
let result = debugTest(10);
print result;
// Expected: [DEBUG] Function called with: 10, then 20

// Test 10: Debug with nested values
let complexData = {"users": [1, 2, 3], "count": 3};
debug complexData;
// Expected: [DEBUG] {users: [1, 2, 3], count: 3}

// Test 11: Debug in loop
let j = 0;
while (j < 3) {
    debug "Loop index: " + j;
    j = j + 1;
}
// Expected: [DEBUG] Loop index: 0, 1, 2

// Test 12: Debug conditionals
let flag = true;
if (flag) {
    debug "Flag is true";
}
// Expected: [DEBUG] Flag is true

// ===================
// MODULE SYSTEM TESTS
// ===================

// Test 13: Use statement with relative path (if modules work)
// Attempt to load helper module
// use "./test_module_helper.zx" as helper;
// print helper.greet("Alice");
// Expected: Hello, Alice (if module system works)
print "Module use tested (may need implementation)";
// Expected: Module use tested...

// Test 14: Multiple external declarations
external hashFunction;
external encryptData;
external decryptData;
print "Multiple externals declared";
// Expected: Multiple externals declared

// Test 15: Module-style organization with namespace
let MyModule = {
    "version": "1.0",
    "add": lambda(a, b) => a + b,
    "subtract": lambda(a, b) => a - b
};

print MyModule["version"];
print MyModule["add"](10, 5);
print MyModule["subtract"](10, 5);
// Expected: 1.0, 15, 5

// Test 16: Simulated package structure
let MathPackage = {
    "core": {
        "add": lambda(a, b) => a + b,
        "multiply": lambda(a, b) => a * b
    },
    "advanced": {
        "power": lambda(base, exp) => base * base
    }
};

print MathPackage["core"]["add"](5, 3);
print MathPackage["core"]["multiply"](5, 3);
// Expected: 8, 15

// Test 17: Export pattern simulation
let exportedFunctions = {
    "publicFunc": lambda(x) => x * 2,
    "anotherFunc": lambda(x) => x + 10
};

print exportedFunctions["publicFunc"](5);
print exportedFunctions["anotherFunc"](5);
// Expected: 10, 15

// Test 18: FROM-like pattern (destructuring simulation)
let utils = {
    "capitalize": lambda(s) => s,
    "lowercase": lambda(s) => s
};

let capitalize = utils["capitalize"];
let lowercase = utils["lowercase"];
print "FROM pattern simulated";
// Expected: FROM pattern simulated

// Test 19: Print formatting patterns
print "Name: " + "Alice" + ", Age: " + 30;
// Expected: Name: Alice, Age: 30

// Test 20: Debug vs Print comparison
print "This is print";
debug "This is debug";
print "Print shown normally";
// Expected: This is print, [DEBUG] This is debug, Print shown normally
