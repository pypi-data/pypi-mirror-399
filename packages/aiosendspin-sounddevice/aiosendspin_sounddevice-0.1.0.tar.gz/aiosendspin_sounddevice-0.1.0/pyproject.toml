[build-system]
build-backend = "setuptools.build_meta"
requires = ["setuptools>=62.3"]

[project]
name = "aiosendspin-sounddevice"
version = "0.1.0"
description = "Python library wrapping aiosendspin and sounddevice for programmatic audio playback"
authors = [
    { name = "Benjamin Hesse", email = "100107950+behesse@users.noreply.github.com" },
]
classifiers = [
    "Development Status :: 3 - Alpha",
    "Intended Audience :: Developers",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Python :: 3.13",
]
dependencies = [
    "aiosendspin>=1.2.0",
    "numpy>=1.24.0",
    "sounddevice>=0.4.6",
    "zeroconf>=0.131.0",
]
requires-python = ">=3.12"
readme = "README.md"
license = "Apache-2.0"

[project.optional-dependencies]
test = [
    "pytest>=7.0.0",
    "pytest-asyncio>=0.21.0",
]
dev = [
    "ruff>=0.1.0",
    "sphinx>=7.0.0",
    "sphinx-rtd-theme>=2.0.0",
    "sphinx-multiversion>=0.2.0",
]

[tool.setuptools.packages.find]
where = ["."]
include = ["aiosendspin_sounddevice*"]

[tool.ruff]
line-length = 200
target-version = "py312"

[tool.ruff.lint]
select = ["ALL"]
ignore = [
    "EM101", # Exception must not use a string literal
    "TRY003", # Avoid specifying long messages outside the exception class
    "COM812", # Trailing comma missing
    "EM102", # Exception must not use an f-string literal
    "PLR2004", # Magic value used in comparison
    "TC003", # Move standard library import into a type-checking block
    "FBT001", # Boolean-typed positional argument in function definition
    "FBT002", # Boolean default positional argument in function definition
    "D213", # Conflicts with other rules
    "D203", # Conflicts with other rules
]

[tool.ruff.lint.per-file-ignores]
"aiosendspin_sounddevice/audio.py" = ["S101"]

[tool.ruff.format]
line-ending = "lf"

[tool.semantic_release]
version_toml = ["pyproject.toml:project.version"]
build_command = "pip install build && python -m build"
dist_path = "dist"
upload_to_vcs_release = false
hvcs = "github"
commit_author = "github-actions <action@github.com>"
changelog_file = ""
