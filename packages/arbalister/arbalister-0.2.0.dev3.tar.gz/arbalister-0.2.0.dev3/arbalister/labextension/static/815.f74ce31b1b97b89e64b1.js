"use strict";(self.webpackChunkarbalister=self.webpackChunkarbalister||[]).push([[815],{815:(e,t,n)=>{n.r(t),n.d(t,{NoOpContentProvider:()=>L,default:()=>P});var a,r=n(584),i=n(827),s=n(907),o=n(591),l=n(409);function c(e,t){switch(e){case a.Parquet:return t?'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000">\n  <path class="jp-icon-selectable" fill="rgb(85, 172, 238)" d="M 375.007812 498.863281 L 252.613281 586.578125 L 311.058594 646.273438 L 434.609375 549.871094 L 375.007812 498.863281 M 697.5625 267.691406 L 397.355469 482.84375 L 457.074219 532.34375 L 755.898438 299.246094 L 697.5625 267.691406 M 533.703125 288.480469 L 182.832031 515.363281 L 234.335938 567.949219 L 587.402344 321.589844 L 533.703125 288.480469 M 625.835938 228.910156 L 549.972656 277.96875 L 603.609375 310.28125 L 679.007812 257.667969 L 625.835938 228.910156 M 580.953125 467.296875 L 331.851562 667.496094 L 398.777344 735.796875 L 648.023438 515.363281 L 580.953125 467.296875 M 776.296875 310.28125 L 599.765625 452.175781 L 666.679688 498.863281 L 840.589844 345.050781 L 776.296875 310.28125 M 361.859375 310.28125 L 120.9375 452.175781 L 166.691406 498.886719 L 410.378906 345.050781 L 361.859375 310.28125 M 863.109375 357.246094 L 422.683594 760.230469 L 500 839.164062 L 934.320312 395.761719 L 863.109375 357.246094 M 560.242188 193.421875 L 380.597656 299.246094 L 429.210938 333.164062 L 608.90625 219.742188 L 560.242188 193.421875 M 500 160.835938 L 544.703125 185.03125 L 106.554688 437.488281 L 65.679688 395.761719 Z"/>\n</svg>\n':'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000">\n  <path class="jp-icon-selectable" fill="#ffffff" d="M 375.007812 498.863281 L 252.613281 586.578125 L 311.058594 646.273438 L 434.609375 549.871094 L 375.007812 498.863281 M 697.5625 267.691406 L 397.355469 482.84375 L 457.074219 532.34375 L 755.898438 299.246094 L 697.5625 267.691406 M 533.703125 288.480469 L 182.832031 515.363281 L 234.335938 567.949219 L 587.402344 321.589844 L 533.703125 288.480469 M 625.835938 228.910156 L 549.972656 277.96875 L 603.609375 310.28125 L 679.007812 257.667969 L 625.835938 228.910156 M 580.953125 467.296875 L 331.851562 667.496094 L 398.777344 735.796875 L 648.023438 515.363281 L 580.953125 467.296875 M 776.296875 310.28125 L 599.765625 452.175781 L 666.679688 498.863281 L 840.589844 345.050781 L 776.296875 310.28125 M 361.859375 310.28125 L 120.9375 452.175781 L 166.691406 498.886719 L 410.378906 345.050781 L 361.859375 310.28125 M 863.109375 357.246094 L 422.683594 760.230469 L 500 839.164062 L 934.320312 395.761719 L 863.109375 357.246094 M 560.242188 193.421875 L 380.597656 299.246094 L 429.210938 333.164062 L 608.90625 219.742188 L 560.242188 193.421875 M 500 160.835938 L 544.703125 185.03125 L 106.554688 437.488281 L 65.679688 395.761719 Z"/>\n</svg>\n';case a.Ipc:return t?'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n\n<svg\n   width="83.2326mm"\n   height="73.554169mm"\n   viewBox="0 0 83.2326 73.554169"\n   version="1.1"\n   id="svg1487"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:dc="http://purl.org/dc/elements/1.1/">\n\n  <g\n     inkscape:label="Layer 1"\n     inkscape:groupmode="layer"\n     id="layer1"\n     transform="translate(133.80105,-78.804994)">\n    <path\n       class="jp-icon-selectable" fill="#070707" stroke-width="0.26458332"\n       d="m -133.80105,144.91836 v -7.45941 l 10.84792,-10.83169 c 5.96635,-5.95744 10.84791,-10.95742 10.84791,-11.11108 0,-0.15366 -4.88156,-5.16507 -10.84791,-11.13646 l -10.84792,-10.857076 v -7.35883 c 0,-4.04736 0.0893,-7.35867 0.19844,-7.35847 0.37929,7.2e-4 36.578637,36.399116 36.578637,36.779786 0,0.3862 -35.452897,36.05425 -36.314057,36.53444 -0.43613,0.24319 -0.46302,-0.17505 -0.46302,-7.20121 z m 45.772917,0.0884 v -7.3524 l 10.84791,-10.8923 c 5.96636,-5.99076 10.84792,-11.04687 10.84792,-11.23579 0,-0.18892 -4.88156,-5.22396 -10.84792,-11.18899 l -10.84791,-10.845486 v -7.3434 c 0,-4.03887 0.0896,-7.3434 0.19915,-7.3434 0.38832,0 36.57793,36.388066 36.57793,36.778516 0,0.38949 -36.19195,36.77565 -36.57936,36.77565 -0.10875,0 -0.19772,-3.30858 -0.19772,-7.3524 z m -23.018747,-0.11466 v -7.20248 l 10.84791,-10.85956 c 5.966357,-5.97276 10.847917,-11.03435 10.847917,-11.24798 0,-0.21363 -4.88156,-5.27522 -10.847917,-11.24798 l -10.84791,-10.859566 v -7.18686 c 0,-3.95278 0.0965,-7.24652 0.21449,-7.31943 0.11797,-0.0729 8.48179,8.13538 18.586257,18.24064 l 18.37177,18.373186 -18.25481,18.25625 c -10.040147,10.04094 -18.403967,18.25626 -18.586257,18.25626 -0.25743,0 -0.33145,-1.60856 -0.33145,-7.20248 z"\n       id="path2043"\n       inkscape:connector-curvature="0" />\n  </g>\n</svg>\n':'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n\x3c!-- Created with Inkscape (http://www.inkscape.org/) --\x3e\n\n<svg\n   width="83.2326mm"\n   height="73.554169mm"\n   viewBox="0 0 83.2326 73.554169"\n   version="1.1"\n   id="svg1487"\n   inkscape:version="1.2.2 (b0a8486541, 2022-12-01)"\n   sodipodi:docname="arrow (1).svg"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:dc="http://purl.org/dc/elements/1.1/">\n  <defs\n     id="defs1481" />\n  <sodipodi:namedview\n     id="base"\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1.0"\n     inkscape:pageopacity="0.0"\n     inkscape:pageshadow="2"\n     inkscape:zoom="0.98994949"\n     inkscape:cx="427.29453"\n     inkscape:cy="188.39345"\n     inkscape:document-units="mm"\n     inkscape:current-layer="layer1"\n     showgrid="false"\n     fit-margin-top="0"\n     fit-margin-left="0"\n     fit-margin-right="0"\n     fit-margin-bottom="0"\n     inkscape:window-width="1374"\n     inkscape:window-height="823"\n     inkscape:window-x="0"\n     inkscape:window-y="0"\n     inkscape:window-maximized="1"\n     inkscape:showpageshadow="2"\n     inkscape:pagecheckerboard="0"\n     inkscape:deskcolor="#d1d1d1" />\n  <metadata\n     id="metadata1484">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title />\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <g\n     inkscape:label="Layer 1"\n     inkscape:groupmode="layer"\n     id="layer1"\n     transform="translate(133.80105,-78.804994)">\n    <path\n       class="jp-icon-selectable" fill="white" stroke-width="0.26458332"\n       d="m -133.80105,144.91836 v -7.45941 l 10.84792,-10.83169 c 5.96635,-5.95744 10.84791,-10.95742 10.84791,-11.11108 0,-0.15366 -4.88156,-5.16507 -10.84791,-11.13646 l -10.84792,-10.857076 v -7.35883 c 0,-4.04736 0.0893,-7.35867 0.19844,-7.35847 0.37929,7.2e-4 36.578637,36.399116 36.578637,36.779786 0,0.3862 -35.452897,36.05425 -36.314057,36.53444 -0.43613,0.24319 -0.46302,-0.17505 -0.46302,-7.20121 z m 45.772917,0.0884 v -7.3524 l 10.84791,-10.8923 c 5.96636,-5.99076 10.84792,-11.04687 10.84792,-11.23579 0,-0.18892 -4.88156,-5.22396 -10.84792,-11.18899 l -10.84791,-10.845486 v -7.3434 c 0,-4.03887 0.0896,-7.3434 0.19915,-7.3434 0.38832,0 36.57793,36.388066 36.57793,36.778516 0,0.38949 -36.19195,36.77565 -36.57936,36.77565 -0.10875,0 -0.19772,-3.30858 -0.19772,-7.3524 z m -23.018747,-0.11466 v -7.20248 l 10.84791,-10.85956 c 5.966357,-5.97276 10.847917,-11.03435 10.847917,-11.24798 0,-0.21363 -4.88156,-5.27522 -10.847917,-11.24798 l -10.84791,-10.859566 v -7.18686 c 0,-3.95278 0.0965,-7.24652 0.21449,-7.31943 0.11797,-0.0729 8.48179,8.13538 18.586257,18.24064 l 18.37177,18.373186 -18.25481,18.25625 c -10.040147,10.04094 -18.403967,18.25626 -18.586257,18.25626 -0.25743,0 -0.33145,-1.60856 -0.33145,-7.20248 z"\n       id="path2043"\n       inkscape:connector-curvature="0" />\n  </g>\n</svg>\n';case a.Orc:return t?'<?xml version="1.0" encoding="UTF-8"?>\n<svg xmlns="http://www.w3.org/2000/svg"\n     viewBox="0 0 50.9929 48.995865"\n     width="50.9929mm" height="48.995865mm">\n  \x3c!-- Group transform preserved so shapes render the same as original --\x3e\n  <g transform="translate(138.53055,-96.65263)">\n\n    <g id="g8046" transform="translate(11.49259,-60.402913)">\n\n      \x3c!-- black/orc shape (kept as part of the mark) --\x3e\n      <path class="jp-icon-selectable" fill="#050704" id="path8048"\n            d="m -129.66248,205.7754 c -9.82903,-1.73552 -17.32343,-8.78411 -19.83282,-18.65306 -0.70378,-2.76782 -0.70378,-8.34467 0,-11.1125 2.11546,-8.3197 7.70498,-14.63238 15.46316,-17.46376 11.97509,-4.37037 25.30912,1.16379 30.73363,12.75569 2.90142,6.20016 2.90142,14.32848 0,20.52865 -3.1428,6.71601 -9.34887,11.83138 -16.43475,13.54637 -2.95379,0.71491 -7.17756,0.88447 -9.92922,0.39861 z m 6.8943,-12.10174 c 2.78875,-4.39309 2.75811,-4.27338 1.67431,-6.54042 -0.71056,-1.48632 -3.69366,-4.50881 -4.45005,-4.50881 -1.42278,0 -5.27366,4.85114 -5.27366,6.6435 0,0.37553 0.49382,1.44539 1.09738,2.37745 0.60356,0.93207 1.73198,2.67694 2.5076,3.87748 0.77561,1.20055 1.51701,2.18282 1.64754,2.18282 0.13053,0 1.38913,-1.81441 2.79688,-4.03202 z m -10.99473,-6.23158 c 0.30019,-0.9883 1.02521,-2.53867 1.61116,-3.44524 1.1604,-1.79536 4.00132,-4.733 5.60084,-5.79151 l 1.00691,-0.66633 1.29687,0.95199 c 3.16224,2.32129 6.23341,6.40746 6.93817,9.23116 0.17314,0.6937 0.42205,1.32756 0.55314,1.40858 0.2197,0.13578 7.20353,-3.35484 7.73717,-3.86715 0.27598,-0.26494 -1.26906,-3.6386 -2.51055,-5.48187 -0.46612,-0.69208 -1.57365,-2.14688 -2.46117,-3.23288 -1.60143,-1.95958 -1.61467,-1.98969 -1.74596,-3.96875 l -0.13229,-1.9942 -2.18211,-0.0768 -2.1821,-0.0768 -2.5208,-1.70911 c -1.38645,-0.94 -2.67751,-1.7091 -2.86903,-1.7091 -0.19152,0 -1.40897,0.74414 -2.70543,1.65365 l -2.3572,1.65364 -2.38125,0.13229 -2.38125,0.13229 -0.13229,2.12912 c -0.13114,2.11051 -0.14414,2.14289 -1.48751,3.70417 -2.62304,3.04852 -5.37712,7.81784 -5.03273,8.71531 0.12241,0.31901 7.06428,4.04615 7.61895,4.09067 0.095,0.008 0.41827,-0.79476 0.71846,-1.78307 z" />\n\n      \x3c!-- small green highlight near orc --\x3e\n      <path class="jp-icon-selectable-inverse" fill="#62d05d" stroke-width="0.2"\n            d="m -126.27719,196.73984 c -0.96338,-1.31061 -3.57222,-5.38864 -4.03964,-6.31458 -0.2204,-0.43662 -0.40073,-0.99907 -0.40073,-1.24991 0,-0.56531 0.84739,-2.27261 1.66776,-3.36015 0.87218,-1.15623 2.40315,-2.675 2.96544,-2.94183 0.43661,-0.20718 0.52422,-0.21007 0.89866,-0.0296 1.12209,0.5407 3.37934,3.0557 4.17425,4.65087 0.62198,1.24816 0.64868,1.89631 0.12072,2.931 -0.67418,1.32123 -4.49386,7.21628 -4.67577,7.21628 -0.0262,0 -0.34601,-0.40592 -0.71069,-0.90204 z" />\n\n      \x3c!-- large green decorative path (kept) --\x3e\n      <path class="jp-icon-selectable-inverse" fill="#62d05d" stroke="none"\n            id="path2429"\n            transform="matrix(0.26458333,0,0,0.26458333,-150.02314,157.05554)"\n            d="m 91.780038,37.756957 c -1.863503,0.848832 -3.570197,2.000997 -5.30177,3.085439 -4.520439,2.936634 -8.833749,6.186009 -13.329196,9.15422 -0.369449,0.249665 -0.85966,0.101456 -1.280467,0.185233 -5.581492,0.340766 -11.166632,0.618455 -16.749015,0.943353 -0.140524,0.470198 -0.07812,1.02993 -0.144535,1.53247 -0.266778,3.793743 -0.410954,7.600747 -0.803293,11.381781 -0.198732,1.724592 -0.719308,3.44007 -1.760915,4.846035 -1.834203,2.564362 -4.026424,4.844795 -5.959159,7.332668 -3.964019,4.977781 -7.543766,10.258805 -10.781615,15.734972 -1.959589,3.397952 -3.871795,6.854328 -5.216981,10.549402 -0.336091,1.04673 -0.718474,2.1416 -0.615554,3.25587 0.117851,0.69721 0.871434,0.97597 1.367731,1.36563 3.88806,2.47342 7.952489,4.65513 11.998294,6.85629 4.493422,2.39625 9.004189,4.76877 13.621769,6.91865 0.60657,0.23316 1.192212,0.58592 1.841506,0.67438 0.420792,-0.0878 0.520406,-0.61227 0.718658,-0.93211 1.473027,-3.35621 2.302274,-6.95409 3.786069,-10.30564 1.784491,-4.11366 3.862995,-8.14201 6.656751,-11.66976 3.715531,-4.770212 7.875164,-9.190672 12.290733,-13.318832 2.340956,-2.174215 4.795108,-4.241981 7.487689,-5.970852 0.975488,-0.638203 1.932312,-1.313189 2.947315,-1.886121 3.460664,2.508035 6.969303,4.973626 10.128337,7.864053 5.73501,5.202679 10.80201,11.15632 14.9653,17.686322 2.13327,3.41425 4.07956,6.98417 5.36005,10.811 0.76672,2.31215 1.20349,4.75783 2.34452,6.93039 0.1607,0.23465 0.37725,0.66823 0.71434,0.4408 2.536,-0.86133 4.93436,-2.07344 7.36128,-3.19532 6.20603,-2.98366 12.36595,-6.07209 18.38787,-9.41353 1.11362,-0.65348 2.27787,-1.24675 3.27577,-2.07517 0.0329,-1.50389 -0.60675,-2.93093 -1.10436,-4.32657 -1.82482,-4.577285 -4.06463,-8.983601 -6.54513,-13.238493 -2.39343,-4.083863 -5.34595,-7.799599 -8.23529,-11.536509 -2.16693,-2.814108 -4.49911,-5.498121 -6.62333,-8.345117 -1.20801,-1.611298 -2.21021,-3.435507 -2.4995,-5.453925 -0.41718,-2.724158 -0.47367,-5.494112 -0.69032,-8.24198 -0.0995,-1.401436 -0.17128,-2.806186 -0.30905,-4.204074 -0.33388,-0.135851 -0.75992,-0.04974 -1.12341,-0.10335 -5.12715,-0.210548 -10.257,-0.349895 -15.38393,-0.565481 -4.7973,-3.230212 -9.53947,-6.544899 -14.417714,-9.652681 -1.79739,-1.091733 -3.569829,-2.250894 -5.491989,-3.114183 -0.311092,-0.180978 -0.576298,-0.178159 -0.887459,7.4e-4 z" />\n    </g>\n\n  </g>\n</svg>\n':'<?xml version="1.0" encoding="UTF-8"?>\n<svg xmlns="http://www.w3.org/2000/svg"\n     viewBox="0 0 50.9929 48.995865"\n     width="50.9929mm" height="48.995865mm">\n  \x3c!-- Group transform preserved so shapes render the same as original --\x3e\n  <g transform="translate(138.53055,-96.65263)">\n\n    <g id="g8046" transform="translate(11.49259,-60.402913)">\n\n      \x3c!-- black/orc shape (kept as part of the mark) --\x3e\n      <path class="jp-icon-selectable" fill="white" id="path8048"\n            d="m -129.66248,205.7754 c -9.82903,-1.73552 -17.32343,-8.78411 -19.83282,-18.65306 -0.70378,-2.76782 -0.70378,-8.34467 0,-11.1125 2.11546,-8.3197 7.70498,-14.63238 15.46316,-17.46376 11.97509,-4.37037 25.30912,1.16379 30.73363,12.75569 2.90142,6.20016 2.90142,14.32848 0,20.52865 -3.1428,6.71601 -9.34887,11.83138 -16.43475,13.54637 -2.95379,0.71491 -7.17756,0.88447 -9.92922,0.39861 z m 6.8943,-12.10174 c 2.78875,-4.39309 2.75811,-4.27338 1.67431,-6.54042 -0.71056,-1.48632 -3.69366,-4.50881 -4.45005,-4.50881 -1.42278,0 -5.27366,4.85114 -5.27366,6.6435 0,0.37553 0.49382,1.44539 1.09738,2.37745 0.60356,0.93207 1.73198,2.67694 2.5076,3.87748 0.77561,1.20055 1.51701,2.18282 1.64754,2.18282 0.13053,0 1.38913,-1.81441 2.79688,-4.03202 z m -10.99473,-6.23158 c 0.30019,-0.9883 1.02521,-2.53867 1.61116,-3.44524 1.1604,-1.79536 4.00132,-4.733 5.60084,-5.79151 l 1.00691,-0.66633 1.29687,0.95199 c 3.16224,2.32129 6.23341,6.40746 6.93817,9.23116 0.17314,0.6937 0.42205,1.32756 0.55314,1.40858 0.2197,0.13578 7.20353,-3.35484 7.73717,-3.86715 0.27598,-0.26494 -1.26906,-3.6386 -2.51055,-5.48187 -0.46612,-0.69208 -1.57365,-2.14688 -2.46117,-3.23288 -1.60143,-1.95958 -1.61467,-1.98969 -1.74596,-3.96875 l -0.13229,-1.9942 -2.18211,-0.0768 -2.1821,-0.0768 -2.5208,-1.70911 c -1.38645,-0.94 -2.67751,-1.7091 -2.86903,-1.7091 -0.19152,0 -1.40897,0.74414 -2.70543,1.65365 l -2.3572,1.65364 -2.38125,0.13229 -2.38125,0.13229 -0.13229,2.12912 c -0.13114,2.11051 -0.14414,2.14289 -1.48751,3.70417 -2.62304,3.04852 -5.37712,7.81784 -5.03273,8.71531 0.12241,0.31901 7.06428,4.04615 7.61895,4.09067 0.095,0.008 0.41827,-0.79476 0.71846,-1.78307 z" />\n\n      \x3c!-- small green highlight near orc --\x3e\n      <path class="jp-icon-selectable-inverse" fill="#62d05d" stroke-width="0.2"\n            d="m -126.27719,196.73984 c -0.96338,-1.31061 -3.57222,-5.38864 -4.03964,-6.31458 -0.2204,-0.43662 -0.40073,-0.99907 -0.40073,-1.24991 0,-0.56531 0.84739,-2.27261 1.66776,-3.36015 0.87218,-1.15623 2.40315,-2.675 2.96544,-2.94183 0.43661,-0.20718 0.52422,-0.21007 0.89866,-0.0296 1.12209,0.5407 3.37934,3.0557 4.17425,4.65087 0.62198,1.24816 0.64868,1.89631 0.12072,2.931 -0.67418,1.32123 -4.49386,7.21628 -4.67577,7.21628 -0.0262,0 -0.34601,-0.40592 -0.71069,-0.90204 z" />\n\n      \x3c!-- large green decorative path (kept) --\x3e\n      <path class="jp-icon-selectable-inverse" fill="#62d05d" stroke="none"\n            id="path2429"\n            transform="matrix(0.26458333,0,0,0.26458333,-150.02314,157.05554)"\n            d="m 91.780038,37.756957 c -1.863503,0.848832 -3.570197,2.000997 -5.30177,3.085439 -4.520439,2.936634 -8.833749,6.186009 -13.329196,9.15422 -0.369449,0.249665 -0.85966,0.101456 -1.280467,0.185233 -5.581492,0.340766 -11.166632,0.618455 -16.749015,0.943353 -0.140524,0.470198 -0.07812,1.02993 -0.144535,1.53247 -0.266778,3.793743 -0.410954,7.600747 -0.803293,11.381781 -0.198732,1.724592 -0.719308,3.44007 -1.760915,4.846035 -1.834203,2.564362 -4.026424,4.844795 -5.959159,7.332668 -3.964019,4.977781 -7.543766,10.258805 -10.781615,15.734972 -1.959589,3.397952 -3.871795,6.854328 -5.216981,10.549402 -0.336091,1.04673 -0.718474,2.1416 -0.615554,3.25587 0.117851,0.69721 0.871434,0.97597 1.367731,1.36563 3.88806,2.47342 7.952489,4.65513 11.998294,6.85629 4.493422,2.39625 9.004189,4.76877 13.621769,6.91865 0.60657,0.23316 1.192212,0.58592 1.841506,0.67438 0.420792,-0.0878 0.520406,-0.61227 0.718658,-0.93211 1.473027,-3.35621 2.302274,-6.95409 3.786069,-10.30564 1.784491,-4.11366 3.862995,-8.14201 6.656751,-11.66976 3.715531,-4.770212 7.875164,-9.190672 12.290733,-13.318832 2.340956,-2.174215 4.795108,-4.241981 7.487689,-5.970852 0.975488,-0.638203 1.932312,-1.313189 2.947315,-1.886121 3.460664,2.508035 6.969303,4.973626 10.128337,7.864053 5.73501,5.202679 10.80201,11.15632 14.9653,17.686322 2.13327,3.41425 4.07956,6.98417 5.36005,10.811 0.76672,2.31215 1.20349,4.75783 2.34452,6.93039 0.1607,0.23465 0.37725,0.66823 0.71434,0.4408 2.536,-0.86133 4.93436,-2.07344 7.36128,-3.19532 6.20603,-2.98366 12.36595,-6.07209 18.38787,-9.41353 1.11362,-0.65348 2.27787,-1.24675 3.27577,-2.07517 0.0329,-1.50389 -0.60675,-2.93093 -1.10436,-4.32657 -1.82482,-4.577285 -4.06463,-8.983601 -6.54513,-13.238493 -2.39343,-4.083863 -5.34595,-7.799599 -8.23529,-11.536509 -2.16693,-2.814108 -4.49911,-5.498121 -6.62333,-8.345117 -1.20801,-1.611298 -2.21021,-3.435507 -2.4995,-5.453925 -0.41718,-2.724158 -0.47367,-5.494112 -0.69032,-8.24198 -0.0995,-1.401436 -0.17128,-2.806186 -0.30905,-4.204074 -0.33388,-0.135851 -0.75992,-0.04974 -1.12341,-0.10335 -5.12715,-0.210548 -10.257,-0.349895 -15.38393,-0.565481 -4.7973,-3.230212 -9.53947,-6.544899 -14.417714,-9.652681 -1.79739,-1.091733 -3.569829,-2.250894 -5.491989,-3.114183 -0.311092,-0.180978 -0.576298,-0.178159 -0.887459,7.4e-4 z" />\n    </g>\n\n  </g>\n</svg>\n';case a.Avro:return'<?xml version="1.0" standalone="yes"?>\n\n<svg width="352" height="300" viewBox="0 0 352 300"  xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_1_2)">\n<path class="jp-icon-selectable" d="M93.2302 183.123L108.653 230.218L349.967 299.041L93.2302 183.123Z" fill="#0068E0"/>\n<path class="jp-icon-selectable" d="M177.476 105.136C180.443 116.884 177.322 124.348 158.31 122.499L349.009 299.224C351.171 300.091 351.548 298.642 350.053 296.434L177.476 105.136Z" fill="#000094"/>\n<path class="jp-icon-selectable" d="M171.416 19.8634C171.416 19.8634 164.615 26.2824 171.77 34.5957C177.076 40.7693 185.013 36.9807 185.013 36.9807C185.013 36.9807 192.322 32.8782 186.771 24.2283C179.553 12.9765 171.416 19.8634 171.416 19.8634ZM350.435 300L79.9015 179.488C79.9015 179.488 -8.49228 124.815 0.665481 103.219C9.5836 82.3131 88.3689 124.439 96.705 126.379C105.041 128.336 109.68 123.058 109.834 119.378C110.079 114.071 98.1315 98.8941 104.328 92.4123C110.502 85.9477 130.694 98.5404 130.694 98.5404L147.076 109.883L350.435 300Z" fill="#1CCCFC"/>\n<path class="jp-icon-selectable" d="M351.502 298.865L172.974 101.102C172.974 101.102 140.816 64.591 142.151 54.138C143.487 43.685 186.194 77.0524 186.194 77.0524C186.194 77.0524 190.942 81.6227 195.443 80.841C199.945 80.0821 195.13 72.5962 195.13 72.5962C195.13 72.5962 187.752 55.456 192.676 52.3806C197.629 49.328 210.13 62.2288 210.13 62.2288C210.13 62.2288 213.251 65.4639 216.526 64.591C219.801 63.7009 218.044 56.5059 218.044 56.5059C218.044 56.5059 195.466 4.44063 205.314 0.560701C220.338 -5.39043 241.734 37.6939 248.912 51.1082C250.715 54.8113 351.502 298.865 351.502 298.865ZM72.9005 54.1608C72.9005 54.1608 63.7428 60.226 73.9276 71.8829C83.2907 82.6269 91.6269 77.0524 91.6269 77.0524C91.6269 77.0524 100.271 71.7688 91.9807 61.8065C81.0141 48.6376 72.9005 54.1608 72.9005 54.1608Z" fill="#1CCCFC"/>\n</g>\n<defs>\n<clipPath id="clip0_1_2">\n<rect width="352" height="300" />\n</clipPath>\n</defs>\n</svg>\n';case a.Sqlite:return t?'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n\n<svg\n   width="41.734001mm"\n   height="46.723713mm"\n   viewBox="0 0 41.734 46.723713"\n   version="1.1"\n   id="svg470"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg">\n  <defs id="defs467">\n    <clipPath\n       clipPathUnits="userSpaceOnUse"\n       id="clipPath41">\n      <path\n         d="m 994.055,997.609 c 6.725,-11.629 35.115,-61.371 40.815,-77.398 6.42,-18.121 7.77,-23.313 7.77,-23.313 0,0 -15.57,80.114 -41.12,126.862 5.6,18.9 12.29,39.79 19.86,62.12 8.85,-15.53 28.96,-51.2 36.23,-68.1 0.27,3.19 0.54,6.38 0.82,9.54 -6.44,24.75 -16.22,57.15 -28.74,82.54 32.14,167.25 135.59,386.25 247.04,504.48 H 509.602 c -37.883,0 -68.711,-30.82 -68.711,-68.71 V 731.789 c 173.738,66.68 383.23,127.633 563.529,125.02 -6.693,25.812 -14.315,49.152 -22.318,62.679 -4.122,6.981 0.449,35.653 11.953,78.121 z"\n         id="path39" />\n    </clipPath>\n    <linearGradient\n       x1="0"\n       y1="0"\n       x2="1"\n       y2="0"\n       gradientUnits="userSpaceOnUse"\n       gradientTransform="matrix(-4.02e-5,-918.907,-918.907,4.02e-5,858.809,1614.34)"\n       spreadMethod="pad"\n       id="linearGradient51">\n      <stop\n         style="stop-opacity:1;stop-color:#97d9f6"\n         offset="0"\n         id="stop43" />\n      <stop\n         style="stop-opacity:1;stop-color:#0f80cc"\n         offset="0.66199914"\n         id="stop45" />\n      <stop\n         style="stop-opacity:1;stop-color:#0f80cc"\n         offset="0.920245"\n         id="stop47" />\n      <stop\n         style="stop-opacity:1;stop-color:#0f80cc"\n         offset="1"\n         id="stop49" />\n    </linearGradient>\n  </defs>\n  <g id="g337">\n    <g\n       id="g465"\n       transform="translate(-56.57816,-61.353828)">\n      <path\n         class="jp-icon-selectable" fill="#0f80cc" stroke="none"\n         d="m 79.198545,96.729705 c -0.02011,-0.25467 -0.0321,-0.420158 -0.0321,-0.420158 0,0 -0.77223,-5.206224 -1.691499,-6.759822 -0.145415,-0.246275 0.01584,-1.257759 0.421676,-2.755936 0.237243,0.410245 1.238779,2.165033 1.439862,2.73043 0.226484,0.639268 0.274109,0.822431 0.274109,0.822431 0,0 -0.549275,-2.826244 -1.450623,-4.47541 0.197556,-0.66675 0.433564,-1.403703 0.700617,-2.191456 0.341489,0.599017 1.158875,2.049286 1.338792,2.552348 0.03634,0.103364 0.06703,0.191205 0.09454,0.271639 0.0088,-0.04833 0.01764,-0.09666 0.02646,-0.144992 -0.206375,-0.875595 -0.611716,-2.399242 -1.166636,-3.524956 1.231195,-6.408209 5.430309,-14.973654 9.735256,-18.795296 H 60.806192 c -1.88214,0 -3.422086,1.540228 -3.422086,3.422298 v 30.970081 c 0,1.881964 1.539946,3.421944 3.422086,3.421944 h 18.49607 c -0.13335,-1.61438 -0.1778,-3.40046 -0.103717,-5.123145"\n         style="fill-rule:nonzero;stroke:none;"\n         id="path21" />\n      <g\n         id="g37"\n         clip-path="url(#clipPath41)"\n         transform="matrix(0.03527778,0,0,-0.03527778,42.828565,121.98722)">\n        <path\n           class="jp-icon-selectable" fill="url(#linearGradient51)" stroke="none"\n           d="m 994.055,997.609 c 6.725,-11.629 35.115,-61.371 40.815,-77.398 6.42,-18.121 7.77,-23.313 7.77,-23.313 0,0 -15.57,80.114 -41.12,126.862 5.6,18.9 12.29,39.79 19.86,62.12 8.85,-15.53 28.96,-51.2 36.23,-68.1 0.27,3.19 0.54,6.38 0.82,9.54 -6.44,24.75 -16.22,57.15 -28.74,82.54 32.14,167.25 135.59,386.25 247.04,504.48 H 509.602 c -37.883,0 -68.711,-30.82 -68.711,-68.71 V 731.789 c 173.738,66.68 383.23,127.633 563.529,125.02 -6.693,25.812 -14.315,49.152 -22.318,62.679 -4.122,6.981 0.449,35.653 11.953,78.121"\n           style="fill-opacity:1;fill-rule:nonzero;"\n           id="path53" />\n      </g>\n      <path\n         class="jp-icon-selectable" fill="#003b57" dtroke="none"\n         d="m 95.439377,63.024997 c -1.923345,-1.715206 -4.252031,-1.026231 -6.550379,1.01353 -0.341136,0.303037 -0.681566,0.639234 -1.020233,0.998362 -3.931709,4.170892 -7.581195,11.896725 -8.715023,17.796934 0.441678,0.895703 0.786695,2.038703 1.013884,2.911828 0.05821,0.224014 0.110772,0.43427 0.152752,0.613128 0.09984,0.423298 0.153459,0.697794 0.153459,0.697794 0,0 -0.03528,-0.133385 -0.179917,-0.552802 -0.02752,-0.08043 -0.05821,-0.168275 -0.09454,-0.271639 -0.01552,-0.04269 -0.03704,-0.09454 -0.06068,-0.149931 -0.25647,-0.596194 -0.965906,-1.854553 -1.278114,-2.402417 -0.267053,0.787753 -0.503061,1.524706 -0.700617,2.191456 0.901348,1.649166 1.450623,4.47541 1.450623,4.47541 0,0 -0.04762,-0.183163 -0.274109,-0.822431 -0.201083,-0.565397 -1.202619,-2.320185 -1.439862,-2.73043 -0.405836,1.498177 -0.567091,2.509661 -0.421676,2.755936 0.282328,0.477202 0.551216,1.300586 0.78733,2.211176 0.5334,2.051367 0.904169,4.548646 0.904169,4.548646 0,0 0.01199,0.165488 0.0321,0.420158 -0.07408,1.722685 -0.02963,3.508765 0.103717,5.123145 0.176741,2.13706 0.509411,3.97288 0.93345,4.9554 l 0.287866,-0.15695 c -0.622652,-1.93573 -0.875594,-4.47255 -0.764822,-7.39814 0.16757,-4.471846 1.196623,-9.86469 3.098095,-15.485534 3.212395,-8.485012 7.669389,-15.292918 11.748559,-18.544118 -3.717925,3.357739 -8.749948,14.22647 -10.256309,18.251312 -1.686631,4.50709 -2.881842,8.736578 -3.602214,12.788831 1.242836,-3.798959 5.261328,-5.431932 5.261328,-5.431932 0,0 1.97097,-2.430745 4.274256,-5.903454 -1.379714,0.314678 -3.645253,0.853369 -4.404078,1.172281 -1.119364,0.469547 -1.420989,0.629708 -1.420989,0.629708 0,0 3.62585,-2.208036 6.736645,-3.207809 4.278136,-6.738056 8.939042,-16.310328 4.245328,-20.497448"\n         style="fill-opacity:1;fill-rule:nonzero;"\n         id="path55" />\n    </g>\n  </g>\n</svg>\n':'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n\n<svg\n   width="41.734001mm"\n   height="46.723713mm"\n   viewBox="0 0 41.734 46.723713"\n   version="1.1"\n   id="svg470"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg">\n  <defs id="defs467">\n    <clipPath\n       clipPathUnits="userSpaceOnUse"\n       id="clipPath41">\n      <path\n         d="m 994.055,997.609 c 6.725,-11.629 35.115,-61.371 40.815,-77.398 6.42,-18.121 7.77,-23.313 7.77,-23.313 0,0 -15.57,80.114 -41.12,126.862 5.6,18.9 12.29,39.79 19.86,62.12 8.85,-15.53 28.96,-51.2 36.23,-68.1 0.27,3.19 0.54,6.38 0.82,9.54 -6.44,24.75 -16.22,57.15 -28.74,82.54 32.14,167.25 135.59,386.25 247.04,504.48 H 509.602 c -37.883,0 -68.711,-30.82 -68.711,-68.71 V 731.789 c 173.738,66.68 383.23,127.633 563.529,125.02 -6.693,25.812 -14.315,49.152 -22.318,62.679 -4.122,6.981 0.449,35.653 11.953,78.121 z"\n         id="path39" />\n    </clipPath>\n    <linearGradient\n       x1="0"\n       y1="0"\n       x2="1"\n       y2="0"\n       gradientUnits="userSpaceOnUse"\n       gradientTransform="matrix(-4.02e-5,-918.907,-918.907,4.02e-5,858.809,1614.34)"\n       spreadMethod="pad"\n       id="linearGradient51">\n      <stop\n         style="stop-opacity:1;stop-color:#97d9f6"\n         offset="0"\n         id="stop43" />\n      <stop\n         style="stop-opacity:1;stop-color:#0f80cc"\n         offset="0.66199914"\n         id="stop45" />\n      <stop\n         style="stop-opacity:1;stop-color:#0f80cc"\n         offset="0.920245"\n         id="stop47" />\n      <stop\n         style="stop-opacity:1;stop-color:#0f80cc"\n         offset="1"\n         id="stop49" />\n    </linearGradient>\n  </defs>\n  <g\n     id="g337">\n    <g\n       id="g465"\n       transform="translate(-56.57816,-61.353828)">\n      <path\n         class="jp-icon-selectable" fill="#0f80cc" stroke="none"\n         d="m 79.198545,96.729705 c -0.02011,-0.25467 -0.0321,-0.420158 -0.0321,-0.420158 0,0 -0.77223,-5.206224 -1.691499,-6.759822 -0.145415,-0.246275 0.01584,-1.257759 0.421676,-2.755936 0.237243,0.410245 1.238779,2.165033 1.439862,2.73043 0.226484,0.639268 0.274109,0.822431 0.274109,0.822431 0,0 -0.549275,-2.826244 -1.450623,-4.47541 0.197556,-0.66675 0.433564,-1.403703 0.700617,-2.191456 0.341489,0.599017 1.158875,2.049286 1.338792,2.552348 0.03634,0.103364 0.06703,0.191205 0.09454,0.271639 0.0088,-0.04833 0.01764,-0.09666 0.02646,-0.144992 -0.206375,-0.875595 -0.611716,-2.399242 -1.166636,-3.524956 1.231195,-6.408209 5.430309,-14.973654 9.735256,-18.795296 H 60.806192 c -1.88214,0 -3.422086,1.540228 -3.422086,3.422298 v 30.970081 c 0,1.881964 1.539946,3.421944 3.422086,3.421944 h 18.49607 c -0.13335,-1.61438 -0.1778,-3.40046 -0.103717,-5.123145"\n         style="fill-opacity:1;fill-rule:nonzero;"\n         id="path21" />\n      <g\n         id="g37"\n         clip-path="url(#clipPath41)"\n         transform="matrix(0.03527778,0,0,-0.03527778,42.828565,121.98722)">\n        <path\n           class="jp-icon-selectable" fill="url(#linearGradient51)" stroke="none"\n           d="m 994.055,997.609 c 6.725,-11.629 35.115,-61.371 40.815,-77.398 6.42,-18.121 7.77,-23.313 7.77,-23.313 0,0 -15.57,80.114 -41.12,126.862 5.6,18.9 12.29,39.79 19.86,62.12 8.85,-15.53 28.96,-51.2 36.23,-68.1 0.27,3.19 0.54,6.38 0.82,9.54 -6.44,24.75 -16.22,57.15 -28.74,82.54 32.14,167.25 135.59,386.25 247.04,504.48 H 509.602 c -37.883,0 -68.711,-30.82 -68.711,-68.71 V 731.789 c 173.738,66.68 383.23,127.633 563.529,125.02 -6.693,25.812 -14.315,49.152 -22.318,62.679 -4.122,6.981 0.449,35.653 11.953,78.121"\n           style="fill-opacity:1;fill-rule:nonzero"\n           id="path53" />\n      </g>\n      <path\n         class="jp-icon-selectable" fill="#ffffff" stroke="none"\n         d="m 95.439377,63.024997 c -1.923345,-1.715206 -4.252031,-1.026231 -6.550379,1.01353 -0.341136,0.303037 -0.681566,0.639234 -1.020233,0.998362 -3.931709,4.170892 -7.581195,11.896725 -8.715023,17.796934 0.441678,0.895703 0.786695,2.038703 1.013884,2.911828 0.05821,0.224014 0.110772,0.43427 0.152752,0.613128 0.09984,0.423298 0.153459,0.697794 0.153459,0.697794 0,0 -0.03528,-0.133385 -0.179917,-0.552802 -0.02752,-0.08043 -0.05821,-0.168275 -0.09454,-0.271639 -0.01552,-0.04269 -0.03704,-0.09454 -0.06068,-0.149931 -0.25647,-0.596194 -0.965906,-1.854553 -1.278114,-2.402417 -0.267053,0.787753 -0.503061,1.524706 -0.700617,2.191456 0.901348,1.649166 1.450623,4.47541 1.450623,4.47541 0,0 -0.04762,-0.183163 -0.274109,-0.822431 -0.201083,-0.565397 -1.202619,-2.320185 -1.439862,-2.73043 -0.405836,1.498177 -0.567091,2.509661 -0.421676,2.755936 0.282328,0.477202 0.551216,1.300586 0.78733,2.211176 0.5334,2.051367 0.904169,4.548646 0.904169,4.548646 0,0 0.01199,0.165488 0.0321,0.420158 -0.07408,1.722685 -0.02963,3.508765 0.103717,5.123145 0.176741,2.13706 0.509411,3.97288 0.93345,4.9554 l 0.287866,-0.15695 c -0.622652,-1.93573 -0.875594,-4.47255 -0.764822,-7.39814 0.16757,-4.471846 1.196623,-9.86469 3.098095,-15.485534 3.212395,-8.485012 7.669389,-15.292918 11.748559,-18.544118 -3.717925,3.357739 -8.749948,14.22647 -10.256309,18.251312 -1.686631,4.50709 -2.881842,8.736578 -3.602214,12.788831 1.242836,-3.798959 5.261328,-5.431932 5.261328,-5.431932 0,0 1.97097,-2.430745 4.274256,-5.903454 -1.379714,0.314678 -3.645253,0.853369 -4.404078,1.172281 -1.119364,0.469547 -1.420989,0.629708 -1.420989,0.629708 0,0 3.62585,-2.208036 6.736645,-3.207809 4.278136,-6.738056 8.939042,-16.310328 4.245328,-20.497448"\n         style="fill-opacity:1;fill-rule:nonzero;"\n         id="path55" />\n    </g>\n  </g>\n</svg>\n';case a.Csv:throw new Error("CSV file type does not have an icon");default:throw new Error(`Unknown file type: ${e}`)}}function d(e,t){return new l.LabIcon({name:`arbalister:${e}`,svgstr:c(e,t)})}!function(e){e.Avro="apache-avro",e.Csv="csv",e.Ipc="apache-arrow-ipc-avro",e.Orc="apache-orc",e.Parquet="apache-parquet",e.Sqlite="sqlite"}(a||(a={})),function(e){e.all=function(){return Object.values(e).filter(e=>"string"==typeof e)}}(a||(a={}));var h=n(176),p=n(262),u=n(503),m=n(247);class g{constructor(){this.map=new Map}set(e,t){return this.map.set(JSON.stringify(e),t),this}get(e){return this.map.get(JSON.stringify(e))}clear(){this.map.clear()}delete(e){return this.map.delete(JSON.stringify(e))}has(e){return this.map.has(JSON.stringify(e))}get size(){return this.map.size}forEach(e,t){this.map.forEach((n,a)=>{e.call(t,n,JSON.parse(a),this)})}}var f=n(611);class w extends u.DataModel{static async fromRemoteFileInfo(e){const{info:t,default_options:n}=await async function(e){const t=await fetch(`/file/info/${e.path}`);if(!t.ok)throw new Error(`Error communicating with the Arbalister server: ${t.status}`);return await t.json()}({path:e.path});return new w(e,n,t)}constructor(e,t,n){super(),this._numRows=0,this._numCols=0,this._loadingParams={rowChunkSize:256,colChunkSize:24,loadingRepr:"",nullRepr:"",...e,prefetchFactors:{rowPrefetchFactor:16,colPrefetchFactor:16,...e.prefetchFactors}},this._fileOptions=t,this._fileInfo=n,this._ready=this.initialize()}async initialize(){const e=await async function(e){const t=["path","delimiter","table_name"],n={tableName:"table_name"},a=new URLSearchParams;for(const r of t){const t=e[r];if(void 0!==t&&null!=t){const e=n[r]||r;a.set(e,t.toString())}}const r=await fetch(`/arrow/stats/${e.path}?${a.toString()}`);if(!r.ok)throw new Error(`Error communicating with the Arbalister server: ${r.status}`);const i=await r.json();if("base64"!==i.schema.encoding)throw new Error(`Unexpected schema encoding: ${i.schema.encoding}, expected "base64"`);if("application/vnd.apache.arrow.stream"!==i.schema.mimetype)throw new Error(`Unexpected schema mimetype: ${i.schema.mimetype}, expected "application/vnd.apache.arrow.stream"`);const s=atob(i.schema.data),o=new Uint8Array(s.length);for(let e=0;e<s.length;e++)o[e]=s.charCodeAt(e);const l=(0,f.tableFromIPC)(o).schema;return{num_rows:i.num_rows,num_cols:i.num_cols,schema:l}}({path:this._loadingParams.path,...this._fileOptions});this._schema=e.schema,this._numCols=e.num_cols,this._numRows=e.num_rows,this._chunks=new y({rowChunkSize:this._loadingParams.rowChunkSize,numRows:this._numRows,colChunkSize:this._loadingParams.colChunkSize,numCols:this._numCols});const t=this._chunks.getChunkIdx({rowIdx:0,colIdx:0});await this.fetchThenStoreChunk(t)}get fileInfo(){return this._fileInfo}get fileReadOptions(){return this._fileOptions}set fileReadOptions(e){this._fileOptions=e,this._ready=this.initialize().then(()=>{this.emitChanged({type:"model-reset"})})}get ready(){return this._ready}get schema(){return this._schema}columnCount(e){return"body"===e?this._numCols:1}rowCount(e){return"body"===e?this._numRows:1}data(e,t,n){switch(e){case"body":return this.dataBody(t,n);case"column-header":{const e=this.schema.fields[n];return`${e.name} (${e.type}${e.nullable?" | null":""})`}case"row-header":return t.toString();case"corner-header":return"";default:throw"unreachable"}}dataBody(e,t){var n;const a=this._chunks.getChunkIdx({rowIdx:e,colIdx:t});if(this._chunks.has(a)){const r=this._chunks.get(a);if("pending"===r.type){if("prefetch"===r.reason){const e=r.promise.then(e=>this.emitChangedChunk(a));this.storeChunkData(a,y.makePendingChunk({promise:e,reason:"query"}))}return this._loadingParams.loadingRepr}const i=e-r.startRow,s=t-r.startCol,o=null===(n=r.data.getChildAt(s))||void 0===n?void 0:n.get(i),l=(null==o?void 0:o.toString())||this._loadingParams.nullRepr;return this.prefetchAsNeededForChunk(a),l}const r=this.fetchThenStoreChunk(a).then(e=>this.emitChangedChunk(a));return this.storeChunkData(a,y.makePendingChunk({promise:r,reason:"query"})),this._loadingParams.loadingRepr}async fetchThenStoreChunk(e,t={rowPrefetchFactor:1,colPrefetchFactor:1}){const{chunkRowIdx:n,chunkColIdx:a}=e,r=n*this._loadingParams.rowChunkSize,i=Math.min(r+this._loadingParams.rowChunkSize*t.rowPrefetchFactor,this._numRows),s=a*this._loadingParams.colChunkSize,o=Math.min(s+this._loadingParams.colChunkSize*t.colPrefetchFactor,this._numCols),l=await async function(e){const t=["start_row","end_row","start_col","end_col","delimiter","table_name"],n=new URLSearchParams;for(const a of t){const t=e[a];void 0!==t&&null!=t&&n.set(a,t.toString())}const a=`/arrow/stream/${e.path}?${n.toString()}`,r=await fetch(a);if(!r.ok)throw new Error(`Error communicating with the Arbalister server: ${r.status}`);return await(0,f.tableFromIPC)(r)}({path:this._loadingParams.path,start_row:r,end_row:i,start_col:s,end_col:o,...this._fileOptions}),c=y.makeChunk({data:l,startRow:r,startCol:s});this.storeChunkData(e,c,t)}storeChunkData(e,t,n={rowPrefetchFactor:1,colPrefetchFactor:1}){const{chunkRowIdx:a,chunkColIdx:r}=e;for(let e=0;e<n.rowPrefetchFactor;e++)for(let i=0;i<n.colPrefetchFactor;i++)this._chunks.set({chunkRowIdx:a+e,chunkColIdx:r+i},t)}emitChangedChunk(e){const{chunkRowIdx:t,chunkColIdx:n}=e,a=t*this._loadingParams.rowChunkSize,r=Math.min(a+this._loadingParams.rowChunkSize,this._numRows),i=n*this._loadingParams.colChunkSize,s=Math.min(i+this._loadingParams.colChunkSize,this._numCols);this.emitChanged({type:"cells-changed",region:"body",row:a,rowSpan:r-a,column:i,columnSpan:s-i})}prefetchAsNeededForChunk(e){const{chunkRowIdx:t,chunkColIdx:n}=e;let a=Promise.resolve();const r={chunkRowIdx:t+1,chunkColIdx:n};if(!this._chunks.has(r)&&this._chunks.chunkIsValid(r)){const e={rowPrefetchFactor:this._loadingParams.prefetchFactors.rowPrefetchFactor,colPrefetchFactor:1};a=a.then(t=>this.fetchThenStoreChunk(r,e)),this.storeChunkData(r,y.makePendingChunk({promise:a,reason:"prefetch"}),e)}const i={chunkRowIdx:t,chunkColIdx:n+1};if(!this._chunks.has(i)&&this._chunks.chunkIsValid(i)){const e={rowPrefetchFactor:1,colPrefetchFactor:this._loadingParams.prefetchFactors.colPrefetchFactor};a=a.then(t=>this.fetchThenStoreChunk(i,e)),this.storeChunkData(i,y.makePendingChunk({promise:a,reason:"prefetch"}),e)}}}class y{constructor(e){this._map=new g,this._parameters=e}getChunkIdx(e){return{chunkRowIdx:Math.floor(e.rowIdx/this._parameters.rowChunkSize),chunkColIdx:Math.floor(e.colIdx/this._parameters.colChunkSize)}}chunkIsValid(e){const{chunkRowIdx:t,chunkColIdx:n}=e,{chunkRowIdx:a,chunkColIdx:r}=this.getChunkIdx({rowIdx:this._parameters.numRows-1,colIdx:this._parameters.numCols-1});return t>=0&&t<=a&&n>=0&&n<=r}set(e,t){return this._map.set(y._chunkIdxToKey(e),t),this}get(e){return this._map.get(y._chunkIdxToKey(e))}clear(){this._map.clear()}delete(e){return this._map.delete(y._chunkIdxToKey(e))}has(e){return this._map.has(y._chunkIdxToKey(e))}get size(){return this._map.size}forEach(e,t){this._map.forEach((n,a)=>{e.call(t,n,y._keyToChunkIdx(a),this)})}static _chunkIdxToKey(e){return[e.chunkRowIdx,e.chunkColIdx]}static _keyToChunkIdx(e){return{chunkRowIdx:e[0],chunkColIdx:e[1]}}}!function(e){e.makeChunk=function(e){return{...e,type:"chunk"}},e.makePendingChunk=function(e){return{...e,type:"pending"}}}(y||(y={}));class v extends m.Widget{constructor(e,t,n){super({node:v.createDropdownNode(e,t,n)}),this._currentValue=n,this._labelName=e,this.addClass("arrow-viewer-toolbar")}static createDropdownNode(e,t,n){const a=document.createElement("div"),r=document.createElement("span"),i=document.createElement("select");r.textContent=`${e}: `,r.className="toolbar-label";for(const[e,a]of t){const t=document.createElement("option");t.value=e,t.textContent=a,e===n&&(t.selected=!0),i.appendChild(t)}a.appendChild(r);const s=l.Styling.wrapSelect(i);return s.classList.add("toolbar-dropdown"),a.appendChild(s),a}get value(){return this.selectNode.value}set value(e){this.selectNode.value=e}get labelName(){return this._labelName}async handleEvent(e){switch(e.type){case"change":{const e=this._currentValue,t=this.value;try{await this.onChange(t),this._currentValue=t}catch(t){this.value=e;const n=i.Dialog.translator.load("jupyterlab"),a=i.Dialog.cancelButton({label:n.__("Close")});await(0,i.showDialog)({title:n.__(`Error changing the ${this.labelName.toLowerCase()} option`),body:"string"==typeof t?t:t.message,buttons:[a]})}break}}}onAfterAttach(e){this.selectNode.addEventListener("change",this)}onBeforeDetach(e){this.selectNode.removeEventListener("change",this)}get selectNode(){return this.node.getElementsByTagName("select")[0]}}class _ extends v{constructor(e,t,n){const a=(e.translator||o.nullTranslator).load("jupyterlab"),r=n.delimiters.map(e=>[e,e]);super(a.__("Delimiter"),r,t.delimiter),this._gridViewer=e.gridViewer}get fileOptions(){return{delimiter:this.value}}async onChange(e){this._gridViewer.updateFileReadOptions({delimiter:e}),await this._gridViewer.ready}}class C extends v{constructor(e,t,n){const a=(e.translator||o.nullTranslator).load("jupyterlab"),r=n.table_names.map(e=>[e,e]);super(a.__("Table"),r,t.table_name),this._gridViewer=e.gridViewer}get fileOptions(){return{table_name:this.value}}async onChange(e){this._gridViewer.updateFileReadOptions({table_name:e}),await this._gridViewer.ready}}class k extends m.Panel{constructor(e){super(),this._revealed=new p.PromiseDelegate,this._baseRenderer=null,this._options=e,this.addClass("arrow-viewer"),this._defaultStyle=u.DataGrid.defaultStyle,this._grid=new u.DataGrid({defaultSizes:{rowHeight:24,columnWidth:144,rowHeaderWidth:64,columnHeaderHeight:36}}),this._grid.addClass("arrow-grid-viewer"),this._grid.headerVisibility="all",this._grid.keyHandler=new u.BasicKeyHandler,this._grid.mouseHandler=new u.BasicMouseHandler,this._grid.copyConfig={separator:"\t",format:u.DataGrid.copyFormatGeneric,headers:"all",warningThreshold:1e6},this.addWidget(this._grid),this._ready=this.initialize()}get ready(){return this._ready.then(()=>this.dataModel.ready)}get revealed(){return this._revealed.promise}get path(){return this._options.path}get dataModel(){return this._grid.dataModel}get fileInfo(){return this.dataModel.fileInfo}get fileReadOptions(){return this.dataModel.fileReadOptions}set fileReadOptions(e){this.dataModel.fileReadOptions=e}updateFileReadOptions(e){this.fileReadOptions={...this.fileReadOptions,...e}}get style(){return this._grid.style}set style(e){this._grid.style={...this._defaultStyle,...e}}set rendererConfig(e){this._baseRenderer=e,this._updateRenderer()}async initialize(){this._defaultStyle=u.DataGrid.defaultStyle,await this._updateGrid(),this._revealed.resolve(void 0)}async _updateGrid(){try{const e=await w.fromRemoteFileInfo({path:this.path});await e.ready,this._grid.dataModel=e,this._grid.selectionModel=new u.BasicSelectionModel({dataModel:e})}catch(e){const t=i.Dialog.translator.load("jupyterlab"),n=[i.Dialog.cancelButton({label:t.__("Close")}),i.Dialog.okButton({label:t.__("Retry")})];(await(0,i.showDialog)({title:"Failed to initialized ArrowGridViewer",body:"string"==typeof e?e:e.message,buttons:n})).button.accept&&await this._updateGrid()}}async _updateRenderer(){if(null===this._baseRenderer)return;const e=this._baseRenderer,t=new u.TextRenderer({textColor:e.textColor,horizontalAlignment:e.horizontalAlignment});this._grid.cellRenderers.update({body:t,"column-header":t,"corner-header":t,"row-header":t})}}class x extends h.DocumentWidget{constructor(e){let{content:t,context:n,reveal:a,...r}=e;t=t||x._createContent(n.path),a=Promise.all([a,t.ready,t.revealed,n.ready]),super({content:t,context:n,reveal:a,...r}),this.addClass("arrow-viewer-base")}static _createContent(e){return new k({path:e})}}class b extends h.ABCWidgetFactory{constructor(e,t){super(e),this._docRegistry=t}createNewWidget(e){const t=this.translator,n=new x({context:e,translator:t});return this.updateIcon(n),n.content.ready.then(()=>{this.makeToolbarItems(n.content).forEach(({widget:e,name:t})=>{n.toolbar.addItem(t,e)})}),n}makeToolbarItems(e){const t=this.fileType(e.path);if(!t)return[];const n=function(e,t,n,r){switch(e){case a.Csv:return new _(t,n,r);case a.Sqlite:return new C(t,n,r);default:return null}}(t.name,{gridViewer:e,translator:this.translator},e.fileReadOptions,e.fileInfo);return n?[{name:`arbalister:${t.name}-toolbar`,widget:n}]:[]}updateIcon(e){const t=this.fileType(e.context.path);void 0!==t&&(e.title.icon=t.icon,t.iconClass&&(e.title.iconClass=t.iconClass),t.iconLabel&&(e.title.iconLabel=t.iconLabel))}fileType(e){const t=a.all(),n=this._docRegistry.getFileTypesForPath(e).filter(e=>t.includes(e.name));if(n.length>=1)return n[0]}}class L{constructor(e){this._currentDrive=e.currentDrive}async get(e,t){return this._currentDrive.get(e,{...t,format:"base64",contentProviderId:void 0,content:!1,hash:!1})}async save(e,t={}){return this._currentDrive.save(e,{...t,contentProviderId:void 0})}}const I="noop-provider",T={activate:function(e,t,n,r,s){console.log("Launching JupyterLab extension arbalister");const o="ArrowTable",l=t.load("jupyterlab"),h=n.contentProviderRegistry;if(h){const e=new L({currentDrive:n});h.register(I,e)}const p=null==s?void 0:s.theme;let u=!0;(null==s?void 0:s.isLight)&&(u=!p||(null==s?void 0:s.isLight(p)));const m=a.all().map(t=>function(e,t,n){const r=e.getFileType(t);if(r)return r;switch(t){case a.Avro:return function(e,t={}){return e.addFileType({...t,name:a.Avro,displayName:"Avro",mimeTypes:["application/avro-binary"],extensions:[".avro"],contentType:"file",fileFormat:"base64"}),e.getFileType(a.Avro)}(e,{icon:d(a.Avro,n)});case a.Parquet:return function(e,t={}){return e.addFileType({...t,name:a.Parquet,displayName:"Parquet",mimeTypes:["application/vnd.apache.parquet"],extensions:[".parquet"],contentType:"file",fileFormat:"base64"}),e.getFileType(a.Parquet)}(e,{icon:d(a.Parquet,n)});case a.Ipc:return function(e,t={}){return e.addFileType({...t,name:a.Ipc,displayName:"Arrow IPC",mimeTypes:["application/vnd.apache.arrow.file"],extensions:[".ipc",".feather",".arrow"],contentType:"file",fileFormat:"base64"}),e.getFileType(a.Ipc)}(e,{icon:d(a.Ipc,n)});case a.Orc:return function(e,t={}){return e.addFileType({...t,name:a.Orc,displayName:"Arrow ORC",mimeTypes:["application/octet-stream"],extensions:[".orc"],contentType:"file",fileFormat:"base64"}),e.getFileType(a.Orc)}(e,{icon:d(a.Orc,n)});case a.Sqlite:return function(e,t={}){return e.addFileType({...t,name:a.Sqlite,displayName:"SQLite",mimeTypes:["application/vnd.sqlite3"],extensions:[".sqlite",".sqlite3",".db",".db3",".s3db",".sl3"],contentType:"file",fileFormat:"base64"}),e.getFileType(a.Sqlite)}(e,{icon:d(a.Sqlite,n)});case a.Csv:return function(e,t={}){return e.addFileType({...t,name:a.Csv,displayName:"CSV",mimeTypes:["text/csv"],extensions:[".csv"],contentType:"file",fileFormat:"text"}),e.getFileType(a.Csv)}(e);default:throw new Error(`Unknown file type: ${t}`)}}(e.docRegistry,t,u)).map(e=>e.name),g=new b({name:o,label:l.__("Arrow Dataframe Viewer"),fileTypes:m,defaultFor:m,readOnly:!0,translator:t,contentProviderId:I},e.docRegistry),f=new i.WidgetTracker({namespace:"arrowviewer"});let w=F.LIGHT_STYLE,y=F.LIGHT_TEXT_CONFIG;r&&r.restore(f,{command:"docmanager:open",args:e=>({path:e.context.path,factory:o}),name:e=>e.context.path}),e.docRegistry.addWidgetFactory(g),g.widgetCreated.connect(async(e,t)=>{try{f.add(t),t.context.pathChanged.connect(()=>{f.save(t)}),await t.content.ready,t.content.style=w,t.content.rendererConfig=y,v(),console.log("JupyterLab extension arbalister is activated!")}catch(e){await(0,i.showErrorMessage)(l.__("ArrowGridViewer widget initialization failed"),e)}});const v=t=>{var n;const r=t||(null==s?void 0:s.theme),i=null===(n=null==s?void 0:s.isLight(r))||void 0===n||n;w=i?F.LIGHT_STYLE:F.DARK_STYLE,y=i?F.LIGHT_TEXT_CONFIG:F.DARK_TEXT_CONFIG,f.forEach(async e=>{await e.content.ready,e.content.style=w,e.content.rendererConfig=y}),a.all().forEach(t=>{!function(e,t,n){const r=e.getFileType(t);(null==r?void 0:r.name)!==a.Csv&&(null==r?void 0:r.icon)&&function(e,t,n){e.svgstr=c(t,n)}(null==r?void 0:r.icon,t,n)}(e.docRegistry,t,i)})};s&&s.themeChanged.connect((e,t)=>{try{const e=t.newValue;v(e)}catch(e){(0,i.showErrorMessage)(l.__("Failed to the viewer according to updated theme"),e)}})},id:"@arbalister/arrowgridviewer-extension:arrowgrid",description:"Adds viewer for file that can be read into Arrow format.",requires:[o.ITranslator,s.IDefaultDrive],optional:[r.ILayoutRestorer,i.IThemeManager],autoStart:!0};var F;!function(e){e.LIGHT_STYLE={voidColor:"#F3F3F3",backgroundColor:"white",headerBackgroundColor:"#EEEEEE",gridLineColor:"rgba(20, 20, 20, 0.15)",headerGridLineColor:"rgba(20, 20, 20, 0.25)",rowBackgroundColor:e=>e%2==0?"#F5F5F5":"white"},e.DARK_STYLE={voidColor:"black",backgroundColor:"#111111",headerBackgroundColor:"#424242",gridLineColor:"rgba(235, 235, 235, 0.15)",headerGridLineColor:"rgba(235, 235, 235, 0.25)",rowBackgroundColor:e=>e%2==0?"#212121":"#111111"},e.LIGHT_TEXT_CONFIG={textColor:"#111111",horizontalAlignment:"left"},e.DARK_TEXT_CONFIG={textColor:"#F5F5F5",horizontalAlignment:"left"}}(F||(F={}));const P=T}}]);