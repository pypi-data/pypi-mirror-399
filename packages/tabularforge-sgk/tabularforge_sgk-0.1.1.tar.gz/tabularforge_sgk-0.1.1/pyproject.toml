[build-system]
# ============================================================================
# BUILD SYSTEM CONFIGURATION
# ============================================================================
# We use setuptools as our build backend - it's the most widely supported
# and compatible build system for Python packages.
# ============================================================================
requires = ["setuptools>=61.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
# ============================================================================
# PROJECT METADATA
# ============================================================================
# This section contains all the metadata about the package that will be
# displayed on PyPI and used by pip for installation.
# ============================================================================
name = "tabularforge-sgk"
version = "0.1.1"
description = "Privacy-Preserving Synthetic Tabular Data Generation"
readme = "README.md"
license = {text = "MIT"}
requires-python = ">=3.8"

# Author information - Update with your details
authors = [
    {name = "Sai Ganesh Kolan", email = "aiganesh1299@gmail.com"}
]

# Maintainer information
maintainers = [
    {name = "Sai Ganesh Kolan", email = "aiganesh1299@gmail.com"}
]

# Keywords help users find your package on PyPI
keywords = [
    "synthetic-data",
    "tabular-data",
    "privacy",
    "differential-privacy",
    "machine-learning",
    "data-generation",
    "GAN",
    "CTGAN",
    "VAE",
    "data-augmentation",
    "GDPR",
    "HIPAA"
]

# Classifiers help categorize your package on PyPI
# Full list: https://pypi.org/classifiers/
classifiers = [
    "Development Status :: 4 - Beta",
    "Intended Audience :: Developers",
    "Intended Audience :: Science/Research",
    "Intended Audience :: Healthcare Industry",
    "Intended Audience :: Financial and Insurance Industry",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.8",
    "Programming Language :: Python :: 3.9",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Topic :: Scientific/Engineering :: Artificial Intelligence",
    "Topic :: Scientific/Engineering :: Information Analysis",
    "Topic :: Security :: Cryptography",
    "Typing :: Typed"
]

# ============================================================================
# DEPENDENCIES
# ============================================================================
# Core dependencies required for the package to function.
# We specify minimum versions to ensure compatibility.
# ============================================================================
dependencies = [
    "numpy>=1.21.0",           # Numerical computing foundation
    "pandas>=1.3.0",           # DataFrame operations
    "scikit-learn>=1.0.0",     # ML utilities and metrics
    "scipy>=1.7.0",            # Statistical functions
    "torch>=1.9.0",            # Deep learning backend for GANs/VAEs
]

# ============================================================================
# OPTIONAL DEPENDENCIES
# ============================================================================
# These are organized into groups that users can install based on their needs.
# Example: pip install tabularforge[dev] or pip install tabularforge[all]
# ============================================================================
[project.optional-dependencies]
# Development dependencies - for contributors
dev = [
    "pytest>=7.0.0",           # Testing framework
    "pytest-cov>=4.0.0",       # Coverage reporting
    "black>=23.0.0",           # Code formatting
    "flake8>=6.0.0",           # Linting
    "isort>=5.12.0",           # Import sorting
    "mypy>=1.0.0",             # Static type checking
    "pre-commit>=3.0.0",       # Git hooks for code quality
]

# Documentation dependencies - for building docs
docs = [
    "sphinx>=6.0.0",           # Documentation generator
    "sphinx-rtd-theme>=1.2.0", # Read the Docs theme
    "myst-parser>=1.0.0",      # Markdown support for Sphinx
]

# Visualization dependencies - for plots and reports
viz = [
    "matplotlib>=3.5.0",       # Plotting library
    "seaborn>=0.12.0",         # Statistical visualizations
]

# All optional dependencies combined
all = [
    "tabularforge[dev,docs,viz]"
]

# ============================================================================
# PROJECT URLS
# ============================================================================
# Links displayed on PyPI page
# ============================================================================
[project.urls]
Homepage = "https://github.com/ganeshreddy28/tabularforge"
Documentation = "https://tabularforge.readthedocs.io"
Repository = "https://github.com/ganeshreddy28/tabularforge"
Issues = "https://github.com/ganeshreddy28/tabularforge"
Changelog = "https://github.com/ganeshreddy28/tabularforge/blob/main/CHANGELOG.md"

# ============================================================================
# SETUPTOOLS CONFIGURATION
# ============================================================================
# Configuration specific to setuptools for package discovery
# ============================================================================
[tool.setuptools]
# Automatically find packages in the directory
packages = ["tabularforge", "tabularforge.generators", "tabularforge.preprocessing", 
            "tabularforge.privacy", "tabularforge.metrics", "tabularforge.utils"]

[tool.setuptools.package-data]
# Include any data files in the package
tabularforge = ["py.typed"]

# ============================================================================
# BLACK CONFIGURATION
# ============================================================================
# Black is our code formatter - these settings ensure consistent formatting
# ============================================================================
[tool.black]
line-length = 100
target-version = ['py38', 'py39', 'py310', 'py311', 'py312']
include = '\.pyi?$'
exclude = '''
/(
    \.eggs
  | \.git
  | \.hg
  | \.mypy_cache
  | \.tox
  | \.venv
  | _build
  | buck-out
  | build
  | dist
)/
'''

# ============================================================================
# ISORT CONFIGURATION
# ============================================================================
# isort organizes imports - configured to be compatible with Black
# ============================================================================
[tool.isort]
profile = "black"
line_length = 100
known_first_party = ["tabularforge"]
skip = [".gitignore", ".dockerignore"]

# ============================================================================
# PYTEST CONFIGURATION
# ============================================================================
# Configuration for our test suite
# ============================================================================
[tool.pytest.ini_options]
minversion = "7.0"
addopts = "-ra -q --strict-markers"
testpaths = ["tests"]
python_files = ["test_*.py", "*_test.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]

# Custom markers for categorizing tests
markers = [
    "slow: marks tests as slow (deselect with '-m \"not slow\"')",
    "integration: marks tests as integration tests",
    "privacy: marks tests related to privacy features",
]

# ============================================================================
# COVERAGE CONFIGURATION
# ============================================================================
# Configuration for test coverage reporting
# ============================================================================
[tool.coverage.run]
source = ["tabularforge"]
branch = true
omit = [
    "*/tests/*",
    "*/__pycache__/*",
]

[tool.coverage.report]
exclude_lines = [
    "pragma: no cover",
    "def __repr__",
    "raise AssertionError",
    "raise NotImplementedError",
    "if __name__ == .__main__.:",
    "if TYPE_CHECKING:",
]

# ============================================================================
# MYPY CONFIGURATION
# ============================================================================
# Static type checking configuration
# ============================================================================
[tool.mypy]
python_version = "3.8"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true
disallow_incomplete_defs = true
check_untyped_defs = true
ignore_missing_imports = true
