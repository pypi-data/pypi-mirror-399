"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["52524"],{50248:function(n,t,e){e.d(t,{n:function(){return r}});var r=function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return null!==(n=t.activeElement)&&void 0!==n&&null!==(n=n.shadowRoot)&&void 0!==n&&n.activeElement?r(t.activeElement.shadowRoot):t.activeElement}},65522:function(n,t,e){e.d(t,{A:function(){return r}});e(42762);var r=function(n){var t;return null===(t=n.name)||void 0===t?void 0:t.trim()}},79:function(n,t,e){e.d(t,{Kh:function(){return s},xn:function(){return u},T:function(){return o}});var r=e(31432),i=(e(2008),e(62062),e(18111),e(22489),e(61701),e(26099),e(16034),e(42762),e(22786));e(23792),e(31415),e(17642),e(58004),e(33853),e(45876),e(32475),e(15024),e(31698),e(47764),e(62953);var a=e(28978),u=function(n){var t;return null===(t=n.name_by_user||n.name)||void 0===t?void 0:t.trim()},o=function(n,t,e){return u(n)||e&&c(t,e)||t.localize("ui.panel.config.devices.unnamed_device",{type:t.localize("ui.panel.config.devices.type.".concat(n.entry_type||"device"))})},c=function(n,t){var e,i=(0,r.A)(t||[]);try{for(i.s();!(e=i.n()).done;){var u=e.value,o="string"==typeof u?u:u.entity_id,c=n.states[o];if(c)return(0,a.u)(c)}}catch(s){i.e(s)}finally{i.f()}},s=(0,i.A)(function(n){return function(n){var t,e=new Set,i=new Set,a=(0,r.A)(n);try{for(a.s();!(t=a.n()).done;){var u=t.value;i.has(u)?e.add(u):i.add(u)}}catch(o){a.e(o)}finally{a.f()}return e}(Object.values(n).map(function(n){return u(n)}).filter(function(n){return void 0!==n}))})},55931:function(n,t,e){e.d(t,{X:function(){return r}});e(42762);var r=function(n){var t;return null===(t=n.name)||void 0===t?void 0:t.trim()}},91926:function(n,t,e){e.d(t,{O:function(){return l},o:function(){return f}});var r,i=e(61397),a=e(50264),u=(e(28706),e(26099),e(3362),e(27495),e(25440),e(96126)),o=e(1087),c=e(63091),s=function(){var n=(0,a.A)((0,i.A)().m(function n(t){var e,r;return(0,i.A)().w(function(n){for(;;)switch(n.n){case 0:if(r=c.G.history,null!==(e=r.state)&&void 0!==e&&e.dialog&&!(Date.now()-t>=500)){n.n=1;break}return n.a(2,!0);case 1:return n.n=2,(0,u.Jh)();case 2:if(n.v){n.n=3;break}return console.warn("Navigation blocked, because dialog refused to close"),n.a(2,!1);case 3:return n.n=4,new Promise(function(n){setTimeout(n)});case 4:return n.a(2,s(t))}},n)}));return function(t){return n.apply(this,arguments)}}(),f=function(){var n=(0,a.A)((0,i.A)().m(function n(t,e){var r,a,u,f;return(0,i.A)().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,s(Date.now());case 1:if(n.v){n.n=2;break}return n.a(2,!1);case 2:return(r=(null==e?void 0:e.replace)||!1)?c.G.history.replaceState(null!==(a=c.G.history.state)&&void 0!==a&&a.root?{root:!0}:null!==(u=null==e?void 0:e.data)&&void 0!==u?u:null,"",t):c.G.history.pushState(null!==(f=null==e?void 0:e.data)&&void 0!==f?f:null,"",t),(0,o.r)(c.G,"location-changed",{replace:r}),n.a(2,!0)}},n)}));return function(t,e){return n.apply(this,arguments)}}(),l=66649!=e.j?(r=(0,a.A)((0,i.A)().m(function n(t){var e;return(0,i.A)().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,s(Date.now());case 1:if(n.v){n.n=2;break}return n.a(2);case 2:if(!((e=c.G.history).length>1)){n.n=3;break}return e.back(),n.a(2);case 3:f(t||"/",{replace:!0});case 4:return n.a(2)}},n)})),function(n){return r.apply(this,arguments)}):null},7553:function(n,t,e){e.d(t,{h:function(){return s}});var r=e(43080),i=e(44734),a=e(69683),u=e(6454),o=e(68790),c=(e(16280),e(28706),e(23792),e(26099),e(3362),e(47764),e(62953),function(n){function t(n){var e;(0,i.A)(this,t);for(var r=arguments.length,u=new Array(r>1?r-1:0),o=1;o<r;o++)u[o-1]=arguments[o];return e=(0,a.A)(this,t,[].concat(u)),Error.captureStackTrace&&Error.captureStackTrace(e,t),e.name="TimeoutError",e.timeout=n,e.message="Timed out in ".concat(n," ms."),e}return(0,u.A)(t,n),(0,r.A)(t)}((0,o.A)(Error))),s=function(n,t){var e=new Promise(function(t,e){setTimeout(function(){e(new c(n))},n)});return Promise.race([t,e])}},38911:function(n,t,e){e.d(t,{$F:function(){return s},HD:function(){return b},IC:function(){return f},WF:function(){return l},Wq:function(){return i},X1:function(){return u},_o:function(){return g},g5:function(){return _},iN:function(){return a},ih:function(){return m},pe:function(){return y},qL:function(){return d},rX:function(){return h},rf:function(){return p},tM:function(){return v},wn:function(){return c},xJ:function(){return o}});var r=e(56261),i=(0,r.q6)("connection"),a=(0,r.q6)("states"),u=(0,r.q6)("entities"),o=(0,r.q6)("devices"),c=(0,r.q6)("areas"),s=(0,r.q6)("localize"),f=(0,r.q6)("locale"),l=(0,r.q6)("config"),d=(0,r.q6)("themes"),g=(0,r.q6)("selectedTheme"),v=(0,r.q6)("user"),y=(0,r.q6)("userData"),h=(0,r.q6)("panels"),m=(0,r.q6)("extendedEntities"),p=(0,r.q6)("floors"),b=(0,r.q6)("labels"),_=(0,r.q6)("configEntries")},59241:function(n,t,e){e.d(t,{BM:function(){return E},Bz:function(){return A},DW:function(){return d},Er:function(){return l},G3:function(){return y},G_:function(){return h},Ox:function(){return k},P9:function(){return T},RP:function(){return b},bg:function(){return m},jh:function(){return g},n4:function(){return w},v:function(){return v}});var r=e(31432),i=(e(2008),e(50113),e(74423),e(25276),e(26910),e(18111),e(22489),e(20116),e(69085),e(26099),e(70570)),a=e(22786),u=e(71727),o=e(28978),c=e(52220),s=e(9899),f=66649!=e.j?["sensor","binary_sensor"]:null,l=function(n,t){var e=t.filter(function(t){return n.states[t.entity_id]&&"battery"===n.states[t.entity_id].attributes.device_class&&f.includes((0,u.m)(t.entity_id))}).sort(function(n,t){return f.indexOf((0,u.m)(n.entity_id))-f.indexOf((0,u.m)(t.entity_id))});if(e.length>0)return e[0]},d=function(n,t){return t.find(function(t){return n.states[t.entity_id]&&"battery_charging"===n.states[t.entity_id].attributes.device_class})},g=function(n,t){if(t.name)return t.name;var e=n.states[t.entity_id];return e?(0,o.u)(e):t.original_name?t.original_name:t.entity_id},v=function(n,t){return n.callWS({type:"config/entity_registry/get",entity_id:t})},y=function(n,t){return n.callWS({type:"config/entity_registry/get_entries",entity_ids:t})},h=function(n,t,e){return n.callWS(Object.assign({type:"config/entity_registry/update",entity_id:t},e))},m=function(n,t){return n.callWS({type:"config/entity_registry/remove",entity_id:t})},p=function(n){return n.sendMessagePromise({type:"config/entity_registry/list"})},b=function(n){return n.sendMessagePromise({type:"config/entity_registry/list_for_display"})},_=function(n,t){return n.subscribeEvents((0,s.s)(function(){return p(n).then(function(n){return t.setState(n,!0)})},500,!0),"entity_registry_updated")},A=function(n,t){return(0,i.N)("_entityRegistry",p,_,n,t)},w=function(n,t){return n.sort(function(n,e){return(0,c.SH)(n.name||"",e.name||"",t)})},k=(0,a.A)(function(n){var t,e={},i=(0,r.A)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;e[a.entity_id]=a}}catch(u){i.e(u)}finally{i.f()}return e}),T=(0,a.A)(function(n){var t,e={},i=(0,r.A)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;e[a.id]=a}}catch(u){i.e(u)}finally{i.f()}return e}),E=function(n,t){return n.callWS({type:"config/entity_registry/get_automatic_entity_ids",entity_ids:t})}},65063:function(n,t,e){e.d(t,{an:function(){return c},dk:function(){return o},showAlertDialog:function(){return u}});e(23792),e(69085),e(26099),e(3362),e(47764),e(62953);var r=e(1087),i=function(){return Promise.all([e.e("44533"),e.e("7199"),e.e("37382"),e.e("71635"),e.e("42310")]).then(e.bind(e,26683))},a=function(n,t,e){return new Promise(function(a){var u=t.cancel,o=t.confirm;(0,r.r)(n,"show-dialog",{dialogTag:"dialog-box",dialogImport:i,dialogParams:Object.assign(Object.assign(Object.assign({},t),e),{},{cancel:function(){a(!(null==e||!e.prompt)&&null),u&&u()},confirm:function(n){a(null==e||!e.prompt||n),o&&o(n)}})})})},u=function(n,t){return a(n,t)},o=function(n,t){return a(n,t,{confirmation:!0})},c=function(n,t){return a(n,t,{prompt:!0})}},96126:function(n,t,e){e.d(t,{Jh:function(){return b},oO:function(){return A},t3:function(){return p},ui:function(){return h},zU:function(){return m}});var r=e(31432),i=e(61397),a=e(50264),u=(e(48980),e(44114),e(54554),e(69085),e(26099),e(3362),e(62371));if(66649!=e.j)var o=e(50248);var c,s,f,l=e(63091),d=e(12587),g={},v=[],y=Symbol.for("HA focus target"),h=66649!=e.j?(c=(0,a.A)((0,i.A)().m(function n(t,e,r,a,c){var s,f,d,m,p,b,A,k=arguments;return(0,i.A)().w(function(n){for(;;)switch(n.n){case 0:if(s=!(k.length>5&&void 0!==k[5])||k[5],r in g){n.n=2;break}if(c){n.n=1;break}return n.a(2,!1);case 1:g[r]={element:c().then(function(){var n=document.createElement(r);return t.provideHass(n),n.addEventListener("dialog-closed",_),n.addEventListener("dialog-closed",w),n})};case 2:if(!s){n.n=5;break}if(m=l.G.history,null===(f=m.state)||void 0===f||!f.dialog||v.length){n.n=4;break}return n.n=3,new Promise(function(n){setTimeout(n)});case 3:return n.a(2,h(t,e,r,a,c,s));case 4:-1!==(p=v.findIndex(function(n){return n.dialogTag===r}))&&v.splice(p,1),v.push({element:t,root:e,dialogTag:r,dialogParams:a,dialogImport:c,addHistory:s}),b={dialog:r},null!==(d=m.state)&&void 0!==d&&d.dialog?m.replaceState(b,""):(m.replaceState(Object.assign(Object.assign({},m.state),{},{opensDialog:!0}),""),m.pushState(b,""));case 5:return g[r].closedFocusTargets=(0,u.E)((0,o.n)(),y),n.n=6,g[r].element;case 6:return A=n.v,e.appendChild(A),A.showDialog(a),n.a(2,!0)}},n)})),function(n,t,e,r,i){return c.apply(this,arguments)}):null,m=function(){var n=(0,a.A)((0,i.A)().m(function n(t,e){var r;return(0,i.A)().w(function(n){for(;;)switch(n.n){case 0:if(t in g){n.n=1;break}return n.a(2,!0);case 1:return n.n=2,g[t].element;case 2:if(!(r=n.v).closeDialog){n.n=3;break}return n.a(2,!1!==r.closeDialog(e));case 3:return n.a(2,!0)}},n)}));return function(t,e){return n.apply(this,arguments)}}(),p=66649!=e.j?(s=(0,a.A)((0,i.A)().m(function n(t){var e,r,a;return(0,i.A)().w(function(n){for(;;)switch(n.n){case 0:if(!v.length){n.n=2;break}return r=v.pop(),n.n=1,m(r.dialogTag,t);case 1:return(a=n.v)?v.length&&null!==(e=l.G.history.state)&&void 0!==e&&e.opensDialog&&l.G.history.pushState({dialog:v[v.length-1].dialogTag},""):v.push(r),n.a(2,a);case 2:return n.a(2,!0)}},n)})),function(n){return s.apply(this,arguments)}):null,b=function(){var n=(0,a.A)((0,i.A)().m(function n(){var t,e;return(0,i.A)().w(function(n){for(;;)switch(n.n){case 0:t=v.length-1;case 1:if(!(t>=0)){n.n=5;break}if(e=!v[t]){n.n=3;break}return n.n=2,m(v[t].dialogTag);case 2:e=n.v;case 3:if(e){n.n=4;break}return n.a(2,!1);case 4:t--,n.n=1;break;case 5:return n.a(2,!0)}},n)}));return function(){return n.apply(this,arguments)}}(),_=function(n){var t,e=v.findIndex(function(t){return t.dialogTag===n.detail.dialog});-1!==e&&v.splice(e,1),(null===(t=l.G.history.state)||void 0===t?void 0:t.dialog)===n.detail.dialog&&(v.length?l.G.history.replaceState({dialog:v[v.length-1].dialogTag},""):-1!==e&&l.G.history.back())},A=function(n,t){n.addEventListener("show-dialog",function(e){var r=e.detail,i=r.dialogTag,a=r.dialogImport,u=r.dialogParams,o=r.addHistory;h(n,t,i,u,a,o)})},w=66649!=e.j?(f=(0,a.A)((0,i.A)().m(function n(t){var e,a,u,c,s,f;return(0,i.A)().w(function(n){for(;;)switch(n.p=n.n){case 0:if(g[t.detail.dialog]){n.n=1;break}return n.a(2);case 1:if(e=g[t.detail.dialog].closedFocusTargets,delete g[t.detail.dialog].closedFocusTargets,e){n.n=2;break}return n.a(2);case 2:return(a=(0,o.n)())instanceof HTMLElement&&a.blur(),n.n=3,(0,d.E)();case 3:u=(0,r.A)(e),n.p=4,u.s();case 5:if((c=u.n()).done){n.n=7;break}if(!((s=c.value)instanceof HTMLElement)){n.n=6;break}if(s.focus(),!(a=(0,o.n)())||a===document.body){n.n=6;break}return n.a(2);case 6:n.n=5;break;case 7:n.n=9;break;case 8:n.p=8,f=n.v,u.e(f);case 9:return n.p=9,u.f(),n.f(9);case 10:case 11:return n.a(2)}},n,null,[[4,8,9,10]])})),function(n){return f.apply(this,arguments)}):null}}]);
//# sourceMappingURL=52524.a8d1907d4d473683.js.map