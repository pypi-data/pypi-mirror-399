# C/C++ Header File Plugin
# Provides 4-level progressive disclosure for .h and .hpp files

extension: [.h, .hpp, .hh]
name: C/C++ Header
description: C and C++ header files
icon: ðŸ”§

levels:
  0:
    name: metadata
    description: File statistics and basic info
    breadcrumb: "File metadata"
    analyzer: null
    outputs:
      - file_size
      - line_count
      - encoding
      - header_guards
      - include_count
    next_levels: [1, 2, 3]

  1:
    name: structure
    description: Declarations, includes, and definitions
    breadcrumb: "Includes, defines, declarations"
    analyzer: c_header_structure
    outputs:
      - includes
      - defines
      - typedefs
      - struct_declarations
      - function_declarations
      - class_declarations  # C++
      - namespaces  # C++
      - template_declarations  # C++
    next_levels: [0, 2, 3]
    tips:
      - "Use --grep to find specific declarations"
      - "Level 2 shows function signatures"

  2:
    name: preview
    description: Declarations with signatures
    breadcrumb: "Function signatures, struct definitions"
    analyzer: c_header_preview
    outputs:
      - function_signatures
      - struct_definitions
      - class_definitions
      - template_definitions
      - documentation_comments
    next_levels: [0, 1, 3]
    tips:
      - "See implementation details with --level 3"

  3:
    name: full
    description: Complete header content
    breadcrumb: "Complete header file (paged)"
    analyzer: null
    outputs:
      - full_content
    next_levels: [0, 1, 2]
    paging: true
    page_size: 120

features:
  grep: true
  context: true
  paging: true
  line_numbers: true
  syntax_highlighting: true

analyzer_config:
  parse_comments: true
  extract_doxygen: true
  include_private: true
  detect_extern_c: true

examples:
  - command: "reveal mylib.h"
    description: "Show header metadata"
  - command: "reveal mylib.h -l 1"
    description: "Show includes and declarations"
  - command: "reveal mylib.h -l 2 --grep 'process'"
    description: "Preview process function signatures"
  - command: "reveal mylib.h -l 3"
    description: "Show complete header content"
