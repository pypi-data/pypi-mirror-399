Metadata-Version: 2.1
Name: pysbs-peru
Version: 0.0.5
Summary: pysbs-peru Cliente Python no oficial para acceder a datos financieros p煤blicos de la SBS Per煤 (Curvas, Vectores, Spreads) | Market Data Per煤 | Finanzas
Download-URL: https://URL_PAQUETE/pysbs-peru/-/archive/master/pysbs-peru-master.tar
Author: Erik Carl Candela Rojas
Author-email: erik.candela.rojas@gmail.com
License: NOTFOUND
Keywords: pysbs-peru,paquete,package,sbs web scraping,curva cupon cero,Vector Precio Renta Fija,Indice Spreads Corporativo
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Topic :: Software Development :: Build Tools
Classifier: Programming Language :: Python :: 3.8
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: pandas>=1.5.3
Requires-Dist: numpy>=1.24.4
Requires-Dist: plotly>=5.15.0
Requires-Dist: beautifulsoup4>=4.12.3
Requires-Dist: tabula-py>=2.7.0
Requires-Dist: PyYAML
Requires-Dist: pyarrow
Requires-Dist: openpyxl>=3.0.7
Requires-Dist: pyxlsb>=1.0.9
Requires-Dist: xlrd>=2.0.1
Requires-Dist: lxml>=4.9.0
Requires-Dist: html5lib>=1.1


# pysbs-peru: Cliente Python no oficial para acceder a datos financieros p煤blicos de la SBS Per煤 (Curvas, Vectores, Spreads) | Market Data Per煤 | Finanzas
==============================

> 锔 **Aviso:** Esta es una librer铆a de c贸digo abierto **NO OFICIAL**. Su desarrollo es independiente y no tiene vinculaci贸n con la Superintendencia de Banca, Seguros y AFP. Te recomendamos revisar la [Nota legal y Exenci贸n de Responsabilidad](https://github.com/ecandela/pysbs-peru/blob/main/docs/NotaLegal.md) antes de su uso.

<a target="new" href="https://pypi.org/project/pysbs-peru/"><img border=0 src="https://img.shields.io/badge/python-%203.8.2+-blue.svg?style=flat" alt="Python version"></a>
<a target="new" href="https://pypi.org/project/pysbs-peru/"><img border=0 src="https://img.shields.io/pypi/v/pysbs-peru.svg?maxAge=60%" alt="PyPi version"></a>
<a target="new" href="https://pypi.org/project/pysbs-peru/"><img border=0 src="https://img.shields.io/pypi/status/pysbs-peru.svg?maxAge=60" alt="PyPi status"></a>

**pysbs-peru** ofrece una interfaz *Pythonica* para acceder a datos hist贸ricos y vigentes (Curvas Cup贸n Cero, Vectores de Precios, Spreads) originados en la informaci贸n p煤blica de la [Superintendencia de Banca y Seguros del Per煤](https://www.sbs.gob.pe/).

Esta librer铆a facilita el acceso a la informaci贸n mediante el consumo de datos estructurados, garantizando mayor estabilidad y rapidez al evitar la dependencia de *web scraping* en tiempo real sobre el portal gubernamental.

*El nombre del paquete es utilizado con fines descriptivos y de referencia a la fuente de datos (Uso Justo Nominativo).*

**Recursos Adicionales**:
Para una introducci贸n detallada y casos de uso financiero, te recomendamos leer el art铆culo:
<a target="new" href="https://medium.com/@erik.candela.rojas/acceso-eficiente-a-datos-para-la-valorizaci%C3%B3n-de-instrumentos-de-deuda-en-el-per%C3%BA-con-python-45da0e5ac45e">Acceso Eficiente a Datos para la Valorizaci贸n de Instrumentos de Deuda en el Per煤 con Python</a>.

-----------------
## Caracter铆sticas 
A continuaci贸n se encuentran las caracter铆sticas que aborda este paquete. 
- Curva cup贸n cero:
  - Extracci贸n plazos y tasas de inter茅s por tipo de curva de la SBS.
  - Gr谩fica de curva.
  - Interpolaci贸n lineal de la curva.
- Vector de precio de renta fija:
  - Extracci贸n de datos de vector de precio por fecha de procesamiento desde la SBS.
  - Extracci贸n de emisores disponibles del vector de precio.
  - Extracci贸n de datos hist贸ricos de precios por ISIN.
- ndice spread corporativo.
  - Extracci贸n de datos desde la SBS.

---  


## Instalaci贸n

Instala `pysbs-peru` usando `pip`:

``` {.sourceCode .bash}
$ pip install pysbs-peru
```

---


# Quick Start

##  M贸dulo CuponCero

Puedes ver un ejemplo pr谩ctico en el siguiente notebook:
[ Ver Demo en GitHub](https://github.com/ecandela/pysbs-peru/blob/main/test/Cupon_cero.ipynb)

### `get_curva_cupon_cero`

Esta funci贸n permite acceder a los datos de cup贸n cero de la SBS filtrando por tipo de curva y fecha de procesamiento.

**Par谩metros**

| Par谩metro | Tipo | Descripci贸n | Formato / Ejemplo |
| :--- | :---: | :--- | :--- |
| `fechaProceso` | `str` | Fecha de procesamiento de los datos. | `"dd/mm/yyyy"` |
| `tipoCurva` | `str` | C贸digo del tipo de curva deseada. | Ver tabla inferior |

**Tipos de Curva (`tipoCurva`)**

| C贸digo | Descripci贸n |
| :--- | :--- |
| **CBCRS** | Curva Cup贸n Cero CD BCRP |
| **CCSDF** | Curva Cup贸n Cero D贸lares CP |
| **CSBCRD** | Curva Cup贸n Cero D贸lares Sint茅tica |
| **CCINFS** | Curva Cup贸n Cero Inflaci贸n Soles BCRP |
| **CCCLD** | Curva Cup贸n Cero Libor D贸lares |
| **CCPEDS** | Curva Cup贸n Cero Per煤 Exterior D贸lares - Soberana |
| **CCPSS** | Curva Cup贸n Cero Per煤 Soles Soberana |
| **CCPVS** | Curva Cup贸n Cero Per煤 Vac Soberana |

###  Ejemplo de uso

```python
import pysbs_peru.CuponCero as cc

# Configuraci贸n de la carpeta de cach茅 (Usa raw strings 'r' para rutas en Windows)
cc.config.CACHE_DIR = r"E:\cache_temp" 

# Par谩metros de consulta
tp_curva = 'CCPSS'
fec_proceso = '31/07/2023'

# Obtiene los datos de la curva de cup贸n cero para la fecha indicada
df_cup = cc.get_curva_cupon_cero(
    tipoCurva=tp_curva, 
    fechaProceso=fec_proceso
)

# Visualizar los primeros registros
df_cup.head()
```

![cupon primeros 5 registros](https://raw.githubusercontent.com/ecandela/pysbs-peru/main/references/imagenes/cupon_head.png)

### plot_curva


Si deseas visualizar la gr谩fica de la curva de cup贸n cero, sigue estos pasos:

```python
cc.plot_curva(df_cup)
```

![Abrir Terminal](https://raw.githubusercontent.com/ecandela/pysbs-peru/main/references/imagenes/curva_c0.png)

### `get_curva_cupon_cero_historico`

La funci贸n `get_curva_cupon_cero_historico` permite extraer los datos de cup贸n cero de la SBS para un rango de fechas espec铆fico y un tipo de curva determinado.

**Par谩metros**

| Par谩metro | Tipo | Descripci贸n | Formato / Ejemplo |
| :--- | :---: | :--- | :--- |
| `fechaInicio` | `str` | Fecha de inicio del rango de consulta. | `"YYYY-MM-DD"` |
| `fechaFin` | `str` | Fecha de fin del rango de consulta. | `"YYYY-MM-DD"` |
| `tipoCurva` | `str` | C贸digo del tipo de curva deseada. | Ver tabla inferior |

**Tipos de Curva (`tipoCurva`)**

| C贸digo | Descripci贸n |
| :--- | :--- |
| **CBCRS** | Curva Cup贸n Cero CD BCRP |
| **CCSDF** | Curva Cup贸n Cero D贸lares CP |
| **CSBCRD** | Curva Cup贸n Cero D贸lares Sint茅tica |
| **CCINFS** | Curva Cup贸n Cero Inflaci贸n Soles BCRP |
| **CCCLD** | Curva Cup贸n Cero Libor D贸lares |
| **CCPEDS** | Curva Cup贸n Cero Per煤 Exterior D贸lares - Soberana |
| **CCPSS** | Curva Cup贸n Cero Per煤 Soles Soberana |
| **CCPVS** | Curva Cup贸n Cero Per煤 Vac Soberana |

###  Ejemplo de uso

```python
import pysbs_peru.CuponCero as cc

# Par谩metros para la consulta hist贸rica
fecha_inicio = "2023-08-01"
fecha_fin = "2023-08-26"
tp_curva = 'CCPSS'

# Obtiene los datos hist贸ricos de la curva de cup贸n cero
df_cup_hist = cc.get_curva_cupon_cero_historico(
    fechaInicio=fecha_inicio,
    fechaFin=fecha_fin,
    tipoCurva=tp_curva
)

# Visualizar los primeros registros
print(df_cup_hist.head())
```



![cupon primeros 5 registros](https://raw.githubusercontent.com/ecandela/pysbs-peru/main/references/imagenes/curva_historico.png)



### pivot_curva_cupon_cero_historico
Adicionalmente, se puede emplear la funcion `pivot_curva_cupon_cero_historico` el cual recibe como par谩metro el resultado de la funci贸n `get_curva_cupon_cero_historico` para generar un pivot:

```python
import pysbs_peru.CuponCero as cc


df_cup_hist_pivot = cc.pivot_curva_cupon_cero_historico(df_cup_hist)
df_cup_hist_pivot.head()

```
![cupon primeros 5 registros](https://raw.githubusercontent.com/ecandela/pysbs-peru/main/references/imagenes/curva_pivot.png)


### `get_tasa_interes_por_dias`

La funci贸n `get_tasa_interes_por_dias` permite calcular, mediante **interpolaci贸n lineal**, las tasas de inter茅s para plazos (d铆as) que no se encuentran disponibles expl铆citamente en la curva de cup贸n cero de la SBS.

Es ideal para obtener tasas ajustadas a plazos espec铆ficos (ej. 45 d铆as) cuando la curva solo ofrece puntos est谩ndar (ej. 30 y 60 d铆as).

###  Ejemplo de uso

```python
import pandas as pd
import pysbs_peru.CuponCero as cc

# 1. Definimos los plazos (d铆as) para los cuales queremos calcular la tasa.
# En este ejemplo, buscamos tasas para 0, 30, 60, 90 y 120 d铆as.
data = {
    "dias": [0, 30, 60, 90, 120],    
}

df_test = pd.DataFrame(data)

# 2. Aplicamos la interpolaci贸n.
# Nota: 'df_cup' es el DataFrame obtenido previamente con get_curva_cupon_cero.
# Se pasa como argumento adicional para realizar el c谩lculo.
df_test['tasas'] = df_test['dias'].apply(
    cc.get_tasa_interes_por_dias, 
    args=(df_cup,)
)

# 3. Visualizar los resultados con las tasas interpoladas
print(df_test.head())
```


![Resultado de interpolaci贸n](https://raw.githubusercontent.com/ecandela/pysbs-peru/main/references/imagenes/interpol.png)

## El modulo VectorPrecioRentaFija 

Puedes ver un ejemplo pr谩ctico en el siguiente notebook:
[ Ver Demo en GitHub](https://github.com/ecandela/pysbs-peru/blob/main/test/Vector%20de%20Precios%20de%20Renta%20fija.ipynb)

### get_vector_precios
La funci贸n  `get_vector_precios` permite acceder al vector de precios de la SBS para una determinada fecha de proceso.


| Parametro | Descripci贸n |
| ------ | ------ |
|fechaProceso| Fecha de procesamiento|
|cboEmisor| Emisor|
|cboMoneda| Tipo de Moneda|
|cboRating| Rating Emisi贸n|


| cboEmisor | Descripci貌n |
| ------ | ------ |
|1000| GOB.CENTRAL|
|2011| ALICORP S.A.|
|0087| BANCO FALABELLA|
|0088| BCO RIPLEY|
|0001| BCRP|
|0011| CONTINENTAL|
|0042| CREDISCOTIA|
|0003| INTERBANK|

*Para conocer los emisores disponibles revisar la funci贸n `get_df_emisores`.



| cboMoneda | Descripci貌n |
| ------ | ------ |
| 1 |   Soles|
| 2 | Soles VAC|
| 3 | Dolares|



| cboRating | 
| ------ | 
|A|
|A+|
|A-|
|AA|
|AA+|
|AA-|
|AAA|
|B-|
|BB|
|CP-1|
|CP-1+|
|CP-1-|
|CP-2|
|CP-2+|

### Ejemplo
```python

import pysbs_peru.VectorPrecioRentaFija as vp 

fechaProceso = '05/12/2025'

#Obtiene el vector de precios de instrumentos de renta fija disponibles en la SBS para una fecha de proceso espec铆fica:
df_vector = vp.get_vector_precios(fechaProceso=fechaProceso)

df_vector.columns.tolist()
```

```json

['Nem贸nico',
 'ISIN/Identif.',
 'Emisor',
 'Moneda',
 'P. Limpio (%)',
 'TIR %',
 'Origen(*)',
 'Spreads',
 'P. Limpio (monto)',
 'P. Sucio (monto)',
 'I.C. (monto)',
 'F. Emisi贸n',
 'F. Vencimiento',
 'Cup贸n (%)',
 'Margen Libor (%)',
 'TIR % S/Opc',
 'Rating Emisi贸n',
 'Ult. Cup贸n',
 'Prox. Cup贸n',
 'Duraci贸n',
 'Var  PLimpio',
 'Var PSucio',
 'Var Tir']
```

```python

#Exhibiendo los primeros 5 registros del vector de precios:
df_vector.head()
```

![Vector de precio](https://raw.githubusercontent.com/ecandela/pysbs-peru/main/references/imagenes/vector.PNG)



### get_df_emisores
La funci贸n  `get_df_emisores` permite obtener todos los emisores disponibles del vector de precios de la SBS.

### Ejemplo
```python

import pysbs_peru.VectorPrecioRentaFija as vp 

#Obtiene el historico de precios del asset con isin PEP21400M064
df_emisores = vp.get_df_emisores()

df_emisores.head()
```

![df_emisores](https://raw.githubusercontent.com/ecandela/pysbs-peru/main/references/imagenes/df_emisores.png)


### get_precios_by_isin
La funci贸n  `get_precios_by_isin` permite acceder a los datos hist贸ricos de precios para un determinado c贸digo ISIN.


| Parametro | Descripci贸n |
| ------ | ------ |
|isin| c贸digo isin del asset|


### Ejemplo
```python

import pysbs_peru.VectorPrecioRentaFija as vp 


#Obtiene el historico de precios del asset con isin PEP21400M064
df_precios = vp.get_precios_by_isin("PEP21400M064")

df_precios.head()
```

![precios_asset](https://raw.githubusercontent.com/ecandela/pysbs-peru/main/references/imagenes/precios_asset.png)


---
##  M贸dulo IndiceSpreadsCorporativo

Puedes ver un ejemplo pr谩ctico en el siguiente notebook:
[ Ver Demo en GitHub](https://github.com/ecandela/pysbs-peru/blob/main/test/Indices%20de%20Spreads%20Corporativo.ipynb)

### `get_indice_spreads_corporativo`

La funci贸n `get_indice_spreads_corporativo` permite acceder a los 铆ndices de spread corporativo de la SBS.

**Par谩metros**

| Par谩metro | Tipo | Descripci贸n | Formato / Ejemplo |
| :--- | :---: | :--- | :--- |
| `fechaInicio` | `str` | Fecha de inicio del rango de consulta. | `"dd/mm/yyyy"` |
| `fechaFin` | `str` | Fecha final del rango de consulta. | `"dd/mm/yyyy"` |
| `tipoCurva` | `str` | C贸digo del tipo de curva deseada. | Ver tabla inferior |

**Tipos de Curva (`tipoCurva`)**

| C贸digo | Descripci贸n |
| :--- | :--- |
| **CBCRS** | Curva Cup贸n Cero CD BCRP |
| **CCSDF** | Curva Cup贸n Cero D贸lares CP |
| **CSBCRD** | Curva Cup贸n Cero D贸lares Sint茅tica |
| **CCINFS** | Curva Cup贸n Cero Inflaci贸n Soles BCRP |
| **CCCLD** | Curva Cup贸n Cero Libor D贸lares |
| **CCPEDS** | Curva Cup贸n Cero Per煤 Exterior D贸lares - Soberana |
| **CCPSS** | Curva Cup贸n Cero Per煤 Soles Soberana |
| **CCPVS** | Curva Cup贸n Cero Per煤 Vac Soberana |

###  Ejemplo de uso

```python
import pysbs_peru.IndiceSpreadsCorporativo as isc 

# Par谩metros de consulta
tp_curva = 'CCPSS'
fecha_inicio = '04/08/2023'
fecha_fin = '04/08/2023'

# Obtiene los 铆ndices de spread corporativo de la SBS para el rango espec铆fico
df_isc = isc.get_indice_spreads_corporativo(
    tipoCurva=tp_curva,
    fechaInicio=fecha_inicio, 
    fechaFin=fecha_fin
)

# Visualizar los primeros registros
df_isc.head()
```

![IndiceSpreadsCorporativo](https://raw.githubusercontent.com/ecandela/pysbs-peru/main/references/imagenes/indicecorp.png)


---

##  Valorizaci贸n de Bonos

Puedes ver un ejemplo pr谩ctico en el siguiente notebook:
[ Ver Demo en GitHub](https://github.com/ecandela/pysbs-peru/blob/main/test/Valorizacion%20de%20Bonos.ipynb)

## Feedback

La mejor manera de enviar comentarios es crear un problema en https://github.com/ecandela/pysbs-peru/issues.
Si est谩s proponiendo una caracter铆stica:

- Explica detalladamente c贸mo funcionar铆a.
- Mant茅n el alcance lo m谩s limitado posible para facilitar la implementaci贸n.
- Recuerda que este es un proyecto impulsado por voluntarios y que las contribuciones son bienvenidas :)
