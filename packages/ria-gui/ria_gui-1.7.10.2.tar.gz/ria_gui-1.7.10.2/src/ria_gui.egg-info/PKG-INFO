Metadata-Version: 2.4
Name: ria-gui
Version: 1.7.10.2
Summary: RIA: Ratio Imaging Analyzer for biological quantification
Author: Kui Wang
Author-email: k@cns.ac.cn
Maintainer-email: Kui Wang <k@cns.ac.cn>
License: MIT License
Project-URL: Homepage, https://github.com/Epivitae/RatioImagingAnalyzer
Project-URL: Documentation, https://github.com/Epivitae/RatioImagingAnalyzer/wiki
Project-URL: Source, https://github.com/Epivitae/RatioImagingAnalyzer
Project-URL: Issues, https://github.com/Epivitae/RatioImagingAnalyzer/issues
Keywords: imaging,biology,quantification,ratio,gui,fluorescence
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Topic :: Scientific/Engineering :: Image Processing
Classifier: Topic :: Scientific/Engineering :: Bio-Informatics
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: numpy
Requires-Dist: matplotlib
Requires-Dist: tifffile
Requires-Dist: opencv-python
Requires-Dist: requests
Dynamic: license-file

<div align="center">
  <img src="https://raw.githubusercontent.com/Epivitae/RatioImagingAnalyzer/main/src/ria_gui/assets/app_ico.png" width="120" alt="Logo">

  <h1>Ratio Imaging Analyzer (RIA / Ëéâ‰∏´)</h1>

  <p>
    <a href="https://pypi.org/project/ria-gui/"><img src="https://img.shields.io/pypi/v/ria-gui?color=blue" alt="PyPI"></a>
    <a href="https://joss.theoj.org/papers/@epivitae"><img src="https://joss.theoj.org/papers/please-replace-with-your-id/status.svg" alt="Status"></a>
    <a href="https://doi.org/10.5281/zenodo.18091693"><img src="https://img.shields.io/badge/DOI-10.5281%2Fzenodo.18091693-0099CC" alt="DOI"></a>
    <a href="https://www.python.org/downloads/"><img src="https://img.shields.io/badge/python-3.8%2B-3776AB?logo=python&logoColor=white" alt="Python"></a>
    <a href="LICENSE"><img src="https://img.shields.io/github/license/Epivitae/RatioImagingAnalyzer?color=yellow" alt="License"></a>
  </p>

  <p>
    <a href="https://github.com/Epivitae/RatioImagingAnalyzer/actions/workflows/test.yml"><img src="https://img.shields.io/github/actions/workflow/status/Epivitae/RatioImagingAnalyzer/test.yml?branch=main&label=tests&color=brightgreen" alt="Tests"></a>
    <a href="https://opensource.org/"><img src="https://img.shields.io/badge/Open_Source-Yes-2ea44f?logo=open-source-initiative&logoColor=white" alt="Open Source"></a>
    <img src="https://img.shields.io/github/repo-size/Epivitae/RatioImagingAnalyzer?color=ff69b4" alt="Size">
    <img src="https://img.shields.io/endpoint?color=blueviolet&url=https://gist.githubusercontent.com/Epivitae/65b61a32eaccf5de9624892da2ddd0d8/raw/gistfile1.txt" alt="LOC">
    <img src="https://visitor-badge.laobi.icu/badge?page_id=Epivitae.RatioImagingAnalyzer" alt="Visitors">
  </p>
</div>

---


**Meet RIA (or as we affectionately call her, "Li Ya / Ëéâ‰∏´").**

RIA is an open-source tool built to solve a simple but annoying problem: **Ratiometric analysis shouldn't be stuck on the microscope computer.**

Ratiometric imaging (like FRET or sensors for Tryptophan/pH/Ca¬≤‚Å∫) is amazing for normalizing data, but analyzing it usually requires expensive commercial software (like MetaMorph or NIS-Elements) that is locked to a specific workstation with a dongle.

We built RIA so you can take your TIFF stacks, go to a coffee shop (or just your desk), and run rigorous analysis on your own laptop‚Äîno coding required.

<p align="center">
  <img src="https://raw.githubusercontent.com/Epivitae/RatioImagingAnalyzer/main/src/ria_gui/assets/figure/analysis.gif" width="600" alt="RIA Interface showing trace analysis">
</p>


[Image of fluorescence ratiometric imaging process diagram]


## üí° Why use RIA?

* **Analysis Unchained**: Stop queuing for the lab workstation. RIA is a standalone executable that runs on standard PCs.
* **Math Done Right**: Calculating ratios isn't just `A / B`. Biological images have edges and noise. We implemented a **normalized convolution algorithm** that handles `NaN` (Not a Number) values correctly. This means your data doesn't get eroded or corrupted at cell boundaries‚Äîa common issue in simple script-based analysis.
* **Zero Coding Needed**: We know not everyone loves Python. RIA has a full GUI for background subtraction, thresholding, and dragging-and-dropping ROIs.
* **Trust Your Data**: We don't hide the numbers. You get the visual stacks, but you also get the **raw float32 ratio data** and time-series CSVs. You can take these straight to Prism, Origin, or Excel.

## üìÅ Project Structure

```text
RatioImagingAnalyzer/
‚îú‚îÄ‚îÄ data/               # Sample TIFFs so you can try it out immediately
‚îú‚îÄ‚îÄ paper/              # JOSS submission files
‚îú‚îÄ‚îÄ src/ria_gui         # The actual code
‚îÇ   ‚îú‚îÄ‚îÄ main.py         # Start here
‚îÇ   ‚îú‚îÄ‚îÄ gui.py          # The frontend logic
‚îÇ   ‚îú‚îÄ‚îÄ processing.py   # The math/algorithm heavy lifting
‚îÇ   ‚îî‚îÄ‚îÄ components.py   # UI Widgets
‚îú‚îÄ‚îÄ tests/              # Automated tests to keep bugs away
‚îî‚îÄ‚îÄ requirements.txt    # Dependencies
```

## üöÄ Installation

### Option 1: Install via PyPI (Recommended for Pythoners)

RIA is available on the Python Package Index. Open your terminal and run:

```bash
pip install ria-gui
```
Once installed, simply type the following command to launch the software:
```bash
ria
```


### Option 2: Running from Source (Recommended for Developers/Reviewers)

1. **Clone the repository:**
   ```bash
   git clone https://github.com/Epivitae/RatioImagingAnalyzer.git
   cd RatioImagingAnalyzer
   ```

2. **Install dependencies:**
   It is recommended to use a virtual environment.

   ```bash
   pip install -r requirements.txt
   ```
3. **Run the application:**
   The source code is located in the `src` directory:

   ```bash
   python src/ria_gui/main.py
   ```

### Option 3: Standalone Executable (For End Users)

Check the [Releases](https://github.com/Epivitae/RatioImagingAnalyzer/releases) page to download the latest compiled `.exe` file for Windows. No Python installation is required.

## üìñ Usage Example

To test the software, you can use the sample data provided in the `data/` directory.

1. **Launch RIA** : 
   * pip: `ria`, 
   * git clone: `python src/ria_gui/main.py`
   * exe: doble click only!
2. **Load Files**:
   1. Separate Files model:
   * Click **üìÇ Ch1** and select `data/C1.tif`.
   * Click **üìÇ Ch2** and select `data/C2.tif`.
   * Click **üöÄ Load & Analyze**.
   2. Single File with Dual Channels:
   * Select Dual-Ch File.
   * Click **üöÄ Load & Analyze**.
   * **Confirm** the channels arrangement.
3. **Run Motion Correction** if needed.

4. **Adjust Parameters**:
   * Set **BG %** (Background Subtraction) to ~5-10%.
   * Adjust **Int. Min** (Intensity Threshold) to remove background noise.
   * *(Optional)* Enable **Log Scale** if the dynamic range is large.
5. **Analyze**:
   * Click **‚úèÔ∏è New** or use `Ctrl + T` as a short-cut in the "ROI & Measurement" panel.
   * Draw a ROI on the cell of interest.
   * Cilck **Plot Curve** and **Live Monitor**, a curve window will pop up showing the ratio/intensity change over time.

## üß™ Testing

This project uses `pytest` to ensure algorithm accuracy. The tests are located in the `tests/` directory.

To run the automated tests:

```bash
python -m pytest tests/
```

## ü§ù Contributing

Contributions are welcome! If you encounter any bugs or have feature requests, please check the [Issue Tracker](https://github.com/Epivitae/RatioImagingAnalyzer/issues) or submit a Pull Request.

## üìÑ License

Distributed under the MIT License. See `LICENSE` for more information.

## üìö References & Dependencies

This software relies on the following open-source libraries and methods:

* **Methodology**: Tao, R., Wang, K., et al. (2023). A genetically encoded ratiometric indicator for tryptophan. *Cell Discovery*, 9, 106. [DOI: 10.1038/s41421-023-00608-1](https://doi.org/10.1038/s41421-023-00608-1)
* **NumPy**: Harris, C. R., et al. (2020). Array programming with NumPy. *Nature*, 585(7825), 357‚Äì362. [DOI: 10.1038/s41586-020-2649-2](https://doi.org/10.1038/s41586-020-2649-2)
* **SciPy**: Virtanen, P., et al. (2020). SciPy 1.0: Fundamental Algorithms for Scientific Computing in Python. *Nature Methods*, 17, 261‚Äì272. [DOI: 10.1038/s41592-019-0686-2](https://doi.org/10.1038/s41592-019-0686-2)
* **Matplotlib**: Hunter, J. D. (2007). Matplotlib: A 2D graphics environment. *Computing in Science & Engineering*, 9(3), 90‚Äì95. [DOI: 10.1109/MCSE.2007.55](https://doi.org/10.1109/MCSE.2007.55)
* **Tifffile**: Gohlke, C. (2023). tifffile. PyPI. [URL](https://pypi.org/project/tifffile/)
* **Fiji (Inspiration)**: Schindelin, J., et al. (2012). Fiji: an open-source platform for biological-image analysis. *Nature Methods*, 9(7), 676‚Äì682.

## Citation

If you use **RIA** in your research, please cite it as:

> Wang, K. (2025). Ratio Imaging Analyzer (RIA): A Lightweight, Standalone Python Tool for Portable Ratiometric Fluorescence Analysis (v1.7.10.1). Zenodo. https://doi.org/10.5281/zenodo.18107966

Or use the BibTeX entry:

```bibtex
@software{Wang_RIA_2025,
  author = {Wang, Kui},
  title = {{Ratio Imaging Analyzer (RIA): A Lightweight, Standalone Python Tool for Portable Ratiometric Fluorescence Analysis}},
  month = dec,
  year = {2025},
  publisher = {Zenodo},
  version = {v1.7.10.1},
  doi = {10.5281/zenodo.18107966},
  url = {[https://doi.org/10.5281/zenodo.18107966](https://doi.org/10.5281/zenodo.18107966)}
}
